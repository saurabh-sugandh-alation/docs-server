
<!DOCTYPE html>
<html lang="" >
<head>
  <meta charset="utf-8"/>
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="book-version"      content=""/>
  <meta name="book-release"      content=""/>
  <meta name="docsearch:name"    content="Alation User Guide" />
  <meta name="docsearch:version" content="" />
  <meta name="docsearch:package_type" content="" />
	<meta name="robots" content="noindex" />

  
  <title>Virtual Data Source for NoSQL Databases &mdash; Alation User Guide</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  

  

  
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/main.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/sphinx_collapse.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/rtd_sphinx_search.min.css" type="text/css" />
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="Alation User Guide" href="#"/>
        <link rel="up" title="Virtual Data Sources" href="index.html"/>
        <link rel="next" title="Adding a NoSQL Virtual Data Source" href="AddNoSQLVirtualDataSource.html"/>
        <link rel="prev" title="Virtual Data Sources" href="index.html"/>

	

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-67846571-1"></script>
	<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());

	gtag('config', 'UA-67846571-1');
	</script>

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<!-- Second Google Analytics tag to assist mapping with mattermost.com visits --> 
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-120238482-1"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'UA-120238482-1');
	</script>


</head>

<body class="wy-body-for-nav" role="document">

  <header>
    <div class="header__container wy-max-content-width">
        <a href="/" class="header__logo">
            <img width="176" src="../../_static/img/logo-alation.svg" alt="Alation" />
        </a>
        <ul class="header__links">
            <li><a href="https://help.alation.com/s/">Alation Help Center</a></li>
        </ul>
    </div>
</header>

  <div class="wy-grid-for-nav wy-max-content-width">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-scroll__content">
          <div class="wy-side-nav-search">
            

            <ul class="sidebartop">
              <li class="nolink search"><div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search this project" aria-label="Search this project" id="searchinput" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
</li>

            </ul>

            
          </div>

          <div class="wy-menu wy-sidebar wy-sidebar--hidden" data-spy="affix" role="navigation" aria-label="main navigation">
            
              
              
              
                  <p class="caption" role="heading"><span class="caption-text">Welcome to Alation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/About/index.html">About Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/CloudAndOnPrem/index.html">Alation Cloud and On-Premise</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/UserProfileandPreferences/index.html">User Profile and Preferences</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/CatalogBasics/index.html">Catalog Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/CatalogPages/index.html">Catalog Pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Conversations/index.html">Conversations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Domains/index.html">Domains</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/BestPractices/index.html">Best Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Glossary/index.html">Alation Glossary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation Cloud Service</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/StatusPage/index.html">Status Page</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/CloudOverview/index.html">Cloud Service Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/CloudConfiguration/index.html">Configuration for Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/AlationAgent/index.html">Alation Agent</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation Integration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../integration/AlationAnywhere/index.html">Alation Anywhere</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../integration/AlationConnectedSheets/index.html">Alation Connected Sheets</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installation &amp; Configuration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/ServerInstallation/index.html">Install Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/HighAvailability/index.html">High Availability</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/Update/index.html">Update Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/BackupandRestore/index.html">Back Up and Restore</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/LineageV2/index.html">Lineage V2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/LineageV3/index.html">Lineage V3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/AlationAnalyticsV2/index.html">Alation Analytics V2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/AlationContainerService/index.html">Alation Container Service</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Sources</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../CatalogSources/index.html">Catalog Sources</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Virtual Data Sources</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Virtual Data Source for NoSQL Databases</a></li>
<li class="toctree-l2"><a class="reference internal" href="AddNoSQLVirtualDataSource.html">Adding a NoSQL Virtual Data Source</a></li>
<li class="toctree-l2"><a class="reference internal" href="AvroDataTypesSupport.html">Avro Data Types Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="ViewAvroSchemaCatalogPage.html">Viewing the Avro Schema Catalog Page</a></li>
<li class="toctree-l2"><a class="reference internal" href="ViewNoSQLSchemasinVirtualDataSources.html">Viewing NoSQL Schemas in Virtual Data Sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="SchemaVersioningforNoSQLVirtualDataSources.html">Schema Versioning for NoSQL Virtual Data Sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="LoadMetadataintoNoSQLVirtualDataSource.html">Loading Metadata into a NoSQL Virtual Data Source</a></li>
<li class="toctree-l2"><a class="reference internal" href="PopulateVirtualDataSourcefromCSVFile.html">Populating a Virtual Data Source From a CSV File</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Lineage/index.html">Lineage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../APIResources/index.html">API Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../WorkwithCatalogData/index.html">Working with Catalog Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../OpenConnectorFramework/index.html">Open Connector Framework</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Data Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/DSConfiguration/index.html">Data Source Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/AddDataSources/index.html">Adding Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/ComposeSSOAWSDataSources/index.html">Compose SSO for Amazon Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/ComposeSSOAzureDataSources/index.html">Compose SSO for Azure Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/AuthenticationForExtraction/index.html">Authentication for Extraction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/CustomDB/index.html">Custom DB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/GBQ/index.html">Google BigQuery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/Hive/index.html">Hive</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">BI Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/AddBISources/index.html">Add BI Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/AddTableauServer/index.html">Add Tableau Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/WorkwithBISources/index.html">Working with BI Sources</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">File System Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../filesystems/FileSystems/index.html">Add File Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../filesystems/VirtualFileSystems/index.html">Virtual File Systems</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Analysts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/UserAuthenticationForDataSources/index.html">User Authentication for Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/ShareAndAccessQueries/index.html">Share and Access Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/WriteQueries/index.html">Write Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/DevelopQueries/index.html">Develop Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/WorkwithQueryResults/index.html">Work with Query Results</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Data Stewards</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../steward/GovernanceApp/index.html">Governance App</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/PolicyCenter/index.html">Policy Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/Workflow/index.html">Workflow Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/GovernanceDashboard/index.html">Governance Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/StewardshipWorkbench/index.html">Stewardship Workbench</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/AnalyticsStewardship/index.html">Analytics Stewardship</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/Glossary/index.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/ArticlesAndTags/index.html">Articles and Tags</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/ArticleGroups/index.html">Article Groups</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/DataCatalogCustomization/index.html">Customize Your Data Catalog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/DataDocumentation/index.html">Data Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/AutoTitlingandLexicon/index.html">Auto-titling and Lexicon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/SnowflakeTags/index.html">Snowflake Tags</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Server Administrators</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../admins/CustomizableHomePage/index.html">Customizable Homepage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AdminSettings/index.html">Administrator Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AdditionalConfiguration/index.html">Additional Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/RunbookForAdministrators/index.html">Runbook for Administrators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AlationAPIs/index.html">Alation APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/How-tos/index.html">How-tos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/Troubleshooting/index.html">Troubleshooting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Release Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../releases/releasenotes/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/supportmatrices/index.html">Support Matrices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/endofsupport/index.html">End Of Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/snowflakeclladdon/index.html">Snowflake Parser Add-On</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/fieldnotices/index.html">Important Notices and Security Alerts</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Archived Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../archive/About/index.html">About the Documentation Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/AdminConfig/index.html">Administration and Update Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/ReleaseNotes/index.html">Release Notes Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/Usage/index.html">Usage and Customization Archive</a></li>
</ul>

              
            
          </div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="wy-nav-top-icon"></i>
        <a href="../../index.html">Alation User Guide</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">

          <div role="navigation" aria-label="breadcrumbs" class="breadcrumbs">
    <a href="../../index.html">Docs</a>
    <span class="separator">&gt;</span>
    <a href="index.html">Virtual Data Sources</a>
    <span class="separator">&gt;</span>
    <span>Virtual Data Source for NoSQL Databases</span>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody" class="toBeIndexed">
            
  <section id="virtual-data-source-for-nosql-databases">
<h1>Virtual Data Source for NoSQL Databases<a class="headerlink" href="#virtual-data-source-for-nosql-databases" title="Permalink to this headline">¶</a></h1>
<p class="cloud-label hover-text">Alation Cloud Service <span class="tooltip-text">Applies to Alation Cloud Service instances of Alation</span></p>
<p class="on-prem-label hover-text">Customer Managed <span class="tooltip-text">Applies to customer-managed instances of Alation</span></p>
<p><em>Available from release V R5 (5.9.x)</em></p>
<p>You can catalog a NoSQL database in Alation using the <strong>Virtual Data
Source</strong> (VDS) functionality and the <a class="reference external" href="https://developer.alation.com/dev/reference/nosql-apis#create-a-nosql-catalog">dedicated API</a>.
Alation does not provide automated metadata extraction (MDE) for virtual
data sources, and you will need to use the API to upload metadata.
The structure of the uploaded metadata must meet several
requirements.</p>
<p>To catalog your NoSQL data source,</p>
<ol class="arabic simple">
<li><p>Make sure you have enabled NoSQL support in your Alation catalog: <a class="reference internal" href="#enabling-nosql-data-source-support">Enabling NoSQL Data Source Support</a>.</p></li>
<li><p>Add a Virtual Data Source (VDS) of NoSQL type: <a class="reference internal" href="AddNoSQLVirtualDataSource.html"><span class="doc">Adding a NoSQL Virtual Data Source</span></a>.</p></li>
<li><p>Use NoSQL API to load the metadata: <a class="reference internal" href="#notes-on-nosql-api">Notes on NoSQL API</a>.</p></li>
<li><p>View and describe the uploaded metadata in the Alation catalog under this VDS.</p></li>
</ol>
<section id="enabling-nosql-data-source-support">
<h2>Enabling NoSQL Data Source Support<a class="headerlink" href="#enabling-nosql-data-source-support" title="Permalink to this headline">¶</a></h2>
<p>NoSQL support is behind the feature flag
<code class="docutils literal notranslate"><span class="pre">alation.feature_flags.enable_generic_nosql_support</span></code> that can be enabled using <code class="docutils literal notranslate"><span class="pre">alation_conf</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You need SSH access to your Alation instance to enable feature flags.</p>
</div>
<p>To enable support of NoSQL data sources,</p>
<ol class="arabic simple">
<li><p>SSH into your Alation instance and enter the Alation shell:</p></li>
</ol>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>/etc/init.d/alation<span class="w"> </span>shell
</pre></div>
</div>
<p>If this command fails with error <code class="docutils literal notranslate"><span class="pre">chroot</span> <span class="pre">:</span> <span class="pre">failed</span> <span class="pre">to</span> <span class="pre">run</span> <span class="pre">command</span> <span class="pre">'su':</span> <span class="pre">No</span> <span class="pre">such</span> <span class="pre">file</span> <span class="pre">or</span> <span class="pre">directory</span></code>, try:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>service<span class="w"> </span>alation<span class="w"> </span>shell
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>Run the following command to set the feature flag to <code class="docutils literal notranslate"><span class="pre">True</span></code>:</p></li>
</ol>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>alation_conf<span class="w"> </span>alation.feature_flags.enable_generic_nosql_support<span class="w"> </span>-s<span class="w"> </span>True
</pre></div>
</div>
</div></blockquote>
<p>3. Restart uWSGI and Celery:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>alation_supervisor<span class="w"> </span>restart<span class="w"> </span>web:uwsgi<span class="w"> </span>celery:*
</pre></div>
</div>
</div></blockquote>
</section>
<section id="nosql-vds-structure-in-alation">
<h2>NoSQL VDS Structure in Alation<a class="headerlink" href="#nosql-vds-structure-in-alation" title="Permalink to this headline">¶</a></h2>
<p>A Generic NoSQL virtual data source (VDS) in Alation is modeled as a set
of top-level folders, each having at least one collection. Each
collection can have one or multiple schemas. The schemas in
collections are used to describe the structure of the documents in your
noSQL database:</p>
<a class="reference internal image-reference" href="../../_images/No_SQL_APIStructue.png"><img alt="../../_images/No_SQL_APIStructue.png" class="align-center" src="../../_images/No_SQL_APIStructue.png" style="width: 3.0in;" /></a>
<p>Before you can upload any metadata, you need to create your VDS in
Alation. See  <a class="reference internal" href="AddNoSQLVirtualDataSource.html"><span class="doc">Adding a NoSQL Virtual Data Source</span></a>  for steps. After that, use the NoSQL API to upload the metadata.</p>
</section>
<section id="notes-on-nosql-api">
<h2>Notes on NoSQL API<a class="headerlink" href="#notes-on-nosql-api" title="Permalink to this headline">¶</a></h2>
<p>To be uploaded using the API, the metadata for your NoSQL virtual data
source must be represented as a single JSON object that includes such
objects as folders, collections, and schemata, with the actual schemas
wrapped in the schemata keys and represented in either JSON or Avro
format (Avro support is available from release <em>V R6 (5.10.x)</em>).</p>
<p>This JSON object will be passed in the body of the API POST call.</p>
<section id="required-json-structure">
<h3>Required JSON Structure<a class="headerlink" href="#required-json-structure" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Top level is the <em>folders</em> key having the list of folder
objects, each of them with the name property that defines the
name of this folder object. It also has
the <em>collections</em>  key.</p></li>
<li><p>The <em>collections</em>  key has the list of collection objects,
each of them with the <em>name</em> property that defines the name of this
collection object, and the <em>schemata</em> key.</p></li>
<li><p>The <em>schemata</em> key has a list of schema objects, each of them
with the <em>name</em> property, having the name of the schema, and
the <em>definition</em> property having the JSON schema object.</p></li>
<li><p>If you are using JSON to describe the schema, the schemata
property must include the name and definition properties.
The <em>name</em> property defines the name of the schema, and
the <em>definition</em> property has the JSON schema object.
See  <a class="reference internal" href="#creating-the-api-request-body-with-json">Creating the API Request Body with JSON</a></p></li>
<li><p>If you are using Avro to describe the schema, the schemata
property must have your schema in Avro format. See  <a class="reference internal" href="AvroDataTypesSupport.html"><span class="doc">Avro Data Types Support</span></a>.</p></li>
</ul>
<p><em>NoSQL API Call Body JSON Structure</em>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">{</span>
<span class="w">   </span><span class="s2">&quot;folders&quot;</span>:<span class="w"> </span><span class="o">[</span>
<span class="w">      </span><span class="o">{</span><span class="s2">&quot;name&quot;</span>:<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$folder_name</span><span class="s2">&quot;</span>,
<span class="w">          </span><span class="s2">&quot;collections&quot;</span>:<span class="w"> </span><span class="o">[</span>
<span class="w">              </span><span class="o">{</span><span class="s2">&quot;name&quot;</span>:<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$collection_name</span><span class="s2">&quot;</span>,
<span class="w">                  </span><span class="s2">&quot;schemata&quot;</span>:<span class="w"> </span><span class="o">[</span>...<span class="o">]</span>
<span class="w">                 </span><span class="o">}</span>
<span class="w">               </span><span class="o">]</span>
<span class="w">             </span><span class="o">}</span>
<span class="w">          </span><span class="o">]</span>
<span class="w">       </span><span class="o">}</span>
</pre></div>
</div>
</section>
</section>
<section id="creating-the-api-request-body-with-json">
<h2>Creating the API Request Body with JSON<a class="headerlink" href="#creating-the-api-request-body-with-json" title="Permalink to this headline">¶</a></h2>
<section id="overview">
<h3>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h3>
<p>JSON schemas do not need to be written by hand. Your database management
platform may include an export tool to use to retrieve the database
collections in JSON format. You can use this export tool, if available,
to export all the collections you want to include in the catalog and
then use a JSON schema generator to infer the schemas from.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>One JSON schema generator you can use is <a class="reference external" href="https://pypi.org/project/genson/">Genson</a>.</p>
</div>
<p>After you have the JSON schemas, fill the JSON object structure required
by the API with the JSON schemas of the collections which you want to
upload to Alation. Schemas should be included in the definition key of
the schemata key.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p><code class="docutils literal notranslate"><span class="pre">name</span></code> must be the first attribute in any JSON sub-object.</p>
<p>If you want to reference an object (using <code class="docutils literal notranslate"><span class="pre">$ref</span></code>), then make sure
the <code class="docutils literal notranslate"><span class="pre">definitions</span></code> property for this object appears in the JSON code
before you use this <code class="docutils literal notranslate"><span class="pre">$ref</span></code>.</p>
</div>
<p><em>Sample JSON Body Structure With Schemata</em>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">{</span>
<span class="go"> &quot;folders&quot;: [</span>
<span class="go">   {</span>
<span class="go">     &quot;name&quot;: &quot;$folder_name&quot;,</span>
<span class="go">     &quot;collections&quot;: [</span>
<span class="go">         {</span>
<span class="go">          &quot;name&quot;: &quot;$collection_name&quot;,</span>
<span class="go">          &quot;schemata&quot;: [</span>
<span class="go">             {</span>
<span class="go">              &quot;name&quot;: &quot;$name&quot;,</span>
<span class="go">              &quot;definition&quot;:</span>
<span class="go">                 {</span>
<span class="go">                  &quot;title&quot;: &quot;$title&quot;,</span>
<span class="go">                  &quot;type&quot;: &quot;$type&quot;,</span>
<span class="go">                  &quot;required&quot;: [&quot;$attribute1&quot;, &quot;$attribute2&quot;, &quot;$attribute3&quot;],</span>
<span class="go">                  &quot;properties&quot;:</span>
<span class="go">                     {</span>
<span class="go">                      &quot;$attribute1&quot;: { &quot;type&quot;: &quot;$data_type&quot;},</span>
<span class="go">                      &quot;$attribute2&quot;: { &quot;type&quot;: &quot;$data_type&quot;},</span>
<span class="go">                      &quot;$attribute3&quot;: { &quot;type&quot;: &quot;$data_type&quot;}</span>
<span class="go">                       }</span>
<span class="go">                     }</span>
<span class="go">                   }</span>
<span class="go">                ]</span>
<span class="go">             }</span>
<span class="go">          ]</span>
<span class="go">      }</span>
<span class="go">  ]</span>
<span class="go">}</span>
</pre></div>
</div>
<p>For property definitions, JSON examples, code samples, and detailed API
instructions, refer to the <a class="reference external" href="https://developer.alation.com/dev/reference/nosql-apis#create-a-nosql-catalog">NoSQL API</a> documentation
on Customer Portal (requires a separate login).</p>
</section>
<section id="mongodb-example">
<h3>MongoDB Example<a class="headerlink" href="#mongodb-example" title="Permalink to this headline">¶</a></h3>
<p>You can use this example for steps to create the JSON object for loading
metadata into a MongoDB virtual data source (VDS):</p>
<ol class="arabic simple">
<li><p>Identify the MongoDB instance you want to catalog as a VDS, including authentication details (username/password), server network address, and the database name.</p></li>
<li><p>Connect to the MongoDB server with the Mongo client (usually <strong>/usr/bin/mongo</strong> ) and to list all the databases on the server, run:</p></li>
</ol>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>show<span class="w"> </span>dbs
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p>To verify you have the right database, run:</p></li>
</ol>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>use<span class="w"> </span>&lt;dbname&gt;
show<span class="w"> </span>collections
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="4">
<li><p>Exit the Mongo client console and go back to the OS shell.</p></li>
<li><p>A Mongo installation includes an export tool (usually <strong>/usr/bin/mongoexport</strong>) that can be used to retrieve the collections in JSON format. For example:</p></li>
</ol>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mongoexport<span class="w"> </span>-d<span class="w"> </span><span class="nb">local</span><span class="w"> </span>-c<span class="w"> </span>some_collection<span class="w"> </span>&gt;<span class="w"> </span>schema_file
</pre></div>
</div>
<p>will export the contents of the <code class="docutils literal notranslate"><span class="pre">some_collection</span></code> collection in the
local database into the <code class="docutils literal notranslate"><span class="pre">schema_file</span></code> file.</p>
<p>Run the <code class="docutils literal notranslate"><span class="pre">mongoexport</span></code> command on all collections you want to include
in the catalog.</p>
</div></blockquote>
<ol class="arabic simple" start="6">
<li><p>Use a JSON schema generator to infer the schema from the JSON objects of the collections. If you are using Genson, from the Genson installation directory, run the following command to output the schema of the objects in the schema_file :</p></li>
</ol>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>bin/genson.py<span class="w"> </span>schema_file
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="7">
<li><p>Fill in the required JSON object structure with the JSON schemas according to the <a class="reference external" href="https://developer.alation.com/dev/reference/nosql-apis#create-a-nosql-catalog">NoSQL API</a>.</p></li>
<li><p>When JSON is ready, you can make a POST request to the upload API to load the metadata to a virtual data source. This data source should already exist in Alation.</p></li>
</ol>
</section>
</section>
<section id="related-topics">
<h2>Related Topics<a class="headerlink" href="#related-topics" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><a class="reference internal" href="ViewNoSQLSchemasinVirtualDataSources.html"><span class="doc">Viewing NoSQL Schemas in Virtual Data Sources</span></a></p>
<p><a class="reference internal" href="ViewAvroSchemaCatalogPage.html"><span class="doc">Viewing the Avro Schema Catalog Page</span></a></p>
<p><a class="reference internal" href="AvroDataTypesSupport.html"><span class="doc">Avro Data Types Support</span></a></p>
<p><a class="reference internal" href="PopulateVirtualDataSourcefromCSVFile.html"><span class="doc">Populating a Virtual Data Source From a CSV File</span></a></p>
</div></blockquote>
</section>
</section>


           </div>
          </div>
          <footer>

  
<div class="navigation-bar">

    <div class="navigation navigation--prev">
        
        <a class="navigation__link" href="index.html">
            <button class="navigation__button">
                <i class="icon icon-left"></i>
            </button>
            <div class="navigation__title">
                <span class="heading">Previous</span> <br />Virtual Data Sources
            </div>
        </a>
        
    </div>

    <div class="navigation navigation--next">
        
        <a class="navigation__link" title="Accesskey Alt(+Shift)+p" accesskey="p" href="AddNoSQLVirtualDataSource.html">
            <div class="navigation__title">
                <span class="heading">Next</span> <br />Adding a NoSQL Virtual Data Source
            </div>
            <button class="navigation__button" title="Accesskey Alt(+Shift)+n" accesskey="n">
                <i class="icon icon-right"></i>
            </button>
        </a>
        
    </div>

</div>


</footer>

        </div>
      </div>

    </section>

    <div class="wy-nav-side wy-nav-secondary">
      <div class="wy-side-scroll">
        <div class="wy-side-scroll__content">
          <div class="wy-menu-secondary">
              <div class="comments">
    <a href="mailto:no-reply-docs-feedback@alation.com?subject=Documentation Feedback on sources/VirtualDataSources/VirtualDataSourceforNoSQLDatabases&body=Alation%20welcomes%20your%20comments%20on%20typos,%20content%20accuracy%20and%20completeness,%20and%20whether%20you%20found%20this%20page%20helpful.%20You%20will%20not%20receive%20a%20reply%20to%20this%20email.">
        <i class="icon icon-envelope" aria-hidden="true"></i>Request docs changes
    </a>
    <a href="#open-modal-pdf">
        <i class="icon icon-pdf" aria-hidden="true"></i>Download PDF
    </a>
</div>
              
                <p class="wy-menu-secondary-header">On this page</p>
                <ul>
<li><a class="reference internal" href="#">Virtual Data Source for NoSQL Databases</a><ul>
<li><a class="reference internal" href="#enabling-nosql-data-source-support">Enabling NoSQL Data Source Support</a></li>
<li><a class="reference internal" href="#nosql-vds-structure-in-alation">NoSQL VDS Structure in Alation</a></li>
<li><a class="reference internal" href="#notes-on-nosql-api">Notes on NoSQL API</a><ul>
<li><a class="reference internal" href="#required-json-structure">Required JSON Structure</a></li>
</ul>
</li>
<li><a class="reference internal" href="#creating-the-api-request-body-with-json">Creating the API Request Body with JSON</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#mongodb-example">MongoDB Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#related-topics">Related Topics</a></li>
</ul>
</li>
</ul>

              
            </div>
          </div>
      </div>
    </div>

  </div>

  
  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->

  
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/clipboard.min.js"></script>
      <script type="text/javascript" src="../../_static/copybutton.js"></script>
      <script type="text/javascript" src="../../_static/js/rtd_sphinx_search.min.js"></script>
  
  <script type="text/javascript" src="../../_static/searchtools.js"></script> <script type="text/javascript" id="idPiwikScriptPlaceholder"></script><script type="text/javascript" src="../../_static/js/main.bundle.js"></script>
  <script type="text/javascript" src="../../_static/js/runtime.bundle.js"></script>

  
  

  
    <div id="open-modal-pdf" class="modal-window">
<div>
  <a href="#" title="Close" class="modal-close">Close</a>
  <h4>Alation Documentation PDF</h4>
  <p>This PDF contains all our documentation and is more than <b>120 MB</b> in size. We recommend using an ethernet or Wi-Fi connection for downloading.</p>
  <br>
  <div class="modal-buttons">
    <a href="https://pdf-docs.alation.com/AlationUserDocs.pdf" class="btn-cta btn-cta--primary" target="_blank">
      Download PDF
    </a>
    <a href="#" title="Close" class="btn-cta">Cancel</a>
  </div>
</div>
  

</body>
</html>
<!--3.6.17-->