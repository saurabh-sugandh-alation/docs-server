
<!DOCTYPE html>
<html lang="" >
<head>
  <meta charset="utf-8"/>
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="book-version"      content=""/>
  <meta name="book-release"      content=""/>
  <meta name="docsearch:name"    content="Alation User Guide" />
  <meta name="docsearch:version" content="" />
  <meta name="docsearch:package_type" content="" />
	<meta name="robots" content="noindex" />

  
  <title>Azure Blob Storage OCF Connector: Install and Configure &mdash; Alation User Guide</title>
  

  
  
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
  

  

  
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/css/main.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/sphinx_collapse.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/copybutton.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/css/rtd_sphinx_search.min.css" type="text/css" />
        <link rel="search" title="Search" href="../../../search.html"/>
    <link rel="top" title="Alation User Guide" href="#"/>
        <link rel="up" title="Azure Blob Storage OCF Connector" href="index.html"/>
        <link rel="next" title="Azure Blob Storage OCF Connector: Azure Service Principal Authentication" href="AzureServicePrincipalAuthentication.html"/>
        <link rel="prev" title="Azure Blob Storage OCF Connector: Overview" href="AzureBlobStorageOCFConnectorOverview.html"/>

	

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-67846571-1"></script>
	<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());

	gtag('config', 'UA-67846571-1');
	</script>

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<!-- Second Google Analytics tag to assist mapping with mattermost.com visits --> 
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-120238482-1"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'UA-120238482-1');
	</script>


</head>

<body class="wy-body-for-nav" role="document">

  <header>
    <div class="header__container wy-max-content-width">
        <a href="/" class="header__logo">
            <img width="176" src="../../../_static/img/logo-alation.svg" alt="Alation" />
        </a>
        <ul class="header__links">
            <li><a href="https://help.alation.com/s/">Alation Help Center</a></li>
        </ul>
    </div>
</header>

  <div class="wy-grid-for-nav wy-max-content-width">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-scroll__content">
          <div class="wy-side-nav-search">
            

            <ul class="sidebartop">
              <li class="nolink search"><div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search this project" aria-label="Search this project" id="searchinput" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
</li>

            </ul>

            
          </div>

          <div class="wy-menu wy-sidebar wy-sidebar--hidden" data-spy="affix" role="navigation" aria-label="main navigation">
            
              
              
              
                  <p class="caption" role="heading"><span class="caption-text">Welcome to Alation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../welcome/About/index.html">About Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../welcome/CloudAndOnPrem/index.html">Alation Cloud and On-Premise</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../welcome/UserProfileandPreferences/index.html">User Profile and Preferences</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../welcome/CatalogBasics/index.html">Catalog Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../welcome/CatalogPages/index.html">Catalog Pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../welcome/Conversations/index.html">Conversations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../welcome/Domains/index.html">Domains</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../welcome/BestPractices/index.html">Best Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../welcome/Glossary/index.html">Alation Glossary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation Cloud Service</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../cloud/StatusPage/index.html">Status Page</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cloud/CloudOverview/index.html">Cloud Service Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cloud/CloudConfiguration/index.html">Configuration for Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cloud/AlationAgent/index.html">Alation Agent</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation Integration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../integration/AlationAnywhere/index.html">Alation Anywhere</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../integration/AlationConnectedSheets/index.html">Alation Connected Sheets</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installation &amp; Configuration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../installconfig/ServerInstallation/index.html">Install Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installconfig/HighAvailability/index.html">High Availability</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installconfig/Update/index.html">Update Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installconfig/BackupandRestore/index.html">Back Up and Restore</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installconfig/LineageV2/index.html">Lineage V2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installconfig/LineageV3/index.html">Lineage V3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installconfig/AlationAnalyticsV2/index.html">Alation Analytics V2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installconfig/AlationContainerService/index.html">Alation Container Service</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Sources</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../CatalogSources/index.html">Catalog Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../VirtualDataSources/index.html">Virtual Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Lineage/index.html">Lineage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../APIResources/index.html">API Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../WorkwithCatalogData/index.html">Working with Catalog Data</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Open Connector Framework</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../OCFOverview.html">Open Connector Framework (OCF) Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../OCFInstallAlationConnectorManager.html">Install Alation Connector Manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="../AutoInstallDockerAsDependency.html">Auto-Install Docker as Alation Connector Manager Dependency</a></li>
<li class="toctree-l2"><a class="reference internal" href="../InstallDocker2020_3_To_2021_1.html">Install Docker for Alation Versions 2020.3.x - 2021.1.x</a></li>
<li class="toctree-l2"><a class="reference internal" href="../OCFInstallBIConnectors.html">Install OCF BI Connectors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ManageConnectors.html">Manage Connectors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../OCFMaintainConnectors.html">Maintaining OCF Connectors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../OCFConnectorCatalogUserExperience.html">OCF Connector Catalog User Experience</a></li>
<li class="toctree-l2"><a class="reference internal" href="../OCFTroubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../MigrateNativeSourcestoOCF/index.html">Migrate Native Sources to Open Connector Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ConfigureSecretsforOCFConnectors/index.html">Configure Secrets for OCF Connector Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ConfigureAuthWithIAMRole.html">Configure Authentication via AWS STS and an IAM Role</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ConfigureMDEforOCFDataSources.html">Configure Metadata Extraction for OCF Data Sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ConfigureSamplingforOCFDataSources.html">Configure Sampling and Profiling for OCF Data Sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ConfigureComposeforOCFDataSources.html">Configure Compose for OCF Data Sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SchemaPathPattern.html">Schema Path Pattern</a></li>
<li class="toctree-l2"><a class="reference internal" href="../BIConnectionInfoField.html">BI Connection Info</a></li>
<li class="toctree-l2"><a class="reference internal" href="../RecreateDatabricksInitScriptUnderWorkspace.html">Recreate Databricks Logging Script Under Workspace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../AthenaOCFConnector/index.html">Amazon Athena OCF Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../AWSGlue/index.html">AWS Glue OCF Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../AWSS3/index.html">Amazon S3 OCF Connector</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Azure Blob Storage OCF Connector</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="AzureBlobStorageOCFConnectorOverview.html">Azure Blob Storage OCF Connector: Overview</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Azure Blob Storage OCF Connector: Install and Configure</a></li>
<li class="toctree-l3"><a class="reference internal" href="AzureServicePrincipalAuthentication.html">Azure Blob Storage OCF Connector: Azure Service Principal Authentication</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../AzureDatabricks/index.html">Azure Databricks OCF Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../AzureSQLDBOCFConnector/index.html">Azure SQL DB OCF Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../AzureSynapseOCFConnector/index.html">Azure Synapse Analytics OCF Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../DatabricksonAWS/index.html">Databricks on AWS OCF Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../DatabricksUnityCatalog/index.html">Databricks Unity Catalog OCF Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../DBT/index.html">Add-On OCF Connector for dbt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Denodo/index.html">Denodo OCF Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../GBQOCFConnector/index.html">Google BigQuery OCF Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Greenplum/index.html">Greenplum OCF Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../HiveOCFConnector/index.html">Hive OCF Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../IBMDb2/index.html">IBM Db2 Database OCF Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ImpalaOnCDH_OCFConnector/index.html">Impala on CDH OCF Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ImpalaOnCDP_OCFConnector/index.html">Impala on CDP OCF Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../InformaticaPowerCenter/index.html">Informatica PowerCenter OCF Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../MySQL/index.html">MySQL OCF Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Looker/index.html">Looker OCF Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../OracleOCFConnector/index.html">Oracle OCF Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../PostgreSQLOCFConnector/index.html">PostgreSQL OCF Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../PowerBIOCFConnector/index.html">Azure Power BI OCF Connector (Legacy)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../PowerBIScannerOCFConnector/index.html">Azure Power BI Scanner OCF Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../QlikSense/index.html">QlikSense OCF Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Redshift/index.html">Amazon Redshift OCF Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SAPASE/index.html">SAP ASE (Sybase ASE) OCF Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SAPBOConnector/index.html">SAP BusinessObjects OCF Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SAPBWConnector/index.html">SAP BW OCF Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SAPECC/index.html">SAP ECC OCF Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SAPHANA/index.html">SAP HANA OCF Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SAPIQ/index.html">SAP IQ OCF Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SingleStore/index.html">SingleStore OCF Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Snowflake/index.html">Snowflake OCF Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SQLServer/index.html">SQL Server OCF Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SSRS/index.html">SSRS OCF Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../StarburstOCFConnector/index.html">Starburst Enterprise (Trino) OCF Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../TableauOCFConnector/index.html">Tableau OCF Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Teradata/index.html">Teradata OCF Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Vertica/index.html">Vertica OCF Connector</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Data Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../datasources/DSConfiguration/index.html">Data Source Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../datasources/AddDataSources/index.html">Adding Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../datasources/ComposeSSOAWSDataSources/index.html">Compose SSO for Amazon Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../datasources/ComposeSSOAzureDataSources/index.html">Compose SSO for Azure Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../datasources/AuthenticationForExtraction/index.html">Authentication for Extraction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../datasources/CustomDB/index.html">Custom DB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../datasources/GBQ/index.html">Google BigQuery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../datasources/Hive/index.html">Hive</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">BI Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../bisources/AddBISources/index.html">Add BI Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../bisources/AddTableauServer/index.html">Add Tableau Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../bisources/WorkwithBISources/index.html">Working with BI Sources</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">File System Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../filesystems/FileSystems/index.html">Add File Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../filesystems/VirtualFileSystems/index.html">Virtual File Systems</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Analysts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../analyst/UserAuthenticationForDataSources/index.html">User Authentication for Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../analyst/ShareAndAccessQueries/index.html">Share and Access Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../analyst/WriteQueries/index.html">Write Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../analyst/DevelopQueries/index.html">Develop Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../analyst/WorkwithQueryResults/index.html">Work with Query Results</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Data Stewards</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../steward/GovernanceApp/index.html">Governance App</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../steward/PolicyCenter/index.html">Policy Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../steward/Workflow/index.html">Workflow Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../steward/GovernanceDashboard/index.html">Governance Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../steward/StewardshipWorkbench/index.html">Stewardship Workbench</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../steward/AnalyticsStewardship/index.html">Analytics Stewardship</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../steward/Glossary/index.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../steward/ArticlesAndTags/index.html">Articles and Tags</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../steward/ArticleGroups/index.html">Article Groups</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../steward/DataCatalogCustomization/index.html">Customize Your Data Catalog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../steward/DataDocumentation/index.html">Data Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../steward/AutoTitlingandLexicon/index.html">Auto-titling and Lexicon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../steward/SnowflakeTags/index.html">Snowflake Tags</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Server Administrators</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../admins/CustomizableHomePage/index.html">Customizable Homepage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../admins/AdminSettings/index.html">Administrator Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../admins/AdditionalConfiguration/index.html">Additional Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../admins/RunbookForAdministrators/index.html">Runbook for Administrators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../admins/AlationAPIs/index.html">Alation APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../admins/How-tos/index.html">How-tos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../admins/Troubleshooting/index.html">Troubleshooting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Release Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../releases/releasenotes/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../releases/supportmatrices/index.html">Support Matrices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../releases/endofsupport/index.html">End Of Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../releases/snowflakeclladdon/index.html">Snowflake Parser Add-On</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../releases/fieldnotices/index.html">Important Notices and Security Alerts</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Archived Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../archive/About/index.html">About the Documentation Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../archive/AdminConfig/index.html">Administration and Update Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../archive/ReleaseNotes/index.html">Release Notes Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../archive/Usage/index.html">Usage and Customization Archive</a></li>
</ul>

              
            
          </div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="wy-nav-top-icon"></i>
        <a href="../../../index.html">Alation User Guide</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">

          <div role="navigation" aria-label="breadcrumbs" class="breadcrumbs">
    <a href="../../../index.html">Docs</a>
    <span class="separator">&gt;</span>
    <a href="../index.html">Open Connector Framework</a>
    <span class="separator">&gt;</span>
    <a href="index.html">Azure Blob Storage OCF Connector</a>
    <span class="separator">&gt;</span>
    <span>Azure Blob Storage OCF Connector: Install and Configure</span>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody" class="toBeIndexed">
            
  <section id="azure-blob-storage-ocf-connector-install-and-configure">
<h1>Azure Blob Storage OCF Connector: Install and Configure<a class="headerlink" href="#azure-blob-storage-ocf-connector-install-and-configure" title="Permalink to this headline">¶</a></h1>
<p class="cloud-label hover-text">Alation Cloud Service <span class="tooltip-text">Applies to Alation Cloud Service instances of Alation</span></p>
<p class="on-prem-label hover-text">Customer Managed <span class="tooltip-text">Applies to customer-managed instances of Alation</span></p>
<p>The OCF connector for Azure Blob Storage uses the <a class="reference external" href="https://learn.microsoft.com/en-us/azure/storage/blobs/blob-inventory">blob inventory</a> feature of Azure Storage. Alation reads the latest inventory report from a destination container and streams metadata to the catalog.</p>
<blockquote>
<div><a class="with-border reference internal image-reference" href="../../../_images/AzureBlobOCF_extractionDiagram.png"><img alt="../../../_images/AzureBlobOCF_extractionDiagram.png" class="with-border" src="../../../_images/AzureBlobOCF_extractionDiagram.png" style="width: 500px;" /></a>
</div></blockquote>
<section id="required-information">
<h2>Required Information<a class="headerlink" href="#required-information" title="Permalink to this headline">¶</a></h2>
<p>The following information is required for configuring an Azure Blob Storage OCF file system source in Alation:</p>
<blockquote>
<div><ul>
<li><p>Name of the destination storage container that stores the Blob inventory. For details, see <a class="reference internal" href="#configuration-in-azure-portal">Configuration in Azure Portal</a>.</p></li>
<li><p>Connection information—Azure Blob Storage OCF connector uses the standard Java SDK v12 to communicate with Azure. Alation Server Admin configuring extraction for an Azure Blob Storage file system source will need to know:</p>
<blockquote>
<div><ul class="simple">
<li><p>Storage account name</p></li>
<li><p>The authentication information—See <a class="reference internal" href="#authentication">Authentication</a>.</p></li>
<li><p>Endpoint suffix—See <a class="reference external" href="https://learn.microsoft.com/en-us/azure/china/resources-developer-guide#check-endpoints-in-azure">Check Endpoints in Azure</a> in Azure documentation.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>If you are going to use sampling with OAuth, then Azure AD application information for configuring OAuth authentication in Alation. See <a class="reference internal" href="#sampling-with-azure-oauth-authentication">Sampling with Azure OAuth Authentication</a>.</p></li>
</ul>
</div></blockquote>
</section>
<section id="configuration-in-azure-portal">
<h2>Configuration in Azure Portal<a class="headerlink" href="#configuration-in-azure-portal" title="Permalink to this headline">¶</a></h2>
<p>Before adding your Azure Blob Storage file system source to Alation, perform the required configuration in Azure portal. You will need to create a destination container to store the inventory reports and an inventory rule for this container.</p>
<section id="create-a-destination-container">
<h3>Create a Destination Container<a class="headerlink" href="#create-a-destination-container" title="Permalink to this headline">¶</a></h3>
<p>A destination container should be a new and separate container within the storage account that does not contain any data files. It will serve as a destination to store the blob inventory for performing metadata extraction in Alation.</p>
<p>To create a destination container:</p>
<p>Under your storage account, create a container to be used as a destination container. Alation does not have specific requirements for the <strong>Public access level</strong> configuration or any of the fields under the <strong>Advanced</strong> properties. Select the values that are recommended by your organization’s policy or use the defaults.</p>
<blockquote>
<div><a class="with-border reference internal image-reference" href="../../../_images/OCF_AzureBlob_DestinationContainer.png"><img alt="../../../_images/OCF_AzureBlob_DestinationContainer.png" class="with-border" src="../../../_images/OCF_AzureBlob_DestinationContainer.png" style="width: 500px;" /></a>
</div></blockquote>
</section>
<section id="create-inventory-rule-for-source-containers">
<h3>Create Inventory Rule for Source Containers<a class="headerlink" href="#create-inventory-rule-for-source-containers" title="Permalink to this headline">¶</a></h3>
<p>Alation relies on Azure Storage blob inventory reports for metadata and schema extraction and sampling. Reports are generated based on inventory rules. An inventory rule provides a list of containers, blobs, blob versions, and snapshots in your storage account, along with their associated properties. It can generate an output report in either comma-separated values (CSV) or Apache Parquet format on a daily or weekly basis, depending on the configuration. <strong>Alation supports inventory reports in the CSV format only</strong>.</p>
<p>On the <strong>Blob inventory</strong> page under your storage account, create an inventory rule for source containers. Refer to <a class="reference external" href="https://learn.microsoft.com/en-us/azure/storage/blobs/blob-inventory-how-to?tabs=azure-portal">Enable Azure Storage Blob Inventory Reports</a> in Azure documentation for more information about the blob inventory feature and steps to create an inventory rule.</p>
<p>For the rule you create for Alation, use this information:</p>
<blockquote>
<div><ul>
<li><p><strong>Container</strong>—Select the destination container you created for Alation.</p></li>
<li><p><strong>Object type to inventory</strong>—Select <strong>Blob</strong>.</p></li>
<li><p><strong>Blob types</strong>—Select <strong>Block blobs</strong> and <strong>Append blobs</strong>.</p></li>
<li><p><strong>Blob inventory fields</strong>—See <a class="reference internal" href="#fields-in-inventory">Fields in Inventory</a> below.</p></li>
<li><p><strong>Inventory frequency</strong>—Select <strong>Weekly</strong> or <strong>Daily</strong> if the data in the container updates frequently.</p></li>
<li><p><strong>Export format</strong>—Select <strong>CSV</strong>.</p></li>
<li><p><strong>Prefix match</strong>—Optionally, add a prefix match to filter blobs in your inventory report.</p>
<blockquote>
<div><a class="with-border reference internal image-reference" href="../../../_images/OCF_AzureBlob_NewInventoryRule.png"><img alt="../../../_images/OCF_AzureBlob_NewInventoryRule.png" class="with-border" src="../../../_images/OCF_AzureBlob_NewInventoryRule.png" style="width: 300px;" /></a>
</div></blockquote>
</li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The inventory report becomes available after a time period of up to 48 hours after the inventory rule is created or updated. When the inventory report has been delivered to your destination container, proceed with configuration on the Alation side.</p>
</div>
<p>Azure creates one directory per rule in the destination container. The directory structure will be similar to the following:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">yyyy/MM/dd/HH-mm-ss/&lt;rule_name&gt;/&lt;rule_name&gt;-&lt;file_name&gt;</span></code>.</p>
</div></blockquote>
<p>For each inventory rule there will be three files:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;rule_name&gt;-manifest.checksum</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;rule_name&gt;-manifest.json</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;rule_name&gt;.csv</span></code></p></li>
</ol>
</div></blockquote>
<p>When the connector receives an extraction request, it will collect the first level of folders <code class="docutils literal notranslate"><span class="pre">&lt;yyyy&gt;</span></code> from the destination container and sort them in reverse order. For each <code class="docutils literal notranslate"><span class="pre">&lt;yyyy&gt;</span></code> folder, it will search the next level of folder hierarchy and sort the folders in reverse order. This action will be repeated until we get to the folder structure for <code class="docutils literal notranslate"><span class="pre">&lt;HH-mm-ss&gt;</span></code>. Once the <code class="docutils literal notranslate"><span class="pre">&lt;HH-mm-ss&gt;</span></code> level is reached, the connector will search for the folder that matches the rule name specified in Alation as the inventory rule. When the rule name matches, the connector will extract metadata based on the most recent CSV file <code class="docutils literal notranslate"><span class="pre">&lt;rule_name&gt;.csv</span></code>.</p>
<section id="fields-in-inventory">
<h4>Fields in Inventory<a class="headerlink" href="#fields-in-inventory" title="Permalink to this headline">¶</a></h4>
<p>Refer to the table below for information about required and optional fields to include into an inventory report. The required fields must be included for extraction to succeed. You can include optional fields too to extract more metadata. If you do not include an optional field, then the corresponding metadata will not be available in Alation.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 40%" />
<col style="width: 40%" />
<col style="width: 20%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Azure Blob Storage</p></th>
<th class="head"><p>ADLS Gen 2 Storage</p></th>
<th class="head"><p>Is required?</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Name</p></td>
<td><p>Name</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>Content length</p></td>
<td><p>Content length</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><p>Last modified</p></td>
<td><p>Last modified</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p>Creation time</p></td>
<td><p>Creation time</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><p><em>n/a</em></p></td>
<td><p>HDI folder status</p></td>
<td><p>Yes</p></td>
</tr>
</tbody>
</table>
</section>
</section>
</section>
<section id="authentication">
<h2>Authentication<a class="headerlink" href="#authentication" title="Permalink to this headline">¶</a></h2>
<p>For metadata and schema extraction, Alation supports authentication using a shared access signature token (default), Azure Service Principal, or the storage account access key.</p>
<section id="using-shared-access-signature">
<h3>Using Shared Access Signature<a class="headerlink" href="#using-shared-access-signature" title="Permalink to this headline">¶</a></h3>
<p>You will need to generate a SAS token to give Alation access. Refer to <a class="reference external" href="https://learn.microsoft.com/en-us/azure/storage/common/storage-sas-overview">Shared Access Signature</a> in Azure documentation for more information.</p>
<p>When generating a token, provide the following level of access:</p>
<blockquote>
<div><ul>
<li><p><strong>Allowed Services</strong>—Select <strong>Blob</strong>.</p></li>
<li><p><strong>Allowed Resource Types</strong>—Select <strong>Service</strong>, <strong>Object</strong>, <strong>Container</strong>.</p></li>
<li><p><strong>Allowed Permissions</strong>—Select <strong>Read</strong> and <strong>List</strong>.</p>
<blockquote>
<div><a class="with-border reference internal image-reference" href="../../../_images/AzureBlobOCF_01.png"><img alt="../../../_images/AzureBlobOCF_01.png" class="with-border" src="../../../_images/AzureBlobOCF_01.png" style="width: 400px;" /></a>
</div></blockquote>
</li>
</ul>
</div></blockquote>
<p>The token will need to be specified in the corresponding field in your file system source settings in Alation.</p>
</section>
<section id="using-account-access-key">
<h3>Using Account Access Key<a class="headerlink" href="#using-account-access-key" title="Permalink to this headline">¶</a></h3>
<p>Refer to <a class="reference external" href="https://learn.microsoft.com/en-us/azure/storage/blobs/authorize-data-operations-portal#use-the-account-access-key">Use Account Access Key</a> in Azure documentation for more information.</p>
</section>
<section id="using-azure-service-principal">
<h3>Using Azure Service Principal<a class="headerlink" href="#using-azure-service-principal" title="Permalink to this headline">¶</a></h3>
<p>Refer to <a class="reference internal" href="AzureServicePrincipalAuthentication.html"><span class="doc">Azure Service Principal Authentication</span></a> for more information.</p>
</section>
</section>
<section id="configuration-in-alation">
<h2>Configuration in Alation<a class="headerlink" href="#configuration-in-alation" title="Permalink to this headline">¶</a></h2>
<section id="step-1-install-the-connector">
<h3>Step 1: Install the Connector<a class="headerlink" href="#step-1-install-the-connector" title="Permalink to this headline">¶</a></h3>
<section id="alation-on-prem">
<h4>Alation On-Prem<a class="headerlink" href="#alation-on-prem" title="Permalink to this headline">¶</a></h4>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Installation of OCF connectors requires <strong>Alation Connector Manager</strong> to be installed as a prerequisite.</p>
</div>
<p>To install an OCF connector:</p>
<ol class="arabic simple">
<li><p>If this has not been done on your instance, install the Alation Connector Manager: <a class="reference internal" href="../OCFInstallAlationConnectorManager.html"><span class="doc">Install Alation Connector Manager</span></a>.</p></li>
<li><p>Ensure that the OCF connector Zip file that you received from Alation is available on your local machine.</p></li>
<li><p>Install the connector on the <strong>Connectors Dashboard</strong> page using the steps in <a class="reference internal" href="../ManageConnectors.html"><span class="doc">Manage Connectors</span></a>.</p></li>
</ol>
</section>
<section id="alation-cloud-service">
<h4>Alation Cloud Service<a class="headerlink" href="#alation-cloud-service" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>On Alation Service Cloud instances, Alation Connector Manager is available by default.</p>
</div>
<ol class="arabic simple">
<li><p>Ensure that the OCF connector Zip file that you received from Alation is available on your local machine.</p></li>
<li><p>Install the connector on the <strong>Connectors Dashboard</strong> page using the steps in <a class="reference internal" href="../ManageConnectors.html"><span class="doc">Manage Connectors</span></a>.</p></li>
</ol>
</section>
</section>
<section id="step-2-create-and-configure-a-new-file-system-source">
<h3>Step 2: Create and Configure a New File System Source<a class="headerlink" href="#step-2-create-and-configure-a-new-file-system-source" title="Permalink to this headline">¶</a></h3>
<p>Adding a file system source requires the role of Server Admin.</p>
<ol class="arabic">
<li><p>Log in to Alation.</p></li>
<li><p>From the <strong>Apps</strong> menu on top right, select <strong>Sources</strong>. The <strong>Sources</strong> page will open.</p></li>
<li><p>On the upper right, click <strong>+Add</strong> and in the drop list that opens, click <strong>File System</strong>. The <strong>Add a File System</strong> page will open.</p></li>
<li><p>From the <strong>File System Type</strong> dropdown, select <strong>Azure Blob Storage OCF Connector</strong>.</p></li>
<li><p>Provide a <strong>Title</strong> for the file system source and, optionally, a <strong>Description</strong>, and click on <strong>Add File System</strong>. You will be navigated to the Settings page of your new file system source.</p>
<blockquote>
<div><a class="with-border reference internal image-reference" href="../../../_images/AzureBlobOCF_02.png"><img alt="../../../_images/AzureBlobOCF_02.png" class="with-border" src="../../../_images/AzureBlobOCF_02.png" style="width: 400px;" /></a>
</div></blockquote>
</li>
</ol>
</section>
</section>
<section id="access">
<h2>Access<a class="headerlink" href="#access" title="Permalink to this headline">¶</a></h2>
<p>On the <strong>Access</strong> tab, set the file system visibility as follows:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>Public File System</strong>—The file system source will be visible to all users of the catalog.</p></li>
<li><p><strong>Private File System</strong>—The file system source will be visible to users allowed access by File System Admins.</p></li>
</ul>
</div></blockquote>
<p>You can add more File System Admin users in the <strong>File System Admins</strong> section if required.</p>
</section>
<section id="general-settings">
<h2>General Settings<a class="headerlink" href="#general-settings" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This section describes configuring settings for credentials and connection information stored in the Alation database. If your organization has configured Azure KeyVault or AWS Secrets Manager to hold such information, the user interface for the General Settings page will change to include the following icons to the right of most options:</p>
<blockquote>
<div><img alt="../../../_images/VaultOrDB.png" src="../../../_images/VaultOrDB.png" />
</div></blockquote>
<p>By default, the database icon is selected, as shown. In the vault case, instead of the actual credential information, you enter the ID of the secret. See <a class="reference internal" href="../ConfigureSecretsforOCFConnectors/index.html"><span class="doc">Configure Secrets for OCF Connector Settings</span></a> for details.</p>
</div>
<p>Perform the configuration on the <strong>General Settings</strong> tab.</p>
<section id="connector-settings">
<h3>Connector Settings<a class="headerlink" href="#connector-settings" title="Permalink to this headline">¶</a></h3>
<p>Under <strong>Connector Settings &gt; File System Connection</strong>, specify the connection information. Click <strong>Save</strong> to save your values.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 31%" />
<col style="width: 69%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Parameter</strong></p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Storage Account Name</p></td>
<td><p>Specify the name of the storage account.</p></td>
</tr>
<tr class="row-odd"><td><p>Auth Type</p></td>
<td><p>Select OAuth Client Credential from the drop-down to use Azure
Service Principal as the auth type.</p>
<p>In the Authentication Profiles drop-down that appears, select
the name of the authentication profile of the service
principal.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This field is available from connector version <strong>2.4.1</strong>.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This field is applicable only for Azure Service Principal
auth type.</p>
</div>
</td>
</tr>
<tr class="row-even"><td><p>Use Shared Access Signature
(SAS)</p></td>
<td><p>Select <strong>Use Shared Access Signature</strong> checkbox to
authenticate using shared access signature (SAS).</p></td>
</tr>
<tr class="row-odd"><td><p>Access Key/Shared Access
Signature</p></td>
<td><p>Specify the access key or shared access signature if the
<strong>Use Shared Access Signature</strong> checkbox is selected.</p></td>
</tr>
<tr class="row-even"><td><p>Storage Endpoint Suffix</p></td>
<td><p>Specify the <a class="reference internal" href="#storage-endpoint-suffix">Storage Endpoint Suffix</a> corresponding to your
Azure cloud account region. The default value is
<code class="docutils literal notranslate"><span class="pre">core.windows.net</span></code> (default for Azure Global).</p></td>
</tr>
</tbody>
</table>
<section id="storage-endpoint-suffix">
<h4>Storage Endpoint Suffix<a class="headerlink" href="#storage-endpoint-suffix" title="Permalink to this headline">¶</a></h4>
<p>In Azure Portal, on the storage account page, scroll the left-hand menu down to <strong>Settings</strong> &gt; <strong>Endpoints</strong>. On the Endpoints page, look for <strong>Primary Endpoint</strong> for your account type. You will find the <em>full</em> blob service URL, for example <code class="docutils literal notranslate"><span class="pre">https://alationdemoadlsgen2.blob.core.windows.net</span></code>. The suffix comes after <code class="docutils literal notranslate"><span class="pre">blob.</span></code>.</p>
<blockquote>
<div><a class="with-border reference internal image-reference" href="../../../_images/OCF_AzureBlobStorage_Suffix.png"><img alt="../../../_images/OCF_AzureBlobStorage_Suffix.png" class="with-border" src="../../../_images/OCF_AzureBlobStorage_Suffix.png" style="width: 500px;" /></a>
</div></blockquote>
<p>In your file system source settings in Alation, under <strong>Connector Settings</strong>, you provide the <strong>Storage Account Name</strong>. In the URL example above, it’s <code class="docutils literal notranslate"><span class="pre">alationdemoadlsgen2</span></code>. Alation will append “.blob.” and then the <strong>Storage Endpoint Suffix</strong> to complete the URL.</p>
</section>
</section>
<section id="logging-configuration">
<h3>Logging Configuration<a class="headerlink" href="#logging-configuration" title="Permalink to this headline">¶</a></h3>
<p>From the <strong>Log Level</strong> dropdown list, select the log level to generate logs. Click <strong>Save</strong> to save your choice.</p>
<p>The available log levels are based on the Log4j framework.</p>
</section>
<section id="test-connection">
<h3>Test Connection<a class="headerlink" href="#test-connection" title="Permalink to this headline">¶</a></h3>
<p>Under <strong>Test Connection</strong>, click <strong>Test</strong> to validate network connectivity to Azure.</p>
</section>
<section id="deleting-the-data-source">
<h3>Deleting the Data Source<a class="headerlink" href="#deleting-the-data-source" title="Permalink to this headline">¶</a></h3>
<p>You can delete your data source from the <strong>General Settings</strong> tab. Under <strong>Delete Data Source</strong>, click <strong>Delete</strong> to delete it.</p>
<blockquote>
<div><a class="with-border reference internal image-reference" href="../../../_images/AzureBlobOCF_03.png"><img alt="../../../_images/AzureBlobOCF_03.png" class="with-border" src="../../../_images/AzureBlobOCF_03.png" style="width: 500px;" /></a>
</div></blockquote>
</section>
</section>
<section id="metadata-extraction">
<h2>Metadata Extraction<a class="headerlink" href="#metadata-extraction" title="Permalink to this headline">¶</a></h2>
<p>Configure metadata extraction (MDE) on the <strong>Metadata Extraction</strong> tab of the Settings page. You can perform a full or selective extraction, followed by schema extraction for the files in the catalog.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Before extracting metadata, ensure that you have performed the configuration on the Azure portal side. See <a class="reference internal" href="#configuration-in-azure-portal">Configuration in Azure Portal</a> for more details.</p>
</div>
<p>To configure metadata extraction:</p>
<ol class="arabic">
<li><p>On the <strong>Metadata Extraction</strong> tab of the settings page, fill in the fields under <strong>Connector Settings &gt; Metadata extraction configuration</strong>.</p>
<blockquote>
<div><a class="with-border reference internal image-reference" href="../../../_images/AzureBlobOCF_04.png"><img alt="../../../_images/AzureBlobOCF_04.png" class="with-border" src="../../../_images/AzureBlobOCF_04.png" style="width: 500px;" /></a>
<table class="docutils align-default">
<colgroup>
<col style="width: 27%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Parameter</strong></p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Destination Container</p></td>
<td><p>Required field. MDE will fail if it’s left empty.</p>
<p>Specify the name of the destination container that stores the
inventory reports. More on the destination container:
<a class="reference internal" href="#create-a-destination-container">Create a Destination Container</a>.</p>
<p>The destination container must contain the inventory report.
MDE will fail if you run it before the inventory report is
generated. The wait time may be 24 to 48 hours for the first
inventory report to be generated after configuring
the inventory function for an Azure storage account.</p>
</td>
</tr>
<tr class="row-odd"><td><p>Inventory Rule Name</p></td>
<td><p>Required field. MDE will fail if it’s left empty.</p>
<p>Specify the inventory rule name.</p>
</td>
</tr>
</tbody>
</table>
</div></blockquote>
</li>
<li><p>Click <strong>Save</strong> to save the information you specified.</p></li>
</ol>
<p>You can perform full extraction or selective extraction.</p>
<section id="full-extraction">
<h3>Full Extraction<a class="headerlink" href="#full-extraction" title="Permalink to this headline">¶</a></h3>
<p>To perform full extraction, click <strong>Run Extraction Now</strong> under <strong>Automated and Manual Extraction</strong>. This will extract metadata from all containers present in the inventory report.</p>
</section>
<section id="selective-extraction">
<h3>Selective Extraction<a class="headerlink" href="#selective-extraction" title="Permalink to this headline">¶</a></h3>
<p>To perform selective extraction, perform the configuration under <strong>Selective Extraction</strong>:</p>
<ol class="arabic">
<li><p>Enable the toggle <strong>Select Containers to Include or Exclude from Extraction</strong>.</p></li>
<li><p>Click <strong>Get List of Containers</strong> to fetch the list of containers from your storage account. The status of this action will be logged in the <strong>Extraction Job Status</strong> table at the bottom of the <strong>Metadata Extraction</strong> tab.</p></li>
<li><p>When container synchronization is complete, the plus icon to the left of the <strong>Get List of Containers</strong> button will become enabled.</p></li>
<li><p>Click the plus icon and select containers to extract.</p></li>
<li><p>Check if you are using the correct extraction filter option. Available filter options are described below:</p>
<blockquote>
<div><table class="docutils align-default">
<colgroup>
<col style="width: 40%" />
<col style="width: 60%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Filter Option</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Extract all containers except</p></td>
<td><p>Extract metadata from all containers except the
selected containers.</p></td>
</tr>
<tr class="row-odd"><td><p>Extract only these containers</p></td>
<td><p>Extract metadata only from the selected
containers.</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
</li>
</ol>
<p>6. Click <strong>Run Extraction Now</strong> under <strong>Automated and Manual Extraction</strong> to extract metadata. The status of the extraction action is logged in the <strong>Job History</strong> table at the bottom of the page. Extraction time will depend on the volume of the metadata you are extracting.
After completing metadata extraction, you can perform schema extraction for the data files you cataloged.</p>
</section>
</section>
<section id="schema-extraction">
<h2>Schema Extraction<a class="headerlink" href="#schema-extraction" title="Permalink to this headline">¶</a></h2>
<p>A schema extraction job will extract the schema (column headers) for CSV, TSV, PSV, and Parquet files you cataloged with metadata extraction.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>Schema extraction is first available with connector version <strong>2.0.0.2863</strong> and was improved in connector version <strong>2.2.0.4373</strong> (compatible with Alation version <strong>2023.1</strong>).</p>
</div>
</div></blockquote>
<p>Schema extraction should be performed after performing metadata extraction. The metadata extraction job extracts all or selected containers, the directory structure in those containers, and file information. Schema extraction will additionally extract column header information for extracted files.</p>
<section id="understanding-schema-extraction">
<h3>Understanding Schema Extraction<a class="headerlink" href="#understanding-schema-extraction" title="Permalink to this headline">¶</a></h3>
<p>A schema extraction job extracts the logical schema (column headers) either at the file level or at the parent directory level, depending on configuration.</p>
<p>Extracting the logical schema for every file can be time- and resource-consuming if the volume of extracted file metadata is large. In addition, extracting column headers for every file may not be the optimal approach if your data is partitioned and all files in directories have identical column composition.</p>
<p>For partitioned data, you can use a <strong>schema path pattern</strong> to extract and represent the logical schema of the files on the directory level.</p>
<p>Schema extraction is configured using the fields under the <strong>Schema extraction configuration</strong> section of the <strong>Metadata Extraction</strong> tab.</p>
<p>You can enable schema path patterns using the <strong>Use Schema Path Pattern</strong> checkbox.</p>
<p>By default, the <strong>Use Schema Path Pattern</strong> checkbox is clear, which means you are not using schema path patterns. When you run a schema extraction job without selecting the <strong>Use Schema Path Pattern</strong> checkbox, Alation will read each individual file in each directory that was previously extracted with metadata extraction and extract column headers for each individual file. This information will become available under the <strong>Columns</strong> tab on the catalog page of each file object.</p>
<p>When you select the <strong>Use Schema Path Pattern</strong> checkbox and specify a schema path pattern, Alation will use this pattern to find matching directories and assume that all files in the directories have identical column structure. The schema extraction job will only stream column headers from one file—the first file in the list of files in this directory in the inventory report. The column information will be displayed at the level of the schema path pattern directory and not at the file level.</p>
<blockquote>
<div><div class="admonition important">
<p class="admonition-title">Important</p>
<p>If you specify a schema path pattern that covers only some of the extracted directories, Alation will not extract column information at the file level for the files the parent directories of which are not covered by the schema path pattern you specified.</p>
<p>Refer to <a class="reference internal" href="../SchemaPathPattern.html"><span class="doc">Schema Path Pattern</span></a> for information on how to write schema path patterns.</p>
</div>
</div></blockquote>
<p>Let’s look at an example. Let’s assume that we have the following metadata structure under a storage account that we want to catalog:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>schema-extraction/CE/resourceset-usecase1
schema-extraction/CE/resourceset-usecase1/warehouse
schema-extraction/CE/resourceset-usecase1/warehouse/production-database
schema-extraction/CE/resourceset-usecase1/warehouse/production-database/sales_data
schema-extraction/CE/resourceset-usecase1/warehouse/production-database/sales_data/file1.csv
schema-extraction/CE/resourceset-usecase1/warehouse/production-database/sales_data/file2.csv
schema-extraction/CE/resourceset-usecase1/warehouse/production-database/sales_data/file3.csv
schema-extraction/CE/resourceset-usecase2
schema-extraction/CE/resourceset-usecase2/warehouse
schema-extraction/CE/resourceset-usecase2/warehouse/production-database
schema-extraction/CE/resourceset-usecase2/warehouse/production-database/product_data
schema-extraction/CE/resourceset-usecase2/warehouse/production-database/product_data/product_data_1.csv
schema-extraction/CE/resourceset-usecase2/warehouse/production-database/product_data/product_data_2.csv
schema-extraction/CE/resourceset-usecase2/warehouse/production-database/product_data/product_data_3.csv
schema-extraction/CE/resourceset-usecase2/warehouse/production-database/sales_data
schema-extraction/CE/resourceset-usecase2/warehouse/production-database/sales_data/sales_data_1.csv
schema-extraction/CE/resourceset-usecase2/warehouse/production-database/sales_data/sales_data_2.csv
schema-extraction/CE/resourceset-usecase2/warehouse/production-database/sales_data/sales_data_3.csv
</pre></div>
</div>
</div></blockquote>
<p>After we perform the first metadata extraction job, Alation will extract the containers, the directory structure in each extracted container, and data file information for each directory containing data files. It won’t extract column information for any of the files yet.</p>
<p>Next, we can extract schema information by running a schema extraction job. Our options are:</p>
<blockquote>
<div><ul class="simple">
<li><p><em>Enable the Schema Path Pattern feature and specify a schema path pattern</em>—Alation will detect logical schemas using the schema path pattern and extract column header information on the level of parent directories. The column information will appear on the <strong>Columns</strong> tab for the directory the path to which matches the schema path pattern you specified in the settings.</p></li>
<li><p><em>Run a schema extraction job without enabling the Schema Path Pattern feature</em>—Alation will read all extracted files and extract column information for each extracted file. The column information will appear on the <strong>Columns</strong> tab on the catalog page of each file object. This operation may be very resource-intensive if you have extracted a large volume of metadata.</p></li>
</ul>
</div></blockquote>
<p>Let’s assume we want to use a schema path pattern. The pattern for this specific example can be the following:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">schema-extraction/CE/resourceset-usecase[0-9]/warehouse/production-database/(sales|product)_data)</span></code></p>
</div></blockquote>
<p>This pattern configures Alation to detect schemas in directories with the names matching the expression of the pattern. After we run a schema extraction job based on this pattern, the column information will appear at the level of the directories listed below under the <strong>Column</strong> tab on the directory catalog page:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">schema-extraction/CE/resourceset-usecase1/warehouse/production-database/sales_data</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">schema-extraction/CE/resourceset-usecase2/warehouse/production-database/product_data</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">schema-extraction/CE/resourceset-usecase2/warehouse/production-database/sales_data</span></code>.</p></li>
</ul>
<a class="with-border reference internal image-reference" href="../../../_images/OCF_AzureBlobStorage_Schema_Folder.png"><img alt="../../../_images/OCF_AzureBlobStorage_Schema_Folder.png" class="with-border" src="../../../_images/OCF_AzureBlobStorage_Schema_Folder.png" style="width: 500px;" /></a>
</div></blockquote>
<p>The column information will not appear on catalog pages of the file objects:</p>
<blockquote>
<div><a class="with-border reference internal image-reference" href="../../../_images/OCF_AzureBlobStorage_Schema_File.png"><img alt="../../../_images/OCF_AzureBlobStorage_Schema_File.png" class="with-border" src="../../../_images/OCF_AzureBlobStorage_Schema_File.png" style="width: 500px;" /></a>
</div></blockquote>
</section>
<section id="perform-schema-extraction">
<h3>Perform Schema Extraction<a class="headerlink" href="#perform-schema-extraction" title="Permalink to this headline">¶</a></h3>
<p>To run a schema extraction job:</p>
<ol class="arabic">
<li><p>Configure the options under <strong>Schema extraction configuration</strong>. Save your values by clicking <strong>Save</strong>.</p>
<blockquote>
<div><table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 76%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Parameter</strong></p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>CSV File Delimiter</p></td>
<td><p>For CSV files, select a delimiter. The delimiter you select will apply to all
extracted CSV files.</p>
<p>The default delimiter value is <code class="docutils literal notranslate"><span class="pre">COMMA</span></code>.</p>
<p>For TSV and PSV files, tab and pipe will be used as a delimiter respectively.
You cannot change the delimiter for TSV and PSV files.</p>
</td>
</tr>
<tr class="row-odd"><td><p>Use Schema Path Pattern</p></td>
<td><p>Select this checkbox to filter directories to be extracted as schemas. When you
select this checkbox and specify a schema path pattern below, the schema extraction
job will extract schema information at the directory level, for directories that
match the pattern, without reading each individual file.</p>
<p>If you leave this checkbox clear and run a schema extraction job, Alation will
extract column information for each extracted data file, analyzing each file.
See <a class="reference internal" href="#understanding-schema-extraction">Understanding Schema Extraction</a> for more details.</p>
</td>
</tr>
<tr class="row-even"><td><p>Schema Path Pattern</p></td>
<td><p>If you have selected the <strong>Use Schema Path Pattern</strong> checkbox, also specify a
schema path pattern. If you leave the <strong>Use Schema Path Pattern</strong> checkbox clear,
this field will not apply.</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
</li>
<li><p>Under <strong>Schema Extraction</strong>, click <strong>Run Schema Extraction</strong>. The schema extraction job will retrieve column header information which will become available on the <strong>Columns</strong> tab on catalog pages of directories or files, depending on your configuration. The status of the schema extraction job is logged in the <strong>Job History</strong> table at the bottom of the page.</p></li>
</ol>
</section>
</section>
<section id="order-of-extraction-jobs">
<h2>Order of Extraction Jobs<a class="headerlink" href="#order-of-extraction-jobs" title="Permalink to this headline">¶</a></h2>
<p>The metadata you see under your Azure Blob Storage file system source depends on the order in which you run schema extraction jobs. If you run several schema extraction jobs with different settings, as a result, you may see column header data at different object hierarchy levels in the user interface. For example, if you run a schema extraction job without specifying a schema path pattern first, Alation will make the column header information available for every individual file you have extracted into the catalog. If you specify a schema path pattern next and rerun the schema extraction job, this time the column header information will be made available on the directory level, but it won’t be removed from the individual file level, and you will see it at both levels.</p>
<p>If you wish to remove the column header information from the individual file level, only leaving it at the directory level, you can do the following:</p>
<ol class="arabic simple">
<li><p>On the file system source settings page, open the <strong>Metadata Extraction</strong> tab.</p></li>
<li><p>Under <strong>Selective Extraction</strong>, enable the toggle <strong>Remove Containers from the catalog that are not captured by the lists below</strong>.</p></li>
<li><p>Under <strong>Schema extraction configuration</strong>, check your schema path pattern settings to ensure you have the desired configuration.</p></li>
<li><p>Rerun the schema extraction job by clicking <strong>Run Schema Extraction</strong> under <strong>Schema Extraction</strong>. This should remove the columns information from the individual file level and only leave it available under the directory level that is specified in the schema path pattern.</p></li>
</ol>
</section>
<section id="schedule-metadata-extraction">
<h2>Schedule Metadata Extraction<a class="headerlink" href="#schedule-metadata-extraction" title="Permalink to this headline">¶</a></h2>
<p>If you wish to automatically update the metadata extracted into the catalog, under <strong>Automated and Manual Extraction</strong>, enable the <strong>Enable Automated Extraction</strong> toggle and select the day and and set a desired schedule. The next metadata extraction will be automatically run based on the schedule you set.</p>
<p>Note that <em>schema extraction</em> jobs cannot be scheduled and can only be run manually on demand.</p>
</section>
<section id="sampling">
<h2>Sampling<a class="headerlink" href="#sampling" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Sampling is available with Azure Blob Storage OCF Connector version <strong>2.0.0.2863</strong> or newer and Alation version <strong>2023.1</strong>.</p>
</div>
<p>File sampling is supported for CSV, TSV, PSV, and Parquet file formats. The files must end with <code class="docutils literal notranslate"><span class="pre">.csv</span></code>, <code class="docutils literal notranslate"><span class="pre">.tsv</span></code>, <code class="docutils literal notranslate"><span class="pre">.psv</span></code>, and <code class="docutils literal notranslate"><span class="pre">.parquet</span></code>. A <code class="docutils literal notranslate"><span class="pre">.txt</span></code> file that holds a TSV table will not have its schema extracted or be sampled.</p>
<p>File sampling is supported with Basic Authentication (access key or SAS token) or OAuth authentication.</p>
<p>Only dynamic sampling is supported. Each user performing sampling will need to authenticate against Azure to sample the files.</p>
<p>Sampling can be performed on the <strong>Samples</strong> tab of a directory or a file object. This depends on how the schema information was extracted: on the file or directory level.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>See <a class="reference internal" href="#understanding-schema-extraction">Understanding Schema Extraction</a> for details on configuration options for schema extraction.</p>
</div>
</div></blockquote>
<section id="sampling-with-basic-authentication">
<h3>Sampling with Basic Authentication<a class="headerlink" href="#sampling-with-basic-authentication" title="Permalink to this headline">¶</a></h3>
<p>To perform sampling:</p>
<ol class="arabic">
<li><p>Open the catalog page of the file or directory you want to sample.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>Sampling is supported for CSV, TSV, PSV, and Parquet file formats.</p>
</div>
</div></blockquote>
</li>
<li><p>Open the <strong>Samples</strong> tab.</p></li>
<li><p>Click <strong>Credential Settings</strong>.</p>
<blockquote>
<div><a class="with-border reference internal image-reference" href="../../../_images/AzureBlobOCF_05.png"><img alt="../../../_images/AzureBlobOCF_05.png" class="with-border" src="../../../_images/AzureBlobOCF_05.png" style="width: 600px;" /></a>
</div></blockquote>
</li>
</ol>
<ol class="arabic" start="2">
<li><p>Click <strong>Select &gt; Add New</strong> button.</p>
<blockquote>
<div><a class="with-border reference internal image-reference" href="../../../_images/AzureBlobOCF_06.png"><img alt="../../../_images/AzureBlobOCF_06.png" class="with-border" src="../../../_images/AzureBlobOCF_06.png" style="width: 300px;" /></a>
</div></blockquote>
</li>
<li><p>Select <strong>Azure Basic Authentication</strong> from the <strong>Authentication Type</strong> dropdown. Provide Access Key or Shared Access Signature if the <strong>Use Shared Access Signature</strong> checkbox is selected.</p>
<blockquote>
<div><a class="with-border reference internal image-reference" href="../../../_images/AzureBlobOCF_07.png"><img alt="../../../_images/AzureBlobOCF_07.png" class="with-border" src="../../../_images/AzureBlobOCF_07.png" style="width: 300px;" /></a>
</div></blockquote>
</li>
<li><p>Click <strong>Save</strong>.</p></li>
<li><p>Click <strong>Authenticate</strong>. You will be redirected to the catalog page.</p>
<blockquote>
<div><a class="with-border reference internal image-reference" href="../../../_images/AzureBlobOCF_08.png"><img alt="../../../_images/AzureBlobOCF_08.png" class="with-border" src="../../../_images/AzureBlobOCF_08.png" style="width: 300px;" /></a>
</div></blockquote>
</li>
<li><p>Click the <strong>Run Sample</strong> button on the catalog page to see sampled data.</p>
<blockquote>
<div><a class="with-border reference internal image-reference" href="../../../_images/AzureBlobOCF_09.png"><img alt="../../../_images/AzureBlobOCF_09.png" class="with-border" src="../../../_images/AzureBlobOCF_09.png" style="width: 500px;" /></a>
</div></blockquote>
</li>
</ol>
</section>
<section id="sampling-with-azure-oauth-authentication">
<h3>Sampling with Azure OAuth Authentication<a class="headerlink" href="#sampling-with-azure-oauth-authentication" title="Permalink to this headline">¶</a></h3>
<p>For sampling, you can set up authentication with Azure AD using the OAuth 2.0 authentication protocol. To retrieve a sample, users will need to use their Azure AD credentials.</p>
<section id="required-permissions-for-users">
<h4>Required Permissions for Users<a class="headerlink" href="#required-permissions-for-users" title="Permalink to this headline">¶</a></h4>
<p>Service principals (users who are going to run sampling) must have at least the <strong>Storage Blob Data Reader</strong> permission.</p>
<p>A service principal must have this role even when it is the Owner of the storage account.</p>
</section>
<section id="step-1-register-application-in-azure-ad">
<h4>Step 1: Register Application in Azure AD<a class="headerlink" href="#step-1-register-application-in-azure-ad" title="Permalink to this headline">¶</a></h4>
<p>Perform the steps below to provision a service principal in Azure portal. As you register your app, we also recommend collecting configuration values you’ll need in Alation.</p>
<ol class="arabic">
<li><p>Sign in to Azure Portal using your Azure account.</p></li>
<li><p>Select <strong>Azure Active Directory &gt; App registrations &gt; New registration</strong>.</p></li>
<li><p>Specify a name for the app registration.</p></li>
<li><p>Under <strong>Supported account types</strong>, select <strong>Single tenant</strong>.</p></li>
<li><p>Under <strong>Redirect URI</strong>, select <strong>Web</strong> as the app type and specify the <strong>Redirect URI</strong> using this format:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">https://&lt;hostname&gt;/auth/callback/?method=oauth&amp;config_name=&lt;config_name&gt;</span></code></p>
<p>where:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;hostname&gt;</span></code>—Hostname of your Alation instance</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;config_name&gt;</span></code>—Name of the OAuth configuration object you will need to create in Alation. At this point, you can give it any name and save the value. In Alation, you will use this value later when creating the OAuth configuration object.</p></li>
</ul>
<p>Example: <code class="docutils literal notranslate"><span class="pre">https://sandbox.alation.com/auth/callback/?method=oauth&amp;config_name=azure_conf</span></code></p>
</div></blockquote>
</li>
<li><p>Click <strong>Register</strong> to complete the app registration. The <strong>Overview</strong> page will be displayed.</p></li>
<li><p>Under <strong>Essentials</strong>, locate <strong>Application (client) ID</strong>, copy, and save it.</p></li>
<li><p>Go to the <strong>Endpoints</strong> tab. Copy the <strong>OAuth 2.0 authorization endpoint (v2)</strong> and the <strong>OAuth 2.0 token endpoint (v2)</strong> and save them. Make sure that you copy <strong>version 2 (v2)</strong> of the endpoints.</p>
<blockquote>
<div><a class="with-border reference internal image-reference" href="../../../_images/OCF_AzureBlobStorage_Endpoints.png"><img alt="../../../_images/OCF_AzureBlobStorage_Endpoints.png" class="with-border" src="../../../_images/OCF_AzureBlobStorage_Endpoints.png" style="width: 500px;" /></a>
</div></blockquote>
</li>
<li><p>From the menu on the left, under <strong>Manage</strong>, select <strong>API permissions</strong>.</p></li>
<li><p>Click <strong>Add a permission</strong>.</p></li>
<li><p>In the <strong>Request API permissions</strong> dialog that opens, select <strong>APIs my organization uses</strong>.</p></li>
<li><p>In the search box, type <strong>Azure Storage</strong> and then select this permission. The Azure Storage permission configuration page will open.</p></li>
<li><p>Under <strong>Permission</strong>, select the user impersonation checkbox and click <strong>Add permissions</strong>.</p></li>
<li><p>By default, this permission does not require admin consent. If this has been customized by your organization and admin consent is required, then grant admin consent. Your configured permissions should look like this:</p>
<a class="with-border reference internal image-reference" href="../../../_images/OCF_AzureBlobStorage_API_permissions.png"><img alt="../../../_images/OCF_AzureBlobStorage_API_permissions.png" class="with-border" src="../../../_images/OCF_AzureBlobStorage_API_permissions.png" style="width: 500px;" /></a>
</li>
<li><p>From the menu on the left, under <strong>Manage</strong>, select <strong>Certificates &amp; secrets</strong>.</p></li>
<li><p>Click <strong>New client secret</strong> to add a new client secret. Type the description, select an expiry period as per your organization’s policy and click <strong>Add</strong>.</p></li>
<li><p>Copy the client secret and save it. It will no longer be available in the Azure user interface after you leave this page. You will need this value for configuration on the Alation side.</p></li>
</ol>
<p>Next, continue the configuration in Alation. You should have collected these values from Azure portal:</p>
<blockquote>
<div><ul class="simple">
<li><p>Client ID</p></li>
<li><p>Client secret</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">&lt;config_name&gt;</span></code> value you added to the Redirect URL</p></li>
<li><p>OAuth 2.0 authorization endpoint (v2)</p></li>
<li><p>OAuth 2.0 token endpoint (v2).</p></li>
</ul>
</div></blockquote>
</section>
<section id="step-2-create-oauth-plugin">
<h4>Step 2: Create OAuth Plugin<a class="headerlink" href="#step-2-create-oauth-plugin" title="Permalink to this headline">¶</a></h4>
<p>Create the OAuth configuration object, or an OAuth plugin, in Alation:</p>
<ol class="arabic">
<li><p>Log in to Alation as Server Admin.</p></li>
<li><p>On the top right, click on the three gears icon to open Admin Settings.</p></li>
<li><p>In the <strong>Server Admin</strong> section of the setting, click on <strong>Authentication</strong> to open the <strong>Authentication</strong> page.</p></li>
<li><p>Under the <strong>Authentication Configuration Methods for External Systems</strong> section, click on <strong>Add Configuration</strong> and in the dropdown list that opens, click <strong>OAuth</strong>. A new OAuth plugin configuration page will open.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>For more information about <strong>Authentication Configuration Methods for External Systems</strong>, see <a class="reference internal" href="../../../admins/AdminSettings/AuthConfigMethodsForExternalSystems.html"><span class="doc">Authentication Configuration Methods for External Systems</span></a>.</p>
</div>
</div></blockquote>
</li>
<li><p>Fill in the required details:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>Method</strong>—Check that it is set to OAuth.</p></li>
<li><p><strong>Config Name</strong>—Use the value you added to the Redirect URL as <code class="docutils literal notranslate"><span class="pre">&lt;config_name&gt;</span></code>.</p></li>
<li><p><strong>Client Id</strong>—The client ID of the Azure AD application.</p></li>
<li><p><strong>Client Secret</strong>—The client secret of the Azure AD application.</p></li>
<li><p><strong>Scope</strong>—Use value <code class="docutils literal notranslate"><span class="pre">https://storage.azure.com/user_impersonation</span></code>.</p></li>
<li><p><strong>Subject</strong>—Leave as is. This field is not used by the Azure Blob Storage OCF connector.</p></li>
<li><p><strong>Token Buffer time</strong>—Specify a custom buffer time or leave as is to use the default value (5 minutes).</p></li>
<li><p><strong>Grant type</strong>—Use value <code class="docutils literal notranslate"><span class="pre">auth_code</span></code>.</p></li>
<li><p><strong>PKCE Verifier</strong>—Leave as is. This field is not used by the Azure Blob Storage OCF connector.</p></li>
<li><p><strong>Authorize</strong> and <strong>Token Endpoint URLs</strong>—Use the corresponding OAuth 2.0 v2 URLs from the <strong>Overview &gt; Endpoints</strong> page of your Azure application.</p></li>
<li><p><strong>Redirect URL</strong>—Use format <code class="docutils literal notranslate"><span class="pre">https://&lt;hostname&gt;/auth/callback/?method=oauth&amp;config_name=&lt;config_name&gt;</span></code>.</p></li>
<li><p><strong>User Info Endpoint URL</strong>—Use value <code class="docutils literal notranslate"><span class="pre">https://graph.microsoft.com/oidc/userinfo</span></code>.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Click <strong>Save</strong>.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>Users performing sampling in Alation will need to know the value of <strong>Config Name</strong>.</p>
</div>
</div></blockquote>
</li>
</ol>
</section>
</section>
<section id="perform-sampling-with-oauth">
<h3>Perform Sampling with OAuth<a class="headerlink" href="#perform-sampling-with-oauth" title="Permalink to this headline">¶</a></h3>
<p>To perform sampling:</p>
<ol class="arabic">
<li><p>Open the catalog page of the file or directory you want to sample.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>Sampling is supported for CSV, TSV, PSV, and Parquet file formats.</p>
</div>
</div></blockquote>
</li>
<li><p>Open the <strong>Samples</strong> tab.</p></li>
<li><p>Click <strong>Credential Settings</strong>.</p>
<blockquote>
<div><a class="with-border reference internal image-reference" href="../../../_images/AzureBlobOCF_05.png"><img alt="../../../_images/AzureBlobOCF_05.png" class="with-border" src="../../../_images/AzureBlobOCF_05.png" style="width: 500px;" /></a>
</div></blockquote>
</li>
<li><p>Click <strong>Select &gt; Add New</strong> button.</p>
<blockquote>
<div><a class="with-border reference internal image-reference" href="../../../_images/AzureBlobOCF_06.png"><img alt="../../../_images/AzureBlobOCF_06.png" class="with-border" src="../../../_images/AzureBlobOCF_06.png" style="width: 300px;" /></a>
</div></blockquote>
</li>
<li><p>Select <strong>Azure OAuth Authentication</strong> from the <strong>Authentication Type</strong> dropdown. Provide Credential Name and choose the relevant <strong>Plugin Config Name</strong>.</p>
<blockquote>
<div><a class="with-border reference internal image-reference" href="../../../_images/AzureBlobOCF_10.png"><img alt="../../../_images/AzureBlobOCF_10.png" class="with-border" src="../../../_images/AzureBlobOCF_10.png" style="width: 300px;" /></a>
</div></blockquote>
</li>
<li><p>Click <strong>Save</strong>.</p></li>
<li><p>Click <strong>Authenticate</strong>. You will be redirected the Azure AD login page.</p>
<blockquote>
<div><a class="with-border reference internal image-reference" href="../../../_images/AzureBlobOCF_11.png"><img alt="../../../_images/AzureBlobOCF_11.png" class="with-border" src="../../../_images/AzureBlobOCF_11.png" style="width: 300px;" /></a>
</div></blockquote>
</li>
<li><p>Login to Azure AD with your Azure AD credentials.</p>
<blockquote>
<div><a class="with-border reference internal image-reference" href="../../../_images/AzureBlobOCF_12.png"><img alt="../../../_images/AzureBlobOCF_12.png" class="with-border" src="../../../_images/AzureBlobOCF_12.png" style="width: 300px;" /></a>
</div></blockquote>
</li>
<li><p>Click the <strong>Run Sample</strong> button on the catalog page to see sampled data.</p>
<blockquote>
<div><a class="with-border reference internal image-reference" href="../../../_images/AzureBlobOCF_09.png"><img alt="../../../_images/AzureBlobOCF_09.png" class="with-border" src="../../../_images/AzureBlobOCF_09.png" style="width: 500px;" /></a>
</div></blockquote>
</li>
</ol>
</section>
</section>
<section id="limitations">
<h2>Limitations<a class="headerlink" href="#limitations" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ol class="arabic simple">
<li><p>Incremental extraction is not supported.</p></li>
<li><p>The object Owner value will not be extracted.</p></li>
<li><p>The last modification time value is not extracted for Azure Blob Storage folders.</p></li>
</ol>
</div></blockquote>
</section>
<section id="troubleshooting">
<h2>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permalink to this headline">¶</a></h2>
<section id="test-connection-issues">
<h3>Test Connection Issues<a class="headerlink" href="#test-connection-issues" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><p>Make sure the Azure Storage account access key or SAS is correct.</p></li>
<li><p>Make sure you have provided the correct endpoint suffix.</p></li>
</ol>
</section>
<section id="no-inventory-reports-found">
<h3>No Inventory Reports Found<a class="headerlink" href="#no-inventory-reports-found" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><p>Make sure that the destination container is correct.</p></li>
<li><p>If the destination container is correct, then wait for 48 hours after setting up inventory for inventory report generation and try again.</p></li>
</ol>
</section>
<section id="mde-fails-due-to-access-issue">
<h3>MDE Fails Due to Access Issue<a class="headerlink" href="#mde-fails-due-to-access-issue" title="Permalink to this headline">¶</a></h3>
<p>Make sure the user account has access to the destination container.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>More troubleshooting recommendations can be found in <a class="reference external" href="../../../sources/OpenConnectorFramework/OCFTroubleshooting.html">Troubleshooting</a>.</p>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer>

  
<div class="navigation-bar">

    <div class="navigation navigation--prev">
        
        <a class="navigation__link" href="AzureBlobStorageOCFConnectorOverview.html">
            <button class="navigation__button">
                <i class="icon icon-left"></i>
            </button>
            <div class="navigation__title">
                <span class="heading">Previous</span> <br />Azure Blob Storage OCF Connector: Overview
            </div>
        </a>
        
    </div>

    <div class="navigation navigation--next">
        
        <a class="navigation__link" title="Accesskey Alt(+Shift)+p" accesskey="p" href="AzureServicePrincipalAuthentication.html">
            <div class="navigation__title">
                <span class="heading">Next</span> <br />Azure Blob Storage OCF Connector: Azure Service Principal Authentication
            </div>
            <button class="navigation__button" title="Accesskey Alt(+Shift)+n" accesskey="n">
                <i class="icon icon-right"></i>
            </button>
        </a>
        
    </div>

</div>


</footer>

        </div>
      </div>

    </section>

    <div class="wy-nav-side wy-nav-secondary">
      <div class="wy-side-scroll">
        <div class="wy-side-scroll__content">
          <div class="wy-menu-secondary">
              <div class="comments">
    <a href="mailto:no-reply-docs-feedback@alation.com?subject=Documentation Feedback on sources/OpenConnectorFramework/AzureBlobStorage/AzureBlobStorageOCFConnectorInstallandConfigure&body=Alation%20welcomes%20your%20comments%20on%20typos,%20content%20accuracy%20and%20completeness,%20and%20whether%20you%20found%20this%20page%20helpful.%20You%20will%20not%20receive%20a%20reply%20to%20this%20email.">
        <i class="icon icon-envelope" aria-hidden="true"></i>Request docs changes
    </a>
    <a href="#open-modal-pdf">
        <i class="icon icon-pdf" aria-hidden="true"></i>Download PDF
    </a>
</div>
              
                <p class="wy-menu-secondary-header">On this page</p>
                <ul>
<li><a class="reference internal" href="#">Azure Blob Storage OCF Connector: Install and Configure</a><ul>
<li><a class="reference internal" href="#required-information">Required Information</a></li>
<li><a class="reference internal" href="#configuration-in-azure-portal">Configuration in Azure Portal</a><ul>
<li><a class="reference internal" href="#create-a-destination-container">Create a Destination Container</a></li>
<li><a class="reference internal" href="#create-inventory-rule-for-source-containers">Create Inventory Rule for Source Containers</a><ul>
<li><a class="reference internal" href="#fields-in-inventory">Fields in Inventory</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#authentication">Authentication</a><ul>
<li><a class="reference internal" href="#using-shared-access-signature">Using Shared Access Signature</a></li>
<li><a class="reference internal" href="#using-account-access-key">Using Account Access Key</a></li>
<li><a class="reference internal" href="#using-azure-service-principal">Using Azure Service Principal</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configuration-in-alation">Configuration in Alation</a><ul>
<li><a class="reference internal" href="#step-1-install-the-connector">Step 1: Install the Connector</a><ul>
<li><a class="reference internal" href="#alation-on-prem">Alation On-Prem</a></li>
<li><a class="reference internal" href="#alation-cloud-service">Alation Cloud Service</a></li>
</ul>
</li>
<li><a class="reference internal" href="#step-2-create-and-configure-a-new-file-system-source">Step 2: Create and Configure a New File System Source</a></li>
</ul>
</li>
<li><a class="reference internal" href="#access">Access</a></li>
<li><a class="reference internal" href="#general-settings">General Settings</a><ul>
<li><a class="reference internal" href="#connector-settings">Connector Settings</a><ul>
<li><a class="reference internal" href="#storage-endpoint-suffix">Storage Endpoint Suffix</a></li>
</ul>
</li>
<li><a class="reference internal" href="#logging-configuration">Logging Configuration</a></li>
<li><a class="reference internal" href="#test-connection">Test Connection</a></li>
<li><a class="reference internal" href="#deleting-the-data-source">Deleting the Data Source</a></li>
</ul>
</li>
<li><a class="reference internal" href="#metadata-extraction">Metadata Extraction</a><ul>
<li><a class="reference internal" href="#full-extraction">Full Extraction</a></li>
<li><a class="reference internal" href="#selective-extraction">Selective Extraction</a></li>
</ul>
</li>
<li><a class="reference internal" href="#schema-extraction">Schema Extraction</a><ul>
<li><a class="reference internal" href="#understanding-schema-extraction">Understanding Schema Extraction</a></li>
<li><a class="reference internal" href="#perform-schema-extraction">Perform Schema Extraction</a></li>
</ul>
</li>
<li><a class="reference internal" href="#order-of-extraction-jobs">Order of Extraction Jobs</a></li>
<li><a class="reference internal" href="#schedule-metadata-extraction">Schedule Metadata Extraction</a></li>
<li><a class="reference internal" href="#sampling">Sampling</a><ul>
<li><a class="reference internal" href="#sampling-with-basic-authentication">Sampling with Basic Authentication</a></li>
<li><a class="reference internal" href="#sampling-with-azure-oauth-authentication">Sampling with Azure OAuth Authentication</a><ul>
<li><a class="reference internal" href="#required-permissions-for-users">Required Permissions for Users</a></li>
<li><a class="reference internal" href="#step-1-register-application-in-azure-ad">Step 1: Register Application in Azure AD</a></li>
<li><a class="reference internal" href="#step-2-create-oauth-plugin">Step 2: Create OAuth Plugin</a></li>
</ul>
</li>
<li><a class="reference internal" href="#perform-sampling-with-oauth">Perform Sampling with OAuth</a></li>
</ul>
</li>
<li><a class="reference internal" href="#limitations">Limitations</a></li>
<li><a class="reference internal" href="#troubleshooting">Troubleshooting</a><ul>
<li><a class="reference internal" href="#test-connection-issues">Test Connection Issues</a></li>
<li><a class="reference internal" href="#no-inventory-reports-found">No Inventory Reports Found</a></li>
<li><a class="reference internal" href="#mde-fails-due-to-access-issue">MDE Fails Due to Access Issue</a></li>
</ul>
</li>
</ul>
</li>
</ul>

              
            </div>
          </div>
      </div>
    </div>

  </div>

  
  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->

  
    <script id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../../_static/clipboard.min.js"></script>
      <script type="text/javascript" src="../../../_static/copybutton.js"></script>
      <script type="text/javascript" src="../../../_static/js/rtd_sphinx_search.min.js"></script>
  
  <script type="text/javascript" src="../../../_static/searchtools.js"></script> <script type="text/javascript" id="idPiwikScriptPlaceholder"></script><script type="text/javascript" src="../../../_static/js/main.bundle.js"></script>
  <script type="text/javascript" src="../../../_static/js/runtime.bundle.js"></script>

  
  

  
    <div id="open-modal-pdf" class="modal-window">
<div>
  <a href="#" title="Close" class="modal-close">Close</a>
  <h4>Alation Documentation PDF</h4>
  <p>This PDF contains all our documentation and is more than <b>120 MB</b> in size. We recommend using an ethernet or Wi-Fi connection for downloading.</p>
  <br>
  <div class="modal-buttons">
    <a href="https://pdf-docs.alation.com/AlationUserDocs.pdf" class="btn-cta btn-cta--primary" target="_blank">
      Download PDF
    </a>
    <a href="#" title="Close" class="btn-cta">Cancel</a>
  </div>
</div>
  

</body>
</html>
<!--3.6.17-->