
<!DOCTYPE html>
<html lang="" >
<head>
  <meta charset="utf-8"/>
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="book-version"      content=""/>
  <meta name="book-release"      content=""/>
  <meta name="docsearch:name"    content="Alation User Guide" />
  <meta name="docsearch:version" content="" />
  <meta name="docsearch:package_type" content="" />
	<meta name="robots" content="noindex" />

  
  <title>Manage Encryption Keys &mdash; Alation User Guide</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  

  

  
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/main.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/sphinx_collapse.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/rtd_sphinx_search.min.css" type="text/css" />
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="Alation User Guide" href="#"/>
        <link rel="up" title="Administrator Settings" href="index.html"/>
        <link rel="next" title="Feature Configuration" href="FeatureConfiguration.html"/>
        <link rel="prev" title="License" href="License.html"/>

	

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-67846571-1"></script>
	<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());

	gtag('config', 'UA-67846571-1');
	</script>

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<!-- Second Google Analytics tag to assist mapping with mattermost.com visits --> 
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-120238482-1"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'UA-120238482-1');
	</script>


</head>

<body class="wy-body-for-nav" role="document">

  <header>
    <div class="header__container wy-max-content-width">
        <a href="/" class="header__logo">
            <img width="176" src="../../_static/img/logo-alation.svg" alt="Alation" />
        </a>
        <ul class="header__links">
            <li><a href="https://help.alation.com/s/">Alation Help Center</a></li>
        </ul>
    </div>
</header>

  <div class="wy-grid-for-nav wy-max-content-width">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-scroll__content">
          <div class="wy-side-nav-search">
            

            <ul class="sidebartop">
              <li class="nolink search"><div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search this project" aria-label="Search this project" id="searchinput" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
</li>

            </ul>

            
          </div>

          <div class="wy-menu wy-sidebar wy-sidebar--hidden" data-spy="affix" role="navigation" aria-label="main navigation">
            
              
              
              
                  <p class="caption" role="heading"><span class="caption-text">Welcome to Alation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/About/index.html">About Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/CloudAndOnPrem/index.html">Alation Cloud and On-Premise</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/UserProfileandPreferences/index.html">User Profile and Preferences</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/CatalogBasics/index.html">Catalog Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/CatalogPages/index.html">Catalog Pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Conversations/index.html">Conversations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Domains/index.html">Domains</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/BestPractices/index.html">Best Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Glossary/index.html">Alation Glossary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation Cloud Service</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/StatusPage/index.html">Status Page</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/CloudOverview/index.html">Cloud Service Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/CloudConfiguration/index.html">Configuration for Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/AlationAgent/index.html">Alation Agent</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation Integration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../integration/AlationAnywhere/index.html">Alation Anywhere</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../integration/AlationConnectedSheets/index.html">Alation Connected Sheets</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installation &amp; Configuration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/ServerInstallation/index.html">Install Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/HighAvailability/index.html">High Availability</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/Update/index.html">Update Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/BackupandRestore/index.html">Back Up and Restore</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/LineageV2/index.html">Lineage V2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/LineageV3/index.html">Lineage V3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/AlationAnalyticsV2/index.html">Alation Analytics V2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/AlationContainerService/index.html">Alation Container Service</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../sources/CatalogSources/index.html">Catalog Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/VirtualDataSources/index.html">Virtual Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/Lineage/index.html">Lineage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/APIResources/index.html">API Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/WorkwithCatalogData/index.html">Working with Catalog Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/OpenConnectorFramework/index.html">Open Connector Framework</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Data Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/DSConfiguration/index.html">Data Source Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/AddDataSources/index.html">Adding Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/ComposeSSOAWSDataSources/index.html">Compose SSO for Amazon Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/ComposeSSOAzureDataSources/index.html">Compose SSO for Azure Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/AuthenticationForExtraction/index.html">Authentication for Extraction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/CustomDB/index.html">Custom DB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/GBQ/index.html">Google BigQuery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/Hive/index.html">Hive</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">BI Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/AddBISources/index.html">Add BI Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/AddTableauServer/index.html">Add Tableau Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/WorkwithBISources/index.html">Working with BI Sources</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">File System Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../filesystems/FileSystems/index.html">Add File Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../filesystems/VirtualFileSystems/index.html">Virtual File Systems</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Analysts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/UserAuthenticationForDataSources/index.html">User Authentication for Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/ShareAndAccessQueries/index.html">Share and Access Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/WriteQueries/index.html">Write Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/DevelopQueries/index.html">Develop Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/WorkwithQueryResults/index.html">Work with Query Results</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Data Stewards</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../steward/GovernanceApp/index.html">Governance App</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/PolicyCenter/index.html">Policy Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/Workflow/index.html">Workflow Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/GovernanceDashboard/index.html">Governance Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/StewardshipWorkbench/index.html">Stewardship Workbench</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/AnalyticsStewardship/index.html">Analytics Stewardship</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/Glossary/index.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/ArticlesAndTags/index.html">Articles and Tags</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/ArticleGroups/index.html">Article Groups</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/DataCatalogCustomization/index.html">Customize Your Data Catalog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/DataDocumentation/index.html">Data Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/AutoTitlingandLexicon/index.html">Auto-titling and Lexicon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/SnowflakeTags/index.html">Snowflake Tags</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Server Administrators</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../CustomizableHomePage/index.html">Customizable Homepage</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Administrator Settings</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="ManageUsers.html">Manage Users</a></li>
<li class="toctree-l2"><a class="reference internal" href="BulkUserAccountCreation.html">User Profiles Tab: Bulk User Account Creation</a></li>
<li class="toctree-l2"><a class="reference internal" href="AuthenticationTab.html">Authentication Tab</a></li>
<li class="toctree-l2"><a class="reference internal" href="AuthConfigMethodsForExternalSystems.html">Authentication Configuration Methods for External Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="ManageAccessUsingLDAP.html">Manage Access to Alation Using LDAP Filters</a></li>
<li class="toctree-l2"><a class="reference internal" href="Groups.html">Manage Groups</a></li>
<li class="toctree-l2"><a class="reference internal" href="SCIMGroups.html">SCIM Groups</a></li>
<li class="toctree-l2"><a class="reference internal" href="GroupProfilePage.html">Group Profile Page</a></li>
<li class="toctree-l2"><a class="reference internal" href="ConfigureLDAPGroups.html">Configure LDAP Groups</a></li>
<li class="toctree-l2"><a class="reference internal" href="UseCustomGroupsToAssignRoles.html">Use Custom Groups to Assign User Roles</a></li>
<li class="toctree-l2"><a class="reference internal" href="EmailServerTab.html">Email Server Tab</a></li>
<li class="toctree-l2"><a class="reference internal" href="BulkUtility.html">Bulk Utility</a></li>
<li class="toctree-l2"><a class="reference internal" href="License.html">License</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Manage Encryption Keys</a></li>
<li class="toctree-l2"><a class="reference internal" href="FeatureConfiguration.html">Feature Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="ComposeSettingsTab.html">Compose Settings Tab</a></li>
<li class="toctree-l2"><a class="reference internal" href="SoftwareUpdatesTab.html">Software Updates Tab</a></li>
<li class="toctree-l2"><a class="reference internal" href="ReportUsage.html">Reporting Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="SendEncryptedLogs.html">Logging Tab: Sending Encrypted Logs</a></li>
<li class="toctree-l2"><a class="reference internal" href="MiscTab.html">Misc Tab</a></li>
<li class="toctree-l2"><a class="reference internal" href="Branding.html">Add Your Company’s Branding</a></li>
<li class="toctree-l2"><a class="reference internal" href="AlertBanner.html">Add Alert Banners to the Homepage</a></li>
<li class="toctree-l2"><a class="reference internal" href="ManageScheduledQueries.html">Manage Scheduled Queries</a></li>
<li class="toctree-l2"><a class="reference internal" href="MonitorComponentHealth.html">Monitor Component Health</a></li>
<li class="toctree-l2"><a class="reference internal" href="MonitorTasks.html">Monitor Tasks</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../AdditionalConfiguration/index.html">Additional Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../RunbookForAdministrators/index.html">Runbook for Administrators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../AlationAPIs/index.html">Alation APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../How-tos/index.html">How-tos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Troubleshooting/index.html">Troubleshooting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Release Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../releases/releasenotes/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/supportmatrices/index.html">Support Matrices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/endofsupport/index.html">End Of Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/snowflakeclladdon/index.html">Snowflake Parser Add-On</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/fieldnotices/index.html">Important Notices and Security Alerts</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Archived Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../archive/About/index.html">About the Documentation Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/AdminConfig/index.html">Administration and Update Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/ReleaseNotes/index.html">Release Notes Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/Usage/index.html">Usage and Customization Archive</a></li>
</ul>

              
            
          </div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="wy-nav-top-icon"></i>
        <a href="../../index.html">Alation User Guide</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">

          <div role="navigation" aria-label="breadcrumbs" class="breadcrumbs">
    <a href="../../index.html">Docs</a>
    <span class="separator">&gt;</span>
    <a href="index.html">Administrator Settings</a>
    <span class="separator">&gt;</span>
    <span>Manage Encryption Keys</span>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody" class="toBeIndexed">
            
  <section id="manage-encryption-keys">
<h1>Manage Encryption Keys<a class="headerlink" href="#manage-encryption-keys" title="Permalink to this headline">¶</a></h1>
<p class="cloud-label hover-text">Alation Cloud Service <span class="tooltip-text">Applies to Alation Cloud Service instances of Alation</span></p>
<p class="on-prem-label hover-text">Customer Managed <span class="tooltip-text">Applies to customer-managed instances of Alation</span></p>
<p>For all customer-managed Alation deployments, encryption keys are generated and stored internally in Alation, and the Encryption Key Rotation page allows you to regenerate those keys manually. This is described in <a class="reference internal" href="#rotate-encryption-keys-manually">Rotate Encryption Keys Manually</a>.</p>
<p>For Enterprise Alation Cloud Service deployments, encryption keys are by default generated and rotated automatically. However, users may provide their own encryption keys using the <a class="reference internal" href="#bring-your-own-encryption-key">Bring Your Own Encryption Key</a> feature.</p>
<section id="rotate-encryption-keys-manually">
<h2>Rotate Encryption Keys Manually<a class="headerlink" href="#rotate-encryption-keys-manually" title="Permalink to this headline">¶</a></h2>
<p>You can rotate encryption keys on the <strong>Admin Settings</strong> page. Regular key rotation is a recommended practice to achieve compliance with data security requirements at an organization.</p>
<p>This requires the role of <em>Server Admin</em>.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<ol class="arabic simple">
<li><p>It is recommended to take a backup before starting Key Rotation by following steps in <a class="reference internal" href="../../installconfig/BackupandRestore/CreateBackupsManually.html"><span class="doc">Create Backups Manually</span></a>.</p></li>
<li><p>The initial key rotation process requires additional disk space (1.5 times the size of the internal database rosemeta).</p></li>
<li><p>Consider taking another backup after key rotation has finished. This may be a fail-safe if you may need to restore Alation from a backup before the next scheduled backup takes place. This backup will have the new encryption keys and will help avoid re-keying the data.</p></li>
</ol>
</div>
<p>To rotate keys,</p>
<ol class="arabic">
<li><p>Sign in to Alation as a Server Admin and click the <strong>Admin Settings</strong> icon on the upper right to open the <strong>Admin Settings</strong> page. In the Server Admin section, click <strong>Encryption Key Rotation</strong>. This will open the <strong>Encryption Key Rotation</strong> tab:</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/Encryption_01.png"><img alt="../../_images/Encryption_01.png" class="align-center" src="../../_images/Encryption_01.png" style="width: 5.5in;" /></a>
</div></blockquote>
</li>
<li><p>Under <strong>Key Rotation</strong>, click <strong>Start Key Rotation</strong> and in the confirmation dialog that opens, click <strong>Confirm</strong>:</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/Encryption_02.png"><img alt="../../_images/Encryption_02.png" class="align-center" src="../../_images/Encryption_02.png" style="width: 300px;" /></a>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p><strong>Do not stop, start, or restart any Alation services until key rotation is complete</strong>. Stopping and starting services while key rotation is in progress may result in data corruption in the internal Postgres database.</p>
</div>
</div></blockquote>
</li>
<li><p>Confirmation will initiate a key rotation job that you can monitor under <strong>Key Rotation Job History</strong>:</p>
<blockquote>
<div><img alt="../../_images/Encryption_03.png" class="align-center" src="../../_images/Encryption_03.png" />
</div></blockquote>
</li>
</ol>
<p>Note that the key rotation job cannot be scheduled. The key rotation schedule has to be managed outside Alation.</p>
</section>
<section id="bring-your-own-encryption-key">
<span id="byok"></span><h2>Bring Your Own Encryption Key<a class="headerlink" href="#bring-your-own-encryption-key" title="Permalink to this headline">¶</a></h2>
<p>Alation Enterprise Edition supports Bring Your Own Encryption Key (BYOK), which allows you to use your own Amazon Web Services (AWS) KMS Key Management Service account to generate cloud encryption keys.</p>
<p>The BYOK option is used for increased security, allowing full control over the keys that are used to encrypt or decrypt data. With BYOK, you provide the encryption key that is used for encryption of data in the Alation Catalog.</p>
<p>This feature is enabled by default on Alation Cloud Service Enterprise Edition deployments with cloud-native architecture. Administration of the BYOK requires the Alation Server Admin role.</p>
<section id="limitations">
<h3>Limitations<a class="headerlink" href="#limitations" title="Permalink to this headline">¶</a></h3>
<p>There are some limitations to the BYOK functionality, including:</p>
<ul>
<li><p>Once your KMS key is enabled for an instance, it cannot be reversed to using Alation’s KMS key. Be sure to exercise caution before enabling your KMS key.</p></li>
<li><div class="admonition important">
<p class="admonition-title">Important</p>
<p>If BYOK is enabled, your KMS key service must be available and responding at all times to ensure proper functioning of the Alation Catalog. If the key is deleted or the key service is down, your Alation instance could become inoperative.</p>
</div>
</li>
<li><p>There is some transient data related to Query Log Ingestion (QLI) which will be stored as encrypted using Alation’s KMS key, even with BYOK enabled.</p></li>
</ul>
</section>
<section id="initial-preparation-from-your-aws-account">
<h3>Initial Preparation from Your AWS Account<a class="headerlink" href="#initial-preparation-from-your-aws-account" title="Permalink to this headline">¶</a></h3>
<p>From your AWS Account, do the following:</p>
<ol class="arabic">
<li><p>Create an <strong>IAM Role</strong> with the name <strong>AlationBYOKRole</strong>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The role name must be exactly the same, including upper and lower case as the role name is case sensitive. This is so the Alation service account does not try to access any other role in your account, as there is a strict permission policy applied on the service account role to only assume the role with this specific name. See <a class="reference external" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create_for-user.html">Creating a role to delegate permissions to an IAM user - AWS Identity and Access Management</a> for more information.</p>
</div>
</li>
<li><p>Create a <strong>KMS Key</strong> that you want to use for encrypting data inside Alation.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Alation requires this to be a symmetric key that is enabled. Having the key enabled allows Alation to use the KMS key for <a class="reference external" href="https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#cryptographic-operations">cryptographic operations</a>. See <a class="reference external" href="https://docs.aws.amazon.com/kms/latest/developerguide/create-keys.html">Creating keys - AWS Key Management Service</a> for more information.</p>
</div>
</li>
</ol>
</section>
<section id="onboarding-the-aws-managed-key-to-alation">
<h3>Onboarding the AWS Managed Key to Alation<a class="headerlink" href="#onboarding-the-aws-managed-key-to-alation" title="Permalink to this headline">¶</a></h3>
<p>To onboard the AWS KMS Key to Alation, do the following:</p>
<ol class="arabic">
<li><p>In Alation, click the <strong>Settings</strong> icon in the upper right corner of the home page.</p></li>
<li><p>Click <strong>Server Admin</strong> &gt; <strong>Encryption Key Rotation</strong>. The <strong>Bring Your Own Key</strong> page opens:</p>
<img alt="../../_images/byok_adminsettings.png" src="../../_images/byok_adminsettings.png" />
</li>
<li><p>Under <strong>Provider Name</strong>, ensure that <strong>AWS KMS</strong> is selected.</p></li>
<li><p>Under <strong>Provider Region</strong>, select the appropriate region.</p></li>
<li><p>Under <strong>Key ARN</strong>, enter the Amazon Resource Name (ARN) for your generated key.</p></li>
<li><p>Under <strong>Assume Role ARN</strong>, enter the Amazon Resource Name (ARN) for your AlationBYOKRole.</p></li>
<li><p>Click the link for <strong>permission policy snippet</strong> to open the snippet:</p>
<img alt="Permission policy in the Alation Catalog user interface" src="../../_images/byok_permissionsnippet.png" />
</li>
<li><p>Copy the snippet and in the AWS Console paste the snippet into the permissions policies for your AlationBYOKRole (substitute your actual Key ARN for the placeholder in the snippet):</p>
<img alt="Permission policy in the AWS Console" src="../../_images/byok_awspermissionspolicy.png" />
<p>This ensures that the AlationBYOKRole can access the KMS Key and perform the following operations on it:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">&quot;kms:Encrypt&quot;,</span>
<span class="go">&quot;kms:Decrypt&quot;,</span>
<span class="go">&quot;kms:ReEncrypt*&quot;,</span>
<span class="go">&quot;kms:GenerateDataKey&quot;,</span>
<span class="go">&quot;kms:DescribeKey&quot;,</span>
<span class="go">&quot;kms:DeleteImportedKeyMaterial&quot;,</span>
<span class="go">&quot;kms:ConnectCustomKeyStore&quot;</span>
</pre></div>
</div>
</li>
<li><p>In Alation, click the link for <strong>trust policy snippet</strong> to open the snippet:</p>
<img alt="Trust policy in the Alation Catalog user interface" src="../../_images/byok_trustsnippet.png" />
</li>
<li><p>Copy the snippet and in the AWS Console paste the snippet into the trust policies for your AlationBYOKRole:</p>
<img alt="Trust policy in the AWS Console" src="../../_images/byok_awstrustperm.png" />
<p>This allows your Alation service account to assume the role AlationBYOKRole. The ExternalId value must be exchanged and agreed upon by Alation and your AWS account. Each Alation customer gets a unique ID that is automatically generated on Alation, and you can find this ID within the trust snippet. This ExternalID value should be included in the Trust Policy that you set up in your AWS account for the role AlationBYOKRole. This is done for increased security and to prevent vulnerabilities such as the <a class="reference external" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/confused-deputy.html">“confused-deputy problem”</a>.</p>
</li>
</ol>
<p>When the required setup on your AWS account is complete, validate that Alation can access the KMS Key.</p>
<ol class="arabic">
<li><p>Click the <strong>Test</strong> button. When validation is complete, you will see a confirmation stating Alation is successful in accessing the KMS Key.</p></li>
<li><p>Click <strong>Save</strong>. A confirmation dialog displays, warning that the action is not reversible and reminding you of some of the limitations noted above.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the key is in a different region from the Alation service, there can be increased latency for normal operations on the Alation Catalog that could involve encrypting or decrypting data, for example, Data Profiling.</p>
<img alt="../../_images/byok_confirmdialog.png" src="../../_images/byok_confirmdialog.png" />
</div>
</li>
<li><p>Click <strong>Continue</strong> to import the KMS Key into Alation. When the import is complete, a confirmation displays that your data will be encrypted using your encryption key.</p>
<blockquote>
<div><img alt="../../_images/byok_byoksuccess.png" src="../../_images/byok_byoksuccess.png" />
</div></blockquote>
</li>
</ol>
</section>
</section>
</section>


           </div>
          </div>
          <footer>

  
<div class="navigation-bar">

    <div class="navigation navigation--prev">
        
        <a class="navigation__link" href="License.html">
            <button class="navigation__button">
                <i class="icon icon-left"></i>
            </button>
            <div class="navigation__title">
                <span class="heading">Previous</span> <br />License
            </div>
        </a>
        
    </div>

    <div class="navigation navigation--next">
        
        <a class="navigation__link" title="Accesskey Alt(+Shift)+p" accesskey="p" href="FeatureConfiguration.html">
            <div class="navigation__title">
                <span class="heading">Next</span> <br />Feature Configuration
            </div>
            <button class="navigation__button" title="Accesskey Alt(+Shift)+n" accesskey="n">
                <i class="icon icon-right"></i>
            </button>
        </a>
        
    </div>

</div>


</footer>

        </div>
      </div>

    </section>

    <div class="wy-nav-side wy-nav-secondary">
      <div class="wy-side-scroll">
        <div class="wy-side-scroll__content">
          <div class="wy-menu-secondary">
              <div class="comments">
    <a href="mailto:no-reply-docs-feedback@alation.com?subject=Documentation Feedback on admins/AdminSettings/EncryptionKeyRotation&body=Alation%20welcomes%20your%20comments%20on%20typos,%20content%20accuracy%20and%20completeness,%20and%20whether%20you%20found%20this%20page%20helpful.%20You%20will%20not%20receive%20a%20reply%20to%20this%20email.">
        <i class="icon icon-envelope" aria-hidden="true"></i>Request docs changes
    </a>
    <a href="#open-modal-pdf">
        <i class="icon icon-pdf" aria-hidden="true"></i>Download PDF
    </a>
</div>
              
                <p class="wy-menu-secondary-header">On this page</p>
                <ul>
<li><a class="reference internal" href="#">Manage Encryption Keys</a><ul>
<li><a class="reference internal" href="#rotate-encryption-keys-manually">Rotate Encryption Keys Manually</a></li>
<li><a class="reference internal" href="#bring-your-own-encryption-key">Bring Your Own Encryption Key</a><ul>
<li><a class="reference internal" href="#limitations">Limitations</a></li>
<li><a class="reference internal" href="#initial-preparation-from-your-aws-account">Initial Preparation from Your AWS Account</a></li>
<li><a class="reference internal" href="#onboarding-the-aws-managed-key-to-alation">Onboarding the AWS Managed Key to Alation</a></li>
</ul>
</li>
</ul>
</li>
</ul>

              
            </div>
          </div>
      </div>
    </div>

  </div>

  
  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->

  
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/clipboard.min.js"></script>
      <script type="text/javascript" src="../../_static/copybutton.js"></script>
      <script type="text/javascript" src="../../_static/js/rtd_sphinx_search.min.js"></script>
  
  <script type="text/javascript" src="../../_static/searchtools.js"></script> <script type="text/javascript" id="idPiwikScriptPlaceholder"></script><script type="text/javascript" src="../../_static/js/main.bundle.js"></script>
  <script type="text/javascript" src="../../_static/js/runtime.bundle.js"></script>

  
  

  
    <div id="open-modal-pdf" class="modal-window">
<div>
  <a href="#" title="Close" class="modal-close">Close</a>
  <h4>Alation Documentation PDF</h4>
  <p>This PDF contains all our documentation and is more than <b>120 MB</b> in size. We recommend using an ethernet or Wi-Fi connection for downloading.</p>
  <br>
  <div class="modal-buttons">
    <a href="https://pdf-docs.alation.com/AlationUserDocs.pdf" class="btn-cta btn-cta--primary" target="_blank">
      Download PDF
    </a>
    <a href="#" title="Close" class="btn-cta">Cancel</a>
  </div>
</div>
  

</body>
</html>
<!--3.6.17-->