
<!DOCTYPE html>
<html lang="" >
<head>
  <meta charset="utf-8"/>
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="book-version"      content=""/>
  <meta name="book-release"      content=""/>
  <meta name="docsearch:name"    content="Alation User Guide" />
  <meta name="docsearch:version" content="" />
  <meta name="docsearch:package_type" content="" />
	<meta name="robots" content="noindex" />

  
  <title>AWS PrivateLink with Alation Cloud Service &mdash; Alation User Guide</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  

  

  
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/main.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/sphinx_collapse.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/rtd_sphinx_search.min.css" type="text/css" />
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="Alation User Guide" href="#"/>
        <link rel="up" title="Configuration for the Cloud" href="index.html"/>
        <link rel="next" title="Reconfigure Azure AD and Okta for Alation’s Cloud Native Architecture" href="SSOMigration.html"/>
        <link rel="prev" title="Whitelist the Alation Cloud Service IP" href="WhitelistCloudServiceIP.html"/>

	

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-67846571-1"></script>
	<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());

	gtag('config', 'UA-67846571-1');
	</script>

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<!-- Second Google Analytics tag to assist mapping with mattermost.com visits --> 
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-120238482-1"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'UA-120238482-1');
	</script>


</head>

<body class="wy-body-for-nav" role="document">

  <header>
    <div class="header__container wy-max-content-width">
        <a href="/" class="header__logo">
            <img width="176" src="../../_static/img/logo-alation.svg" alt="Alation" />
        </a>
        <ul class="header__links">
            <li><a href="https://help.alation.com/s/">Alation Help Center</a></li>
        </ul>
    </div>
</header>

  <div class="wy-grid-for-nav wy-max-content-width">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-scroll__content">
          <div class="wy-side-nav-search">
            

            <ul class="sidebartop">
              <li class="nolink search"><div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search this project" aria-label="Search this project" id="searchinput" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
</li>

            </ul>

            
          </div>

          <div class="wy-menu wy-sidebar wy-sidebar--hidden" data-spy="affix" role="navigation" aria-label="main navigation">
            
              
              
              
                  <p class="caption" role="heading"><span class="caption-text">Welcome to Alation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/About/index.html">About Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/CloudAndOnPrem/index.html">Alation Cloud and On-Premise</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/UserProfileandPreferences/index.html">User Profile and Preferences</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/CatalogBasics/index.html">Catalog Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/CatalogPages/index.html">Catalog Pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Conversations/index.html">Conversations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Domains/index.html">Domains</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/BestPractices/index.html">Best Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Glossary/index.html">Alation Glossary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation Cloud Service</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../StatusPage/index.html">Status Page</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CloudOverview/index.html">Cloud Service Overview</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Configuration for Cloud</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="AlationsIPAddressesForAllowLists.html">Alation’s IP Addresses for Allow Lists</a></li>
<li class="toctree-l2"><a class="reference internal" href="WhitelistCloudServiceIP.html">Whitelist the Alation Cloud Service IP</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">AWS PrivateLink with Alation Cloud Service</a></li>
<li class="toctree-l2"><a class="reference internal" href="SSOMigration.html">Reconfigure Azure AD and Okta for Alation’s Cloud Native Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="CloudConfigurationLimitations.html">Cloud Service Configuration Limitations</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../AlationAgent/index.html">Alation Agent</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation Integration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../integration/AlationAnywhere/index.html">Alation Anywhere</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../integration/AlationConnectedSheets/index.html">Alation Connected Sheets</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installation &amp; Configuration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/ServerInstallation/index.html">Install Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/HighAvailability/index.html">High Availability</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/Update/index.html">Update Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/BackupandRestore/index.html">Back Up and Restore</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/LineageV2/index.html">Lineage V2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/LineageV3/index.html">Lineage V3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/AlationAnalyticsV2/index.html">Alation Analytics V2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/AlationContainerService/index.html">Alation Container Service</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../sources/CatalogSources/index.html">Catalog Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/VirtualDataSources/index.html">Virtual Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/Lineage/index.html">Lineage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/APIResources/index.html">API Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/WorkwithCatalogData/index.html">Working with Catalog Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/OpenConnectorFramework/index.html">Open Connector Framework</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Data Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/DSConfiguration/index.html">Data Source Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/AddDataSources/index.html">Adding Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/ComposeSSOAWSDataSources/index.html">Compose SSO for Amazon Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/ComposeSSOAzureDataSources/index.html">Compose SSO for Azure Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/AuthenticationForExtraction/index.html">Authentication for Extraction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/CustomDB/index.html">Custom DB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/GBQ/index.html">Google BigQuery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/Hive/index.html">Hive</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">BI Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/AddBISources/index.html">Add BI Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/AddTableauServer/index.html">Add Tableau Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/WorkwithBISources/index.html">Working with BI Sources</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">File System Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../filesystems/FileSystems/index.html">Add File Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../filesystems/VirtualFileSystems/index.html">Virtual File Systems</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Analysts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/UserAuthenticationForDataSources/index.html">User Authentication for Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/ShareAndAccessQueries/index.html">Share and Access Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/WriteQueries/index.html">Write Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/DevelopQueries/index.html">Develop Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/WorkwithQueryResults/index.html">Work with Query Results</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Data Stewards</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../steward/GovernanceApp/index.html">Governance App</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/PolicyCenter/index.html">Policy Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/Workflow/index.html">Workflow Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/GovernanceDashboard/index.html">Governance Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/StewardshipWorkbench/index.html">Stewardship Workbench</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/AnalyticsStewardship/index.html">Analytics Stewardship</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/Glossary/index.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/ArticlesAndTags/index.html">Articles and Tags</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/ArticleGroups/index.html">Article Groups</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/DataCatalogCustomization/index.html">Customize Your Data Catalog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/DataDocumentation/index.html">Data Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/AutoTitlingandLexicon/index.html">Auto-titling and Lexicon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/SnowflakeTags/index.html">Snowflake Tags</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Server Administrators</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../admins/CustomizableHomePage/index.html">Customizable Homepage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AdminSettings/index.html">Administrator Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AdditionalConfiguration/index.html">Additional Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/RunbookForAdministrators/index.html">Runbook for Administrators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AlationAPIs/index.html">Alation APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/How-tos/index.html">How-tos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/Troubleshooting/index.html">Troubleshooting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Release Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../releases/releasenotes/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/supportmatrices/index.html">Support Matrices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/endofsupport/index.html">End Of Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/snowflakeclladdon/index.html">Snowflake Parser Add-On</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/fieldnotices/index.html">Important Notices and Security Alerts</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Archived Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../archive/About/index.html">About the Documentation Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/AdminConfig/index.html">Administration and Update Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/ReleaseNotes/index.html">Release Notes Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/Usage/index.html">Usage and Customization Archive</a></li>
</ul>

              
            
          </div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="wy-nav-top-icon"></i>
        <a href="../../index.html">Alation User Guide</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">

          <div role="navigation" aria-label="breadcrumbs" class="breadcrumbs">
    <a href="../../index.html">Docs</a>
    <span class="separator">&gt;</span>
    <a href="index.html">Configuration for the Cloud</a>
    <span class="separator">&gt;</span>
    <span>AWS PrivateLink with Alation Cloud Service</span>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody" class="toBeIndexed">
            
  <section id="aws-privatelink-with-alation-cloud-service">
<h1>AWS PrivateLink with Alation Cloud Service<a class="headerlink" href="#aws-privatelink-with-alation-cloud-service" title="Permalink to this headline">¶</a></h1>
<p class="cloud-label hover-text">Alation Cloud Service <span class="tooltip-text">Applies to Alation Cloud Service instances of Alation</span></p>
<p>Amazon’s AWS PrivateLink allows for secure connections between Alation Cloud Service and your AWS-based data sources.</p>
<section id="aws-privatelink-overview">
<h2>AWS PrivateLink Overview<a class="headerlink" href="#aws-privatelink-overview" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://docs.aws.amazon.com/vpc/latest/privatelink/what-is-privatelink.html">AWS PrivateLink</a> is a networking service that provides secure connectivity between AWS virtual private clouds (VPCs), supported AWS services, and your on-premises networks without exposing your traffic to the public internet.</p>
<p>With PrivateLink, you can connect native AWS services and partner services, like Alation, to other AWS services, like your data sources that run in AWS. PrivateLink connections stay within AWS boundaries, so traffic through PrivateLink isn’t exposed to the public internet. Data is only transmitted to Alation in response to requests from Alation Cloud Service.</p>
<section id="architecture">
<h3>Architecture<a class="headerlink" href="#architecture" title="Permalink to this headline">¶</a></h3>
<p>The following diagram summarizes the architecture of the PrivateLink networking option. Your data source’s VPC is the provider, and Alation’s VPC is the consumer. See Amazon’s <a class="reference external" href="https://docs.aws.amazon.com/vpc/latest/privatelink/concepts.html">PrivateLink documentation</a> for more information about these concepts.</p>
<img alt="../../_images/AWSPrivateLinkArchitecture.png" src="../../_images/AWSPrivateLinkArchitecture.png" />
</section>
<section id="permissions">
<h3>Permissions<a class="headerlink" href="#permissions" title="Permalink to this headline">¶</a></h3>
<p>PrivateLink does not interact or interfere with Alation Identity and Access Management (IAM) settings or permissions. In terms of the seven-layer network model, PrivateLink operates primarily at the network layer, while Alation IAM settings and permissions operate at the application layer.</p>
<p>However, you must add permissions that allow specific AWS principals to create an interface VPC endpoint to connect to your endpoint service. This is documented below.</p>
</section>
</section>
<section id="set-up-privatelink">
<h2>Set Up PrivateLink<a class="headerlink" href="#set-up-privatelink" title="Permalink to this headline">¶</a></h2>
<p>Follow this procedure to create an AWS PrivateLink connection between Alation Cloud Service and a data source located in an AWS virtual private cloud (VPC).</p>
<p>The overall process involves three main steps:</p>
<ol class="arabic">
<li><p><a class="reference internal" href="#create-a-network-load-balancer-in-your-aws-account">Create a Network Load Balancer in Your AWS Account</a></p></li>
<li><p><a class="reference internal" href="#create-an-endpoint-service-in-your-aws-account">Create an Endpoint Service in Your AWS Account</a></p></li>
<li><p><a class="reference internal" href="#establish-the-connection">Establish the Connection</a></p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This final step involves some back-and-forth between you and Alation Support. It also requires your Alation instance to be restarted, which will result in brief downtime. You’ll be able to arrange an appropriate time for Alation Support to restart your instance.</p>
</div>
</li>
</ol>
<section id="prerequisites">
<h3>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Your data source must be in an AWS virtual private cloud (VPC) that’s in the same AWS region as your Alation Cloud Service instance.</p></li>
<li><p>You need the IP address and port of the data source you’re connecting to.</p></li>
</ul>
</section>
<section id="create-a-network-load-balancer-in-your-aws-account">
<h3>Create a Network Load Balancer in Your AWS Account<a class="headerlink" href="#create-a-network-load-balancer-in-your-aws-account" title="Permalink to this headline">¶</a></h3>
<p>A network load balancer forwards incoming PrivateLink traffic to your data source. You can forward traffic to multiple data sources if needed. To create a network load balancer:</p>
<ol class="arabic simple">
<li><p>In the AWS Console, go to <strong>EC2</strong>.</p></li>
<li><p>Click <strong>Load Balancers</strong>.</p></li>
<li><p>Click <strong>Create load balancer</strong>.</p></li>
<li><p>Choose <strong>Network Load Balancer</strong>.</p></li>
<li><p>Click the <strong>Create</strong> button.</p></li>
<li><p>Fill out the <strong>Basic configuration</strong> section:</p>
<ol class="loweralpha simple">
<li><p>For <strong>Load balancer name</strong>, enter a name that’s unique within your AWS account.</p></li>
<li><p>For <strong>Scheme</strong>, select <strong>Internal</strong>.</p></li>
<li><p>For <strong>IP address type</strong>, select <strong>IPv4</strong>.</p></li>
</ol>
</li>
<li><p>Fill out the <strong>Network mapping</strong> section:</p>
<ol class="loweralpha simple">
<li><p>Select the <strong>VPC</strong> where your data source is located.</p></li>
<li><p>Under <strong>Mappings</strong>, select the availability zones where your data source is located.</p></li>
</ol>
</li>
</ol>
<ol class="arabic" id="load-balancer-step-8" start="8">
<li><p>In the <strong>Listeners and routing</strong> section, choose the protocol and port for the connection coming into your load balancer.</p></li>
<li><p>If you have an existing target group with your data source in it, select it and proceed to the final step. Otherwise, click <strong>Create target group</strong>. A new tab will open. Fill out the following information:</p>
<ol class="loweralpha">
<li><p>Select <strong>IP addresses</strong>.</p></li>
<li><p>Enter a <strong>Target group name</strong>.</p></li>
<li><p>Choose the protocol and port that’s listening on your data source.</p></li>
<li><p>Select the <strong>VPC</strong> where your data source is located.</p></li>
<li><p>Click <strong>Next</strong>.</p></li>
<li><p>Enter the IP address and port that’s listening on your data source, then click <strong>Include as pending</strong> below.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the IP address of your data source changes for any reason, you’ll have to update your load balancer to route traffic from Alation to the new IP address.</p>
</div>
</li>
<li><p>Click <strong>Create target group</strong>.</p></li>
<li><p>Once the target is healthy, return to the load balancer tab.</p></li>
</ol>
</li>
<li><p>Repeat the prior two steps for any additional data sources you may have.</p></li>
<li><p>Click <strong>Create load balancer</strong>.</p></li>
<li><p>For increased availability, scalability, and fault tolerance, we recommend turning on cross-zone load balancing:</p>
<ol class="loweralpha simple">
<li><p>Click <strong>View load balancer</strong> to return to the list of your load balancers.</p></li>
<li><p>Under <strong>Load balancers</strong>, click on the name of your load balancer to edit it.</p></li>
<li><p>Click the <strong>Attributes</strong> tab.</p></li>
<li><p>On the Attributes tab, click the <strong>Edit</strong> button.</p></li>
<li><p>Enable the <strong>Cross-zone load balancing</strong> toggle.</p></li>
<li><p>Click the <strong>Save changes</strong> button.</p></li>
</ol>
</li>
</ol>
<p>Once you’ve created a network load balancer, you need to create an endpoint service and associate it with the load balancer.</p>
</section>
<section id="create-an-endpoint-service-in-your-aws-account">
<h3>Create an Endpoint Service in Your AWS Account<a class="headerlink" href="#create-an-endpoint-service-in-your-aws-account" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><p>In the AWS Console, go to <strong>VPC</strong>.</p></li>
<li><p>Click <strong>Endpoint services</strong>.</p></li>
<li><p>Click <strong>Create endpoint service</strong>.</p></li>
<li><p>Enter a name.</p></li>
<li><p>For <strong>Load balancer type</strong>, select <strong>Network</strong>.</p></li>
<li><p>Select the load balancer you created. If you just created it, it may take some time to become available.</p></li>
<li><p>Click <strong>Create</strong>.</p></li>
<li><p>Once the endpoint is created, take note of the <strong>Service name</strong>. You will need to provide the service name to Alation.</p></li>
</ol>
<p>Now that you have an endpoint service connected to a network load balancer, you will work with Alation to establish the connection between Alation and your data source.</p>
</section>
<section id="establish-the-connection">
<h3>Establish the Connection<a class="headerlink" href="#establish-the-connection" title="Permalink to this headline">¶</a></h3>
<p>After creating the network load balancer and endpoint service, you will need to work with Alation Support to establish the connection between Alation and your data source.</p>
<ol class="arabic">
<li><p>Open a <a class="reference internal" href="../../welcome/About/AlationPortal.html#servicecloud"><span class="std std-ref">support ticket</span></a> with Alation Support and provide the following information:</p>
<ol class="loweralpha simple">
<li><p><strong>Subject:</strong> AWS PrivateLink support requested</p></li>
<li><p><strong>Body:</strong></p>
<ul class="simple">
<li><p>Provide the endpoint service name.</p></li>
<li><p>Provide the port for connections coming into your load balancer (from <a class="reference internal" href="#load-balancer-step-8"><span class="std std-ref">step 8</span></a> under Create a Network Load Balancer in Your AWS Account).</p></li>
</ul>
</li>
</ol>
</li>
<li><p>When Alation gets the support ticket, we’ll send you an Amazon resource name (ARN) for the required IAM role.</p></li>
<li><p>Add the provided IAM role ARN as a principal to your endpoint service:</p>
<ol class="loweralpha simple">
<li><p>Navigate to the endpoint service you created.</p></li>
<li><p>Click the <strong>Allow principals</strong> tab, then the <strong>Allow principals</strong> button.</p></li>
<li><p>Enter the <strong>ARN</strong> that Alation gave you.</p></li>
<li><p>Click <strong>Allow principals</strong>.</p></li>
</ol>
</li>
<li><p>Notify Alation that you’ve entered the IAM role ARN.</p></li>
<li><p>Alation will set up an endpoint in Alation Cloud Service, initiate the connection, restart your Alation instance, and notify you that it’s ready. We’ll also send the DNS name for the endpoint (you’ll need it later for setting up your data source in Alation).</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This step will require your Alation instance to be restarted, which will cause downtime. Arrange for an appropriate time with Alation Support.</p>
</div>
</li>
<li><p>Accept the incoming connection from Alation:</p>
<ol class="loweralpha simple">
<li><p>Navigate to the endpoint service you created.</p></li>
<li><p>Click the <strong>Endpoint connections</strong> tab. You should see a new endpoint listed.</p></li>
<li><p>Select the endpoint.</p></li>
<li><p>Click <strong>Actions</strong>.</p></li>
<li><p>Click <strong>Accept endpoint connection request</strong>.</p></li>
<li><p>In the confirmation that appears, type <strong>accept</strong> in the provided box, then click the <strong>Accept</strong> button. The VPC endpoint state will change to <strong>Available</strong>.</p></li>
</ol>
</li>
</ol>
<p>Your PrivateLink connection should now be active. Proceed to add your data source(s) to Alation as described below.</p>
</section>
</section>
<section id="add-a-privatelink-based-data-source-in-alation">
<h2>Add a PrivateLink-based Data Source in Alation<a class="headerlink" href="#add-a-privatelink-based-data-source-in-alation" title="Permalink to this headline">¶</a></h2>
<p>Once you’ve set up PrivateLink, the process for adding a PrivateLink data source in Alation is essentially the same as adding any other data source, with a few minor differences.</p>
<section id="host-and-port">
<h3>Host and Port<a class="headerlink" href="#host-and-port" title="Permalink to this headline">¶</a></h3>
<p>When adding your data source in Alation, the host name and port for the data source depends on your PrivateLink configuration.</p>
<ul class="simple">
<li><p>For the <strong>host</strong> name, use the DNS name that Alation provided when establishing the connection (see step 2 under Establish the Connection). This host name is unique to PrivateLink. If you don’t know the host name, <a class="reference external" href="mailto:support&#37;&#52;&#48;alation&#46;com">contact</a> Alation Support.</p></li>
<li><p>For the <strong>port</strong>, use the port for connections coming into your network load balancer (from <a class="reference internal" href="#load-balancer-step-8"><span class="std std-ref">step 8</span></a> under Create a Network Load Balancer in Your AWS Account).</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For SQL Server data sources on PrivateLink, you may need to add <code class="docutils literal notranslate"><span class="pre">trustServerCertificate=true</span></code> to the connection string. This may be necessary if the SQL Server certificate has a domain name that’s different from the VPC endpoint address.</p>
</div>
</section>
<section id="test-the-connection">
<h3>Test the Connection<a class="headerlink" href="#test-the-connection" title="Permalink to this headline">¶</a></h3>
<p>When you’re done configuring your data source and endpoint service settings, test that the connection works. On the data source settings page, go to the <strong>General Settings</strong> tab and find the <strong>Test Connection</strong> or <strong>Network Connection</strong> section. Click the <strong>Test</strong> button.</p>
<p>If the test is successful, you can now use the data source for metadata extraction, query log ingestion, sampling, and profiling.</p>
<p>If the test fails, read the error message for information about what went wrong. Double check your connection information, such as the host name and port, and update it if needed. If you can’t troubleshoot the error on your own, <a class="reference external" href="mailto:support&#37;&#52;&#48;alation&#46;com">contact</a> Alation Support.</p>
</section>
<section id="help-with-adding-data-sources">
<h3>Help with Adding Data Sources<a class="headerlink" href="#help-with-adding-data-sources" title="Permalink to this headline">¶</a></h3>
<p>For help with adding OCF data sources, see the <a class="reference internal" href="../../sources/OpenConnectorFramework/index.html"><span class="doc">Open Connector Framework</span></a> section of the docs, then scroll down to find your specific data source.</p>
<p>For help adding native connectors, see <a class="reference internal" href="../../datasources/DSConfiguration/AddingaDataSource.html"><span class="doc">Add Data Sources</span></a>.</p>
</section>
</section>
<section id="add-a-new-privatelink-based-data-source-in-aws">
<h2>Add a New PrivateLink-based Data Source in AWS<a class="headerlink" href="#add-a-new-privatelink-based-data-source-in-aws" title="Permalink to this headline">¶</a></h2>
<p>If you’ve already set up a data source using PrivateLink in the past, you can add new data sources to your existing PrivateLink connection. A single PrivateLink connection can typically support up to 50 data sources, depending on your network configuration and traffic.</p>
<ol class="arabic">
<li><p>In the AWS Console, go to <strong>EC2</strong>.</p></li>
<li><p>Click <strong>Load Balancers</strong>.</p></li>
<li><p>Select the load balancer for your PrivateLink connection.</p></li>
<li><p>In the <strong>Listeners</strong> section, click <strong>Add listener</strong>.</p></li>
<li><p>If you have an existing target group with your data source in it, select it. Otherwise, click <strong>Create target group</strong>. A new tab will open. Fill out the following information:</p>
<ol class="loweralpha">
<li><p>Select <strong>IP addresses</strong>.</p></li>
<li><p>Enter a <strong>Target group name</strong>.</p></li>
<li><p>Choose the protocol and port that’s listening on your data source.</p></li>
<li><p>Select the <strong>VPC</strong> where your data source is located.</p></li>
<li><p>Click <strong>Next</strong>.</p></li>
<li><p>Enter the IP address and port that’s listening on your data source, then click <strong>Include as pending</strong> below.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the IP address of your data source changes for any reason, you’ll have to update your load balancer to route traffic from Alation to the new IP address.</p>
</div>
</li>
<li><p>Click <strong>Create target group</strong>.</p></li>
<li><p>Once the target is healthy, return to the load balancer tab.</p></li>
</ol>
</li>
</ol>
<p>See <strong>Add a Data Source in Alation</strong> for remaining steps to set up your data source.</p>
</section>
<section id="migrate-privatelink-to-alations-cloud-native-architecture">
<h2>Migrate PrivateLink to Alation’s Cloud Native Architecture<a class="headerlink" href="#migrate-privatelink-to-alations-cloud-native-architecture" title="Permalink to this headline">¶</a></h2>
<p>When you migrate to Alation’s cloud native architecture, your Alation instance will move to a new VPC. You will need to make some configuration changes during the migration to ensure your PrivateLink data sources continue to work. These changes are described below.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The exact migration steps may vary. For example, the Alation engineer handling your migration may ask you to accept the new endpoint connection before migration instead of afterward. Work with your Alation account manager and Alation Support to determine the exact steps and schedule.</p>
</div>
<section id="endpoint-service-settings">
<h3>Endpoint Service Settings<a class="headerlink" href="#endpoint-service-settings" title="Permalink to this headline">¶</a></h3>
<p>Before migrating to Alation’s cloud native architecture, you’ll need to update your PrivateLink configuration to prepare for the migration. You’ll need to accept a new incoming endpoint connection. In some cases, you may also need to add a new Amazon resource name (ARN) to your endpoint service.</p>
<p>To reconfigure PrivateLink before migrating to Alation’s cloud native architecture:</p>
<ol class="arabic simple">
<li><p>If needed, Alation will provide you a new Amazon resource name (ARN) for the required IAM role. Add the provided IAM role ARN as a principal to your endpoint service:</p>
<ol class="loweralpha simple">
<li><p>In the AWS Console, go to <strong>VPC</strong>.</p></li>
<li><p>Click <strong>Endpoint services</strong>.</p></li>
<li><p>Select the endpoint service you created.</p></li>
<li><p>Click the <strong>Allow principals</strong> tab, then the <strong>Allow principals</strong> button.</p></li>
<li><p>Enter the <strong>ARN</strong> that Alation gave you.</p></li>
<li><p>Click <strong>Allow principals</strong>.</p></li>
</ol>
</li>
<li><p>Notify Alation that you’ve entered the IAM role ARN.</p></li>
<li><p>Alation will initiate a new connection and migrate your Alation instance to the cloud native architecture. Your Alation instance will be offline during this process. We will notify you when it’s back online.</p></li>
<li><p>Accept the incoming connection from Alation:</p>
<ol class="loweralpha simple">
<li><p>Navigate to the endpoint service you created.</p></li>
<li><p>Click the <strong>Endpoint connections</strong> tab. You should see a new endpoint listed.</p></li>
<li><p>Select the endpoint.</p></li>
<li><p>Click <strong>Actions</strong>.</p></li>
<li><p>Click <strong>Accept endpoint connection request</strong>.</p></li>
<li><p>In the confirmation that appears, type <strong>accept</strong> in the provided box, then click the <strong>Accept</strong> button. The VPC endpoint state will change to <strong>Available</strong>.</p></li>
</ol>
</li>
</ol>
</section>
<section id="data-source-settings">
<h3>Data Source Settings<a class="headerlink" href="#data-source-settings" title="Permalink to this headline">¶</a></h3>
<p>Once Alation has set up the new endpoint, we may send you a new DNS name for the data source. On the data source settings page in Alation, go to the <strong>General Settings</strong> tab and update the host name with the DNS name we provided.</p>
<p>If a private DNS name was previously created, it will remain the same, and you won’t need to update your data source settings.</p>
</section>
<section id="test-the-connection-1">
<span id="id1"></span><h3>Test the Connection<a class="headerlink" href="#test-the-connection-1" title="Permalink to this headline">¶</a></h3>
<p>When you’re done configuring your data source and endpoint service settings, test that the connection works. On the data source settings page, go to the <strong>General Settings</strong> tab and find the <strong>Test Connection</strong> or <strong>Network Connection</strong> section. Click the <strong>Test</strong> button.</p>
<p>If the test is successful, you can now use the data source for metadata extraction, query log ingestion, sampling, and profiling.</p>
<p>If the test fails, read the error message for information about what went wrong. Double check your connection information, such as the host name and port, and update it if needed. If you can’t troubleshoot the error on your own, <a class="reference external" href="mailto:support&#37;&#52;&#48;alation&#46;com">contact</a> Alation Support.</p>
</section>
</section>
<section id="limitations">
<h2>Limitations<a class="headerlink" href="#limitations" title="Permalink to this headline">¶</a></h2>
<section id="data-source-location">
<h3>Data Source Location<a class="headerlink" href="#data-source-location" title="Permalink to this headline">¶</a></h3>
<p>To use PrivateLink, your AWS-based data sources must be located in an AWS virtual private cloud (VPC) in the same AWS region as your Alation Cloud Service instance. To determine which AWS region your Alation Cloud Service instance is located in, contact your Alation account manager.</p>
<p>PrivateLink connections with data sources that are located on-premises, in cloud systems other than AWS, or in a different AWS region than your Alation Cloud Service instance aren’t supported by Alation at this time.</p>
</section>
<section id="number-of-connections">
<h3>Number of Connections<a class="headerlink" href="#number-of-connections" title="Permalink to this headline">¶</a></h3>
<p>You’re limited to one PrivateLink connection per Alation Cloud Service instance. A single PrivateLink connection can typically support up to 50 data sources, depending on your network configuration and traffic.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer>

  
<div class="navigation-bar">

    <div class="navigation navigation--prev">
        
        <a class="navigation__link" href="WhitelistCloudServiceIP.html">
            <button class="navigation__button">
                <i class="icon icon-left"></i>
            </button>
            <div class="navigation__title">
                <span class="heading">Previous</span> <br />Whitelist the Alation Cloud Service IP
            </div>
        </a>
        
    </div>

    <div class="navigation navigation--next">
        
        <a class="navigation__link" title="Accesskey Alt(+Shift)+p" accesskey="p" href="SSOMigration.html">
            <div class="navigation__title">
                <span class="heading">Next</span> <br />Reconfigure Azure AD and Okta for Alation’s Cloud Native Architecture
            </div>
            <button class="navigation__button" title="Accesskey Alt(+Shift)+n" accesskey="n">
                <i class="icon icon-right"></i>
            </button>
        </a>
        
    </div>

</div>


</footer>

        </div>
      </div>

    </section>

    <div class="wy-nav-side wy-nav-secondary">
      <div class="wy-side-scroll">
        <div class="wy-side-scroll__content">
          <div class="wy-menu-secondary">
              <div class="comments">
    <a href="mailto:no-reply-docs-feedback@alation.com?subject=Documentation Feedback on cloud/CloudConfiguration/AWSPrivateLinkWithAlationCloudService&body=Alation%20welcomes%20your%20comments%20on%20typos,%20content%20accuracy%20and%20completeness,%20and%20whether%20you%20found%20this%20page%20helpful.%20You%20will%20not%20receive%20a%20reply%20to%20this%20email.">
        <i class="icon icon-envelope" aria-hidden="true"></i>Request docs changes
    </a>
    <a href="#open-modal-pdf">
        <i class="icon icon-pdf" aria-hidden="true"></i>Download PDF
    </a>
</div>
              
                <p class="wy-menu-secondary-header">On this page</p>
                <ul>
<li><a class="reference internal" href="#">AWS PrivateLink with Alation Cloud Service</a><ul>
<li><a class="reference internal" href="#aws-privatelink-overview">AWS PrivateLink Overview</a><ul>
<li><a class="reference internal" href="#architecture">Architecture</a></li>
<li><a class="reference internal" href="#permissions">Permissions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#set-up-privatelink">Set Up PrivateLink</a><ul>
<li><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li><a class="reference internal" href="#create-a-network-load-balancer-in-your-aws-account">Create a Network Load Balancer in Your AWS Account</a></li>
<li><a class="reference internal" href="#create-an-endpoint-service-in-your-aws-account">Create an Endpoint Service in Your AWS Account</a></li>
<li><a class="reference internal" href="#establish-the-connection">Establish the Connection</a></li>
</ul>
</li>
<li><a class="reference internal" href="#add-a-privatelink-based-data-source-in-alation">Add a PrivateLink-based Data Source in Alation</a><ul>
<li><a class="reference internal" href="#host-and-port">Host and Port</a></li>
<li><a class="reference internal" href="#test-the-connection">Test the Connection</a></li>
<li><a class="reference internal" href="#help-with-adding-data-sources">Help with Adding Data Sources</a></li>
</ul>
</li>
<li><a class="reference internal" href="#add-a-new-privatelink-based-data-source-in-aws">Add a New PrivateLink-based Data Source in AWS</a></li>
<li><a class="reference internal" href="#migrate-privatelink-to-alations-cloud-native-architecture">Migrate PrivateLink to Alation’s Cloud Native Architecture</a><ul>
<li><a class="reference internal" href="#endpoint-service-settings">Endpoint Service Settings</a></li>
<li><a class="reference internal" href="#data-source-settings">Data Source Settings</a></li>
<li><a class="reference internal" href="#test-the-connection-1">Test the Connection</a></li>
</ul>
</li>
<li><a class="reference internal" href="#limitations">Limitations</a><ul>
<li><a class="reference internal" href="#data-source-location">Data Source Location</a></li>
<li><a class="reference internal" href="#number-of-connections">Number of Connections</a></li>
</ul>
</li>
</ul>
</li>
</ul>

              
            </div>
          </div>
      </div>
    </div>

  </div>

  
  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->

  
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/clipboard.min.js"></script>
      <script type="text/javascript" src="../../_static/copybutton.js"></script>
      <script type="text/javascript" src="../../_static/js/rtd_sphinx_search.min.js"></script>
  
  <script type="text/javascript" src="../../_static/searchtools.js"></script> <script type="text/javascript" id="idPiwikScriptPlaceholder"></script><script type="text/javascript" src="../../_static/js/main.bundle.js"></script>
  <script type="text/javascript" src="../../_static/js/runtime.bundle.js"></script>

  
  

  
    <div id="open-modal-pdf" class="modal-window">
<div>
  <a href="#" title="Close" class="modal-close">Close</a>
  <h4>Alation Documentation PDF</h4>
  <p>This PDF contains all our documentation and is more than <b>120 MB</b> in size. We recommend using an ethernet or Wi-Fi connection for downloading.</p>
  <br>
  <div class="modal-buttons">
    <a href="https://pdf-docs.alation.com/AlationUserDocs.pdf" class="btn-cta btn-cta--primary" target="_blank">
      Download PDF
    </a>
    <a href="#" title="Close" class="btn-cta">Cancel</a>
  </div>
</div>
  

</body>
</html>
<!--3.6.17-->