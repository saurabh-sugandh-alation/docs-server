
<!DOCTYPE html>
<html lang="" >
<head>
  <meta charset="utf-8"/>
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="book-version"      content=""/>
  <meta name="book-release"      content=""/>
  <meta name="docsearch:name"    content="Alation User Guide" />
  <meta name="docsearch:version" content="" />
  <meta name="docsearch:package_type" content="" />
	<meta name="robots" content="noindex" />

  
  <title>Update Alation to 2020.3 &mdash; Alation User Guide</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  

  

  
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/main.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/sphinx_collapse.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/rtd_sphinx_search.min.css" type="text/css" />
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="Alation User Guide" href="#"/>
        <link rel="up" title="Update Alation" href="index.html"/>
        <link rel="next" title="Updating Alation to V R7 (5.12.x)" href="UpdatetoVR7.html"/>
        <link rel="prev" title="Pre-Update Reindexing Script for 2020.4" href="20204UpgradeScript.html"/>

	

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-67846571-1"></script>
	<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());

	gtag('config', 'UA-67846571-1');
	</script>

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<!-- Second Google Analytics tag to assist mapping with mattermost.com visits --> 
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-120238482-1"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'UA-120238482-1');
	</script>


</head>

<body class="wy-body-for-nav" role="document">

  <header>
    <div class="header__container wy-max-content-width">
        <a href="/" class="header__logo">
            <img width="176" src="../../_static/img/logo-alation.svg" alt="Alation" />
        </a>
        <ul class="header__links">
            <li><a href="https://help.alation.com/s/">Alation Help Center</a></li>
        </ul>
    </div>
</header>

  <div class="wy-grid-for-nav wy-max-content-width">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-scroll__content">
          <div class="wy-side-nav-search">
            

            <ul class="sidebartop">
              <li class="nolink search"><div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search this project" aria-label="Search this project" id="searchinput" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
</li>

            </ul>

            
          </div>

          <div class="wy-menu wy-sidebar wy-sidebar--hidden" data-spy="affix" role="navigation" aria-label="main navigation">
            
              
              
              
                  <p class="caption" role="heading"><span class="caption-text">Welcome to Alation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/About/index.html">About Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/CloudAndOnPrem/index.html">Alation Cloud and On-Premise</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/UserProfileandPreferences/index.html">User Profile and Preferences</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/CatalogBasics/index.html">Catalog Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/CatalogPages/index.html">Catalog Pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Conversations/index.html">Conversations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Domains/index.html">Domains</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/BestPractices/index.html">Best Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Glossary/index.html">Alation Glossary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation Cloud Service</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/StatusPage/index.html">Status Page</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/CloudOverview/index.html">Cloud Service Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/CloudConfiguration/index.html">Configuration for Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/AlationAgent/index.html">Alation Agent</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation Integration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../integration/AlationAnywhere/index.html">Alation Anywhere</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../integration/AlationConnectedSheets/index.html">Alation Connected Sheets</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installation &amp; Configuration</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../ServerInstallation/index.html">Install Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../HighAvailability/index.html">High Availability</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Update Alation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Updateto20233.html">Update Alation to 2023.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="Updateto20231.html">Update Alation to 2023.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="Updateto20224.html">Update Alation to 2022.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="ReencryptData.html">Re-Encrypt Existing Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="Updateto20223.html">Update Alation to 2022.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="DeduplicateMixedCaseUsernames.html">De-duplicate Mixed Case Usernames</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpdateSourceForDataflows.html">Update Source Field for Dataflow Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="Updateto20222.html">Update Alation to 2022.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="Updateto20221.html">Update Alation to 2022.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="ResettingCheckpointForUserData.html">Resetting ETL Checkpoint for User Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="Updateto20214.html">Update Alation to 2021.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpdateFrom20214To20214Patch.html">Update Alation from 2021.4.x to 2021.4.4 or Later Patches</a></li>
<li class="toctree-l2"><a class="reference internal" href="ValidatingValueOfelasticsearch_env.html">Validating the Value of Parameter elasticsearch.env.es_java_opts</a></li>
<li class="toctree-l2"><a class="reference internal" href="Updateto20213.html">Update Alation to 2021.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="Updateto20212.html">Update Alation to 2021.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="Updateto20211.html">Update Alation to 2021.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="Updateto20204.html">Update Alation to 2020.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="20204UpgradeScript.html">Pre-Update Reindexing Script for 2020.4</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Update Alation to 2020.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpdatetoVR7.html">Updating Alation to V R7 (5.12.x)</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpgradeElasticsearchVR7.html">Elasticsearch Upgrade to 7.4 FAQ and Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpdatetoVR6.html">Update Alation to V R6 (5.10.x)</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpgradeInternalPostgreSQLInstances.html">Upgrade Internal PostgreSQL Instances from 9.3 to 9.6</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpdatetoVR5.html">Update Alation to V R5 (5.9.x)</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpdateSafetyBestPractice.html">Update Safety Best Practices</a></li>
<li class="toctree-l2"><a class="reference internal" href="ReleaseUpdatePrechecks.html">Release-specific Update Pre-checks</a></li>
<li class="toctree-l2"><a class="reference internal" href="ManualSWUpdate.html">Manual Software Update for Standalone Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="updateHAPair.html">Update HA Pair Configuration (4.7 and above)</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpdateHAPairwithClusterSplitting.html">Update HA Pair with Cluster Splitting</a></li>
<li class="toctree-l2"><a class="reference internal" href="OCFUpdateAlationConnectorManager.html">Update Alation Connector Manager</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../BackupandRestore/index.html">Back Up and Restore</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LineageV2/index.html">Lineage V2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LineageV3/index.html">Lineage V3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../AlationAnalyticsV2/index.html">Alation Analytics V2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../AlationContainerService/index.html">Alation Container Service</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../sources/CatalogSources/index.html">Catalog Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/VirtualDataSources/index.html">Virtual Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/Lineage/index.html">Lineage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/APIResources/index.html">API Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/WorkwithCatalogData/index.html">Working with Catalog Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/OpenConnectorFramework/index.html">Open Connector Framework</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Data Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/DSConfiguration/index.html">Data Source Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/AddDataSources/index.html">Adding Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/ComposeSSOAWSDataSources/index.html">Compose SSO for Amazon Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/ComposeSSOAzureDataSources/index.html">Compose SSO for Azure Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/AuthenticationForExtraction/index.html">Authentication for Extraction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/CustomDB/index.html">Custom DB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/GBQ/index.html">Google BigQuery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/Hive/index.html">Hive</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">BI Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/AddBISources/index.html">Add BI Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/AddTableauServer/index.html">Add Tableau Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/WorkwithBISources/index.html">Working with BI Sources</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">File System Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../filesystems/FileSystems/index.html">Add File Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../filesystems/VirtualFileSystems/index.html">Virtual File Systems</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Analysts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/UserAuthenticationForDataSources/index.html">User Authentication for Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/ShareAndAccessQueries/index.html">Share and Access Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/WriteQueries/index.html">Write Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/DevelopQueries/index.html">Develop Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/WorkwithQueryResults/index.html">Work with Query Results</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Data Stewards</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../steward/GovernanceApp/index.html">Governance App</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/PolicyCenter/index.html">Policy Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/Workflow/index.html">Workflow Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/GovernanceDashboard/index.html">Governance Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/StewardshipWorkbench/index.html">Stewardship Workbench</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/AnalyticsStewardship/index.html">Analytics Stewardship</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/Glossary/index.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/ArticlesAndTags/index.html">Articles and Tags</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/ArticleGroups/index.html">Article Groups</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/DataCatalogCustomization/index.html">Customize Your Data Catalog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/DataDocumentation/index.html">Data Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/AutoTitlingandLexicon/index.html">Auto-titling and Lexicon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/SnowflakeTags/index.html">Snowflake Tags</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Server Administrators</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../admins/CustomizableHomePage/index.html">Customizable Homepage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AdminSettings/index.html">Administrator Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AdditionalConfiguration/index.html">Additional Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/RunbookForAdministrators/index.html">Runbook for Administrators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AlationAPIs/index.html">Alation APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/How-tos/index.html">How-tos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/Troubleshooting/index.html">Troubleshooting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Release Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../releases/releasenotes/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/supportmatrices/index.html">Support Matrices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/endofsupport/index.html">End Of Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/snowflakeclladdon/index.html">Snowflake Parser Add-On</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/fieldnotices/index.html">Important Notices and Security Alerts</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Archived Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../archive/About/index.html">About the Documentation Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/AdminConfig/index.html">Administration and Update Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/ReleaseNotes/index.html">Release Notes Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/Usage/index.html">Usage and Customization Archive</a></li>
</ul>

              
            
          </div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="wy-nav-top-icon"></i>
        <a href="../../index.html">Alation User Guide</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">

          <div role="navigation" aria-label="breadcrumbs" class="breadcrumbs">
    <a href="../../index.html">Docs</a>
    <span class="separator">&gt;</span>
    <a href="index.html">Update Alation</a>
    <span class="separator">&gt;</span>
    <span>Update Alation to 2020.3</span>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody" class="toBeIndexed">
            
  <section id="update-alation-to-2020-3">
<h1>Update Alation to 2020.3<a class="headerlink" href="#update-alation-to-2020-3" title="Permalink to this headline">¶</a></h1>
<p class="on-prem-label hover-text">Customer Managed <span class="tooltip-text">Applies to customer-managed instances of Alation</span></p>
<section id="release-specific-information">
<span id="id1"></span><h2>2020.3 Release Specific Information<a class="headerlink" href="#release-specific-information" title="Permalink to this headline">¶</a></h2>
<p>Please review the following information:</p>
<ul>
<li><p><strong>SSL Connection to Tableau sources</strong> in 2020.3 requires that SSL certificates should be uploaded to Alation on the Settings page of a Tableau data source:</p>
<blockquote>
<div><ul class="simple">
<li><p>Server SSL certificate: SSL certificate for Tableau REST API</p></li>
<li><p>PostgreSQL SSL certificate: SSL certificate for Tableau internal PostgreSQL.</p></li>
</ul>
</div></blockquote>
<p>Make this change for your Tableau sources <strong>on the Settings page</strong> after the update and validate that the connection can be established. In 2020.3 the Settings page has two new fields for the certificate upload under <strong>Additional Settings</strong>: <strong>Server SSL certificate</strong> and <strong>Postgres SSL certificate</strong>.</p>
</li>
<li><p>In 2020.3, you have an option to set the <strong>Catalog Object Definition</strong> for Custom DB sources. For some Custom DB sources, setting the Catalog Object Definition may be required after the upgrade or MDE will fail. If you have such sources as <strong>Denodo</strong>, please set the Catalog Object Definition in the data source Settings &gt; <strong>Custom Settings</strong>. For Denodo, it is <cite>Catalog.Table</cite>.</p></li>
<li><p>In 2020.3, a new improved Alation backup tool is available. See <a class="reference internal" href="../BackupandRestore/BackupV1AndV2/index.html"><span class="doc">Backup V1 and Backup V2</span></a>.</p></li>
<li><p>The <strong>New Homepage is enabled by default</strong> when the instance is upgraded to 2020.3. If you have never enabled the Customizable Homepage, then your instance will inherit the default Homepage version. You can customize it to better suit your requirements. If you have already enabled the Customizable Homepage in a previous release, your customizations will transition seamlessly into the new style.</p></li>
<li><p>2020.3 introduces a new <strong>Access Token Management API</strong> that uses Refresh and Access token types. The Token API which existed prior to 2020.3 will work in 2020.3 too. When you have made the transition to the new Token Management API, you can disable the previous Token API using the <strong>alation_conf</strong>.</p></li>
<li><p>2020.3 introduces <strong>Alation Analytics V2</strong>. If you already use Alation Analytics V1, note that it remains fully operational after the update to 2020.3. The new Alation Analytics V2 is a separate feature and can be installed on a separate machine. If you already use Alation Analytics V1 but would also like to enable and try out Alation Analytics V2, please contact your account manager so that Alation can assist in enabling both V1 and V2 at the same time. If you have not tried Alation Analytics yet, you can do so with Alation Analytics V2. Please use the system requirements for Alation Analytics to prepare the environment for V2.</p></li>
</ul>
</section>
<section id="prepare-for-the-update">
<h2>Prepare for the Update<a class="headerlink" href="#prepare-for-the-update" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="#v-r7-5-12-x-to-2020-3">V R7 (5.12.x) to 2020.3</a></p></li>
<li><p><a class="reference internal" href="#v-r6-5-10-x-and-v-r5-5-9-x-to-2020-3">V R6 (5.10.x) and V R5 (5.9.x) to 2020.3</a></p></li>
<li><p><a class="reference internal" href="#v-r2-5-4-6-5-4-10-v-r3-vr4-to-2020-3">V R2 (5.4.6-5.4.10), V R3, VR4 To 2020.3</a></p></li>
<li><p><a class="reference internal" href="#v-r2-5-4-0-5-4-5-to-2020-3">V R2 (5.4.0-5.4.5) To 2020.3</a></p></li>
<li><p><a class="reference internal" href="#below-v-r2-to-2020-3">Below V R2 to 2020.3</a></p></li>
</ul>
</section>
<section id="v-r7-5-12-x-to-2020-3">
<h2>V R7 (5.12.x) to 2020.3<a class="headerlink" href="#v-r7-5-12-x-to-2020-3" title="Permalink to this headline">¶</a></h2>
<section id="postgresql-upgrade-to-9-6">
<h3>1. PostgreSQL Upgrade to 9.6<a class="headerlink" href="#postgresql-upgrade-to-9-6" title="Permalink to this headline">¶</a></h3>
<p>Alation strongly recommends upgrading the internal PostgreSQL database to version 9.6 if this has not been done yet on your instance. You can upgrade PostgreSQL before or after the update to 2020.3, on a separate schedule.</p>
<p>This upgrade ensures that your Alation instance receives the latest PostgreSQL security upgrades and is required in order to enable such 2020.3 Alation features as:</p>
<blockquote>
<div><ul class="simple">
<li><p>Backup and Restore V2</p></li>
</ul>
</div></blockquote>
<p>To check your current PostgreSQL version, on the Alation server:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>/etc/init.d/alation<span class="w"> </span>shell
alation_psql
</pre></div>
</div>
</div></blockquote>
<p>See <a class="reference internal" href="UpgradeInternalPostgreSQLInstances.html"><span class="doc">Upgrade Internal PostgreSQL Instances from 9.3 to 9.6.</span></a>.</p>
</section>
<section id="update-alation">
<h3>2. Update Alation<a class="headerlink" href="#update-alation" title="Permalink to this headline">¶</a></h3>
<p>Update Alation using the <a class="reference internal" href="#regular-update-scenario">Regular Update Scenario</a>. There are no specific prerequisites for the update from V R7 (5.12.x) to 2020.3.</p>
</section>
<section id="post-update-steps">
<h3>Post-Update Steps<a class="headerlink" href="#post-update-steps" title="Permalink to this headline">¶</a></h3>
<p>Please review section <a class="reference internal" href="#id1">2020.3 Release Specific Information</a>.</p>
</section>
</section>
<section id="v-r6-5-10-x-and-v-r5-5-9-x-to-2020-3">
<h2>V R6 (5.10.x) and V R5 (5.9.x) to 2020.3<a class="headerlink" href="#v-r6-5-10-x-and-v-r5-5-9-x-to-2020-3" title="Permalink to this headline">¶</a></h2>
<section id="evaluate-resources-for-elasticsearch-upgrade">
<h3>1. Evaluate resources for Elasticsearch upgrade<a class="headerlink" href="#evaluate-resources-for-elasticsearch-upgrade" title="Permalink to this headline">¶</a></h3>
<p>Please refer to <a class="reference internal" href="#id8">Evaluate resources for Elasticsearch upgrade</a> for details.</p>
</section>
<section id="id2">
<h3>2. Update Alation<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>Update Alation using the <a class="reference internal" href="#regular-update-scenario">Regular Update Scenario</a>.</p>
</section>
<section id="id3">
<h3>3. Post-Update Steps<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li><p>Please review section <a class="reference internal" href="#id1">2020.3 Release Specific Information</a></p></li>
<li><p>Please review <a class="reference internal" href="#id9">PostgreSQL upgrade to 9.6</a></p></li>
</ul>
</div></blockquote>
</section>
</section>
<section id="v-r2-5-4-6-5-4-10-v-r3-vr4-to-2020-3">
<h2>V R2 (5.4.6-5.4.10), V R3, VR4 To 2020.3<a class="headerlink" href="#v-r2-5-4-6-5-4-10-v-r3-vr4-to-2020-3" title="Permalink to this headline">¶</a></h2>
<section id="id4">
<h3>1. Evaluate resources for Elasticsearch upgrade<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p>Please refer to <a class="reference internal" href="#id8">Evaluate Resources for Elasticsearch Upgrade</a> for details.</p>
</section>
<section id="changes-to-scheduled-queries">
<h3>2. Changes to Scheduled Queries<a class="headerlink" href="#changes-to-scheduled-queries" title="Permalink to this headline">¶</a></h3>
<p>Review <a class="reference internal" href="#scheduled-query-migration-v-r6-changes">Scheduled Query Migration: V R6 Changes</a>. This information applies to 2020.3 too.</p>
</section>
<section id="migration-of-the-internal-server-database-from-mongodb-to-postgresql">
<h3>3. Migration of the internal server database from MongoDB to PostgreSQL<a class="headerlink" href="#migration-of-the-internal-server-database-from-mongodb-to-postgresql" title="Permalink to this headline">¶</a></h3>
<p>In 2020.3, Alation no longer includes the MongoDB component, which was removed in release V R5 (5.9.x). Migration from MongoDB to PostgreSQL was introduced in V R2 (5.4.x) as a background process. It should have already been completed on your instance, and Alation can be updated to 2020.3 following the standard update steps. However, if the 2020.3 updater stops with the following error:
<cite>The installer will abort until migration job from MongoDB to Postgres has succeeded</cite> - this indicates that MongoDB migration is not complete on your instance.</p>
<p><strong>Do not attempt to troubleshoot on your own</strong>. Raise a support ticket with Alation Support to investigate the root cause of the issue and to guide you through the upgrade process.</p>
</section>
<section id="id5">
<h3>4. Update Alation<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<p>Update Alation using the <a class="reference internal" href="#regular-update-scenario">Regular Update Scenario</a>.</p>
</section>
<section id="id6">
<h3>5. Post-Update Steps<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li><p>Please review section <a class="reference internal" href="#id1">2020.3 Release Specific Information</a></p></li>
<li><p>Please review <a class="reference internal" href="#id9">PostgreSQL upgrade to 9.6</a></p></li>
</ul>
</div></blockquote>
</section>
</section>
<section id="v-r2-5-4-0-5-4-5-to-2020-3">
<h2>V R2 (5.4.0-5.4.5) To 2020.3<a class="headerlink" href="#v-r2-5-4-0-5-4-5-to-2020-3" title="Permalink to this headline">¶</a></h2>
<p>Updating from version V R2 (5.4.0 - 5.4.5) to 2020.3 cannot happen directly due to the absence of some internal changes introduced in patch 5.4.6 that are required for this update.</p>
<p>Update to 2020.3 requires two stages. The options are:</p>
<ul class="simple">
<li><p>First update to the latest V R2 patch (5.4.10) then update to 2020.3.</p></li>
<li><p>First update to the latest patch of V R3, V R4, V R5, or V R6 and then update to 2020.3.</p></li>
</ul>
</section>
<section id="below-v-r2-to-2020-3">
<h2>Below V R2 to 2020.3<a class="headerlink" href="#below-v-r2-to-2020-3" title="Permalink to this headline">¶</a></h2>
<p>If your current release is between 4.8.x and V R1 (5.0.x), then updating to 2020.3 has to be achieved in a number of stages.</p>
<section id="update-to-v-r4-latest-patch-version">
<h3>1. Update to V R4 (latest patch version)<a class="headerlink" href="#update-to-v-r4-latest-patch-version" title="Permalink to this headline">¶</a></h3>
<p>In your Alation version, one of the internal components is MongoDB. It is used for storing Alation server data, such as, for example, the results of Compose queries. Starting with version V R2 (5.4.x), Alation began to migrate the server data off MongoDB to a PostgreSQL database. This transition happens in the background and is complete in V R5 (5.9.x) where the MongoDB component is no longer present in the Alation package. This transition is a major architectural change in the Alation application, which does not allow Alation to support a seamless update from your version to the latest release. The intermediary stage is updating to V R4 (latest available patch), which is required for Alation to start and complete the transition from MongoDB to PostgreSQL as the internal server data repository.</p>
<p><strong>Plan your update to V R4 using the following information</strong>:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="ReleaseUpdatePrechecks.html"><span class="doc">Release-Specific Update Pre-checks</span></a> : this instruction does apply to your Alation instance. Perform the checks to prepare for the update.</p></li>
<li><p>Use <a class="reference internal" href="#regular-update-scenario">Regular Update Scenario</a> to update to V R4.</p></li>
</ul>
</div></blockquote>
<p>When you successfully update Alation to V R4, you can move to the next step.</p>
</section>
<section id="allow-time-for-mongodb-transition-to-complete">
<h3>2. Allow Time For MongoDB Transition to Complete<a class="headerlink" href="#allow-time-for-mongodb-transition-to-complete" title="Permalink to this headline">¶</a></h3>
<p>Let your updated R4 instance run over at least one weekend. In the background, Alation will start and complete the server data migration off MongoDB to PostgreSQL.
After the Mongo migration is complete, you can go to the next stage and update to 2020.3.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>On a Saturday after the update, Alation will automatically trigger the MongoDB migration script that copies the Alation server data from MongoDB to PostgreSQL. In a regular scenario, this migration should be completed over one weekend. If it requires a longer time, the process will be working until the migration is finished successfully.</p>
</div>
</div></blockquote>
<p>You can check <strong>mongo-data-migration.log</strong> at <strong>/opt/alation/site/logs</strong> after the weekend to make sure that migration is complete.</p>
</section>
<section id="complete-prerequisites-for-2020-3">
<h3>3. Complete Prerequisites for 2020.3<a class="headerlink" href="#complete-prerequisites-for-2020-3" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#id8">Evaluate Resources for Elasticsearch Upgrade</a></p></li>
<li><p><a class="reference internal" href="#scheduled-query-migration-v-r6-changes">Scheduled Query Migration: V R6 Changes</a>. This information applies to 2020.3 too.</p></li>
</ul>
</div></blockquote>
</section>
<section id="update-to-2020-3">
<h3>4. Update to 2020.3<a class="headerlink" href="#update-to-2020-3" title="Permalink to this headline">¶</a></h3>
<p>Use the <a class="reference internal" href="#regular-update-scenario">Regular Update Scenario</a> to update Alation to 2020.3</p>
<p>If During the update you see the message:</p>
<p><cite>The installer will abort until the migration job from MongoDB to Postgres has succeeded</cite></p>
<p>this means the MongoDB data migration may have completed with errors. <strong>Do not attempt to troubleshoot on your own</strong>. Contact Alation Support to investigate the root cause of the issue and to guide you through the upgrade process.</p>
</section>
<section id="id7">
<h3>5. Post-update steps<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li><p>Please review section <a class="reference internal" href="#id1">2020.3 Release Specific Information</a></p></li>
<li><p>Please review <a class="reference internal" href="#id9">PostgreSQL upgrade to 9.6</a></p></li>
</ul>
</div></blockquote>
</section>
</section>
<section id="update-prerequisites">
<h2>2020.3 Update Prerequisites<a class="headerlink" href="#update-prerequisites" title="Permalink to this headline">¶</a></h2>
<section id="id8">
<h3>Evaluate Resources for Elasticsearch Upgrade<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<p>During update to 2020.3 <strong>from releases below V R7</strong>, the Elasticsearch component will be upgraded from version 1.7 to version 7.4.</p>
<p>After your instance is successfully updated to 2020.3, Alation will begin search index migration to Elasticsearch 7. During this process, Elasticsearch 1 and 7 will both be using an equivalent amount of memory, which may result in doubling memory usage by Elasticsearch on a temporary basis. This process will be happening in the background and is not expected to have any impact on Alation users. When it completes, Alation will automatically switch to fully using Elasticsearch 7 and memory usage by Elasticsearch will be back to normal.</p>
<p>The instance should be sized to allow for equivalent memory usage for both Elasticsearch 1.4 and Elasticsearch 7.4 while migration is running.</p>
<p>If the instance is close to its memory usage maximum and does not have any to spare, it is possible that the update to V R7 may cause an out of memory error on the Alation server after the update. If this happens, there may be a brief outage of search functionality while processes are restarted. The Elasticsearch migration will be initiated again on the weekend. If there is still not enough spare memory on the weekend, the Elasticsearch migration job will keep failing and manual intervention will eventually be required.</p>
<p>See <a class="reference internal" href="UpgradeElasticsearchVR7.html"><span class="doc">Elasticsearch Upgrade to 7.4 FAQ and Troubleshooting</span></a></p>
</section>
<section id="id9">
<h3>PostgreSQL Upgrade to 9.6<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<p>Alation strongly recommends to upgrade the internal PostgreSQL database to version 9.6 (if this has not been done yet). This upgrade ensures that your Alation instance receives the latest PostgreSQL security upgrades and is required in order to enable such 2020.3 Alation features as:
Backup and Restore V2</p>
<p>To check your current PostgreSQL version from the Alation server:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>/etc/init.d/alation<span class="w"> </span>shell
alation_psql
</pre></div>
</div>
</div></blockquote>
<p>You can upgrade PostgreSQL after the update to 2020.3, on a separate schedule. See <a class="reference internal" href="UpgradeInternalPostgreSQLInstances.html"><span class="doc">Upgrade Internal PostgreSQL Instances from 9.3 to 9.6</span></a></p>
</section>
<section id="scheduled-query-migration-v-r6-changes">
<h3>Scheduled Query Migration: V R6 Changes<a class="headerlink" href="#scheduled-query-migration-v-r6-changes" title="Permalink to this headline">¶</a></h3>
<p>Applies to <strong>instances on release V R4 and below</strong>.</p>
<section id="if-you-have-unpublished-scheduled-queries">
<h4>If you have UNPUBLISHED SCHEDULED queries:<a class="headerlink" href="#if-you-have-unpublished-scheduled-queries" title="Permalink to this headline">¶</a></h4>
<p>As of R6, you can no longer schedule unpublished queries.
During update to V R6 or a later release, your UNPUBLISHED SCHEDULED queries will be automatically PUBLISHED to keep your query schedule. You will receive an email notification informing you about this change and having the list of auto-published queries.
Note that this auto-publishing will create a major version in the query version history.</p>
</section>
<section id="if-you-have-published-scheduled-queries-that-include-changes-you-havent-published-yet">
<h4>If you have PUBLISHED SCHEDULED queries that include changes you haven’t published yet:<a class="headerlink" href="#if-you-have-published-scheduled-queries-that-include-changes-you-havent-published-yet" title="Permalink to this headline">¶</a></h4>
<p>As of R6, only the published part of the query can run on schedule. During update to V R6 or a later release, such queries will be automatically republished in full so that there are no unpublished edits in these queries. You will receive an email notification informing you about this change and having the list of auto-republished queries.
Note that auto-republishing will create a major version in the query version history.</p>
</section>
</section>
</section>
<section id="regular-update-scenario">
<h2>Regular Update Scenario<a class="headerlink" href="#regular-update-scenario" title="Permalink to this headline">¶</a></h2>
<p>Plan your update using the following information:</p>
<ol class="arabic">
<li><p>General Alation update information: <a class="reference internal" href="index.html"><span class="doc">Updating Alation</span></a></p></li>
<li><p>Important <a class="reference internal" href="UpdateSafetyBestPractice.html"><span class="doc">Update Safety Best Practice</span></a></p></li>
<li><p>Update instructions depending on your instance type:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="ManualSWUpdate.html"><span class="doc">Manual Software Update - Standalone Systems</span></a></p></li>
<li><p><a class="reference internal" href="updateHAPair.html"><span class="doc">Update on HA Pair (4.7 and Above)</span></a></p></li>
</ul>
</div></blockquote>
</li>
</ol>
</section>
</section>


           </div>
          </div>
          <footer>

  
<div class="navigation-bar">

    <div class="navigation navigation--prev">
        
        <a class="navigation__link" href="20204UpgradeScript.html">
            <button class="navigation__button">
                <i class="icon icon-left"></i>
            </button>
            <div class="navigation__title">
                <span class="heading">Previous</span> <br />Pre-Update Reindexing Script for 2020.4
            </div>
        </a>
        
    </div>

    <div class="navigation navigation--next">
        
        <a class="navigation__link" title="Accesskey Alt(+Shift)+p" accesskey="p" href="UpdatetoVR7.html">
            <div class="navigation__title">
                <span class="heading">Next</span> <br />Updating Alation to V R7 (5.12.x)
            </div>
            <button class="navigation__button" title="Accesskey Alt(+Shift)+n" accesskey="n">
                <i class="icon icon-right"></i>
            </button>
        </a>
        
    </div>

</div>


</footer>

        </div>
      </div>

    </section>

    <div class="wy-nav-side wy-nav-secondary">
      <div class="wy-side-scroll">
        <div class="wy-side-scroll__content">
          <div class="wy-menu-secondary">
              <div class="comments">
    <a href="mailto:no-reply-docs-feedback@alation.com?subject=Documentation Feedback on installconfig/Update/Updateto20203&body=Alation%20welcomes%20your%20comments%20on%20typos,%20content%20accuracy%20and%20completeness,%20and%20whether%20you%20found%20this%20page%20helpful.%20You%20will%20not%20receive%20a%20reply%20to%20this%20email.">
        <i class="icon icon-envelope" aria-hidden="true"></i>Request docs changes
    </a>
    <a href="#open-modal-pdf">
        <i class="icon icon-pdf" aria-hidden="true"></i>Download PDF
    </a>
</div>
              
                <p class="wy-menu-secondary-header">On this page</p>
                <ul>
<li><a class="reference internal" href="#">Update Alation to 2020.3</a><ul>
<li><a class="reference internal" href="#release-specific-information">2020.3 Release Specific Information</a></li>
<li><a class="reference internal" href="#prepare-for-the-update">Prepare for the Update</a></li>
<li><a class="reference internal" href="#v-r7-5-12-x-to-2020-3">V R7 (5.12.x) to 2020.3</a><ul>
<li><a class="reference internal" href="#postgresql-upgrade-to-9-6">1. PostgreSQL Upgrade to 9.6</a></li>
<li><a class="reference internal" href="#update-alation">2. Update Alation</a></li>
<li><a class="reference internal" href="#post-update-steps">Post-Update Steps</a></li>
</ul>
</li>
<li><a class="reference internal" href="#v-r6-5-10-x-and-v-r5-5-9-x-to-2020-3">V R6 (5.10.x) and V R5 (5.9.x) to 2020.3</a><ul>
<li><a class="reference internal" href="#evaluate-resources-for-elasticsearch-upgrade">1. Evaluate resources for Elasticsearch upgrade</a></li>
<li><a class="reference internal" href="#id2">2. Update Alation</a></li>
<li><a class="reference internal" href="#id3">3. Post-Update Steps</a></li>
</ul>
</li>
<li><a class="reference internal" href="#v-r2-5-4-6-5-4-10-v-r3-vr4-to-2020-3">V R2 (5.4.6-5.4.10), V R3, VR4 To 2020.3</a><ul>
<li><a class="reference internal" href="#id4">1. Evaluate resources for Elasticsearch upgrade</a></li>
<li><a class="reference internal" href="#changes-to-scheduled-queries">2. Changes to Scheduled Queries</a></li>
<li><a class="reference internal" href="#migration-of-the-internal-server-database-from-mongodb-to-postgresql">3. Migration of the internal server database from MongoDB to PostgreSQL</a></li>
<li><a class="reference internal" href="#id5">4. Update Alation</a></li>
<li><a class="reference internal" href="#id6">5. Post-Update Steps</a></li>
</ul>
</li>
<li><a class="reference internal" href="#v-r2-5-4-0-5-4-5-to-2020-3">V R2 (5.4.0-5.4.5) To 2020.3</a></li>
<li><a class="reference internal" href="#below-v-r2-to-2020-3">Below V R2 to 2020.3</a><ul>
<li><a class="reference internal" href="#update-to-v-r4-latest-patch-version">1. Update to V R4 (latest patch version)</a></li>
<li><a class="reference internal" href="#allow-time-for-mongodb-transition-to-complete">2. Allow Time For MongoDB Transition to Complete</a></li>
<li><a class="reference internal" href="#complete-prerequisites-for-2020-3">3. Complete Prerequisites for 2020.3</a></li>
<li><a class="reference internal" href="#update-to-2020-3">4. Update to 2020.3</a></li>
<li><a class="reference internal" href="#id7">5. Post-update steps</a></li>
</ul>
</li>
<li><a class="reference internal" href="#update-prerequisites">2020.3 Update Prerequisites</a><ul>
<li><a class="reference internal" href="#id8">Evaluate Resources for Elasticsearch Upgrade</a></li>
<li><a class="reference internal" href="#id9">PostgreSQL Upgrade to 9.6</a></li>
<li><a class="reference internal" href="#scheduled-query-migration-v-r6-changes">Scheduled Query Migration: V R6 Changes</a><ul>
<li><a class="reference internal" href="#if-you-have-unpublished-scheduled-queries">If you have UNPUBLISHED SCHEDULED queries:</a></li>
<li><a class="reference internal" href="#if-you-have-published-scheduled-queries-that-include-changes-you-havent-published-yet">If you have PUBLISHED SCHEDULED queries that include changes you haven’t published yet:</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#regular-update-scenario">Regular Update Scenario</a></li>
</ul>
</li>
</ul>

              
            </div>
          </div>
      </div>
    </div>

  </div>

  
  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->

  
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/clipboard.min.js"></script>
      <script type="text/javascript" src="../../_static/copybutton.js"></script>
      <script type="text/javascript" src="../../_static/js/rtd_sphinx_search.min.js"></script>
  
  <script type="text/javascript" src="../../_static/searchtools.js"></script> <script type="text/javascript" id="idPiwikScriptPlaceholder"></script><script type="text/javascript" src="../../_static/js/main.bundle.js"></script>
  <script type="text/javascript" src="../../_static/js/runtime.bundle.js"></script>

  
  

  
    <div id="open-modal-pdf" class="modal-window">
<div>
  <a href="#" title="Close" class="modal-close">Close</a>
  <h4>Alation Documentation PDF</h4>
  <p>This PDF contains all our documentation and is more than <b>120 MB</b> in size. We recommend using an ethernet or Wi-Fi connection for downloading.</p>
  <br>
  <div class="modal-buttons">
    <a href="https://pdf-docs.alation.com/AlationUserDocs.pdf" class="btn-cta btn-cta--primary" target="_blank">
      Download PDF
    </a>
    <a href="#" title="Close" class="btn-cta">Cancel</a>
  </div>
</div>
  

</body>
</html>
<!--3.6.17-->