
<!DOCTYPE html>
<html lang="" >
<head>
  <meta charset="utf-8"/>
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="book-version"      content=""/>
  <meta name="book-release"      content=""/>
  <meta name="docsearch:name"    content="Alation User Guide" />
  <meta name="docsearch:version" content="" />
  <meta name="docsearch:package_type" content="" />
	<meta name="robots" content="noindex" />

  
  <title>De-duplicate Mixed Case Usernames &mdash; Alation User Guide</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  

  

  
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/main.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/sphinx_collapse.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/rtd_sphinx_search.min.css" type="text/css" />
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="Alation User Guide" href="#"/>
        <link rel="up" title="Update Alation" href="index.html"/>
        <link rel="next" title="Update Source Field for Dataflow Objects" href="UpdateSourceForDataflows.html"/>
        <link rel="prev" title="Update Alation to 2022.3" href="Updateto20223.html"/>

	

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-67846571-1"></script>
	<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());

	gtag('config', 'UA-67846571-1');
	</script>

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<!-- Second Google Analytics tag to assist mapping with mattermost.com visits --> 
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-120238482-1"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'UA-120238482-1');
	</script>


</head>

<body class="wy-body-for-nav" role="document">

  <header>
    <div class="header__container wy-max-content-width">
        <a href="/" class="header__logo">
            <img width="176" src="../../_static/img/logo-alation.svg" alt="Alation" />
        </a>
        <ul class="header__links">
            <li><a href="https://help.alation.com/s/">Alation Help Center</a></li>
        </ul>
    </div>
</header>

  <div class="wy-grid-for-nav wy-max-content-width">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-scroll__content">
          <div class="wy-side-nav-search">
            

            <ul class="sidebartop">
              <li class="nolink search"><div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search this project" aria-label="Search this project" id="searchinput" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
</li>

            </ul>

            
          </div>

          <div class="wy-menu wy-sidebar wy-sidebar--hidden" data-spy="affix" role="navigation" aria-label="main navigation">
            
              
              
              
                  <p class="caption" role="heading"><span class="caption-text">Welcome to Alation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/About/index.html">About Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/CloudAndOnPrem/index.html">Alation Cloud and On-Premise</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/UserProfileandPreferences/index.html">User Profile and Preferences</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/CatalogBasics/index.html">Catalog Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/CatalogPages/index.html">Catalog Pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Conversations/index.html">Conversations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Domains/index.html">Domains</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/BestPractices/index.html">Best Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Glossary/index.html">Alation Glossary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation Cloud Service</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/StatusPage/index.html">Status Page</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/CloudOverview/index.html">Cloud Service Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/CloudConfiguration/index.html">Configuration for Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/AlationAgent/index.html">Alation Agent</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation Integration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../integration/AlationAnywhere/index.html">Alation Anywhere</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../integration/AlationConnectedSheets/index.html">Alation Connected Sheets</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installation &amp; Configuration</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../ServerInstallation/index.html">Install Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../HighAvailability/index.html">High Availability</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Update Alation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Updateto20233.html">Update Alation to 2023.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="Updateto20231.html">Update Alation to 2023.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="Updateto20224.html">Update Alation to 2022.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="ReencryptData.html">Re-Encrypt Existing Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="Updateto20223.html">Update Alation to 2022.3</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">De-duplicate Mixed Case Usernames</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpdateSourceForDataflows.html">Update Source Field for Dataflow Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="Updateto20222.html">Update Alation to 2022.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="Updateto20221.html">Update Alation to 2022.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="ResettingCheckpointForUserData.html">Resetting ETL Checkpoint for User Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="Updateto20214.html">Update Alation to 2021.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpdateFrom20214To20214Patch.html">Update Alation from 2021.4.x to 2021.4.4 or Later Patches</a></li>
<li class="toctree-l2"><a class="reference internal" href="ValidatingValueOfelasticsearch_env.html">Validating the Value of Parameter elasticsearch.env.es_java_opts</a></li>
<li class="toctree-l2"><a class="reference internal" href="Updateto20213.html">Update Alation to 2021.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="Updateto20212.html">Update Alation to 2021.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="Updateto20211.html">Update Alation to 2021.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="Updateto20204.html">Update Alation to 2020.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="20204UpgradeScript.html">Pre-Update Reindexing Script for 2020.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="Updateto20203.html">Update Alation to 2020.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpdatetoVR7.html">Updating Alation to V R7 (5.12.x)</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpgradeElasticsearchVR7.html">Elasticsearch Upgrade to 7.4 FAQ and Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpdatetoVR6.html">Update Alation to V R6 (5.10.x)</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpgradeInternalPostgreSQLInstances.html">Upgrade Internal PostgreSQL Instances from 9.3 to 9.6</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpdatetoVR5.html">Update Alation to V R5 (5.9.x)</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpdateSafetyBestPractice.html">Update Safety Best Practices</a></li>
<li class="toctree-l2"><a class="reference internal" href="ReleaseUpdatePrechecks.html">Release-specific Update Pre-checks</a></li>
<li class="toctree-l2"><a class="reference internal" href="ManualSWUpdate.html">Manual Software Update for Standalone Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="updateHAPair.html">Update HA Pair Configuration (4.7 and above)</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpdateHAPairwithClusterSplitting.html">Update HA Pair with Cluster Splitting</a></li>
<li class="toctree-l2"><a class="reference internal" href="OCFUpdateAlationConnectorManager.html">Update Alation Connector Manager</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../BackupandRestore/index.html">Back Up and Restore</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LineageV2/index.html">Lineage V2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LineageV3/index.html">Lineage V3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../AlationAnalyticsV2/index.html">Alation Analytics V2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../AlationContainerService/index.html">Alation Container Service</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../sources/CatalogSources/index.html">Catalog Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/VirtualDataSources/index.html">Virtual Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/Lineage/index.html">Lineage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/APIResources/index.html">API Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/WorkwithCatalogData/index.html">Working with Catalog Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/OpenConnectorFramework/index.html">Open Connector Framework</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Data Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/DSConfiguration/index.html">Data Source Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/AddDataSources/index.html">Adding Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/ComposeSSOAWSDataSources/index.html">Compose SSO for Amazon Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/ComposeSSOAzureDataSources/index.html">Compose SSO for Azure Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/AuthenticationForExtraction/index.html">Authentication for Extraction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/CustomDB/index.html">Custom DB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/GBQ/index.html">Google BigQuery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/Hive/index.html">Hive</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">BI Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/AddBISources/index.html">Add BI Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/AddTableauServer/index.html">Add Tableau Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/WorkwithBISources/index.html">Working with BI Sources</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">File System Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../filesystems/FileSystems/index.html">Add File Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../filesystems/VirtualFileSystems/index.html">Virtual File Systems</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Analysts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/UserAuthenticationForDataSources/index.html">User Authentication for Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/ShareAndAccessQueries/index.html">Share and Access Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/WriteQueries/index.html">Write Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/DevelopQueries/index.html">Develop Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/WorkwithQueryResults/index.html">Work with Query Results</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Data Stewards</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../steward/GovernanceApp/index.html">Governance App</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/PolicyCenter/index.html">Policy Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/Workflow/index.html">Workflow Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/GovernanceDashboard/index.html">Governance Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/StewardshipWorkbench/index.html">Stewardship Workbench</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/AnalyticsStewardship/index.html">Analytics Stewardship</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/Glossary/index.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/ArticlesAndTags/index.html">Articles and Tags</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/ArticleGroups/index.html">Article Groups</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/DataCatalogCustomization/index.html">Customize Your Data Catalog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/DataDocumentation/index.html">Data Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/AutoTitlingandLexicon/index.html">Auto-titling and Lexicon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/SnowflakeTags/index.html">Snowflake Tags</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Server Administrators</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../admins/CustomizableHomePage/index.html">Customizable Homepage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AdminSettings/index.html">Administrator Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AdditionalConfiguration/index.html">Additional Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/RunbookForAdministrators/index.html">Runbook for Administrators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AlationAPIs/index.html">Alation APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/How-tos/index.html">How-tos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/Troubleshooting/index.html">Troubleshooting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Release Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../releases/releasenotes/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/supportmatrices/index.html">Support Matrices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/endofsupport/index.html">End Of Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/snowflakeclladdon/index.html">Snowflake Parser Add-On</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/fieldnotices/index.html">Important Notices and Security Alerts</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Archived Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../archive/About/index.html">About the Documentation Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/AdminConfig/index.html">Administration and Update Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/ReleaseNotes/index.html">Release Notes Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/Usage/index.html">Usage and Customization Archive</a></li>
</ul>

              
            
          </div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="wy-nav-top-icon"></i>
        <a href="../../index.html">Alation User Guide</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">

          <div role="navigation" aria-label="breadcrumbs" class="breadcrumbs">
    <a href="../../index.html">Docs</a>
    <span class="separator">&gt;</span>
    <a href="index.html">Update Alation</a>
    <span class="separator">&gt;</span>
    <span>De-duplicate Mixed Case Usernames</span>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody" class="toBeIndexed">
            
  <section id="de-duplicate-mixed-case-usernames">
<h1>De-duplicate Mixed Case Usernames<a class="headerlink" href="#de-duplicate-mixed-case-usernames" title="Permalink to this headline">¶</a></h1>
<p class="on-prem-label hover-text">Customer Managed <span class="tooltip-text">Applies to customer-managed instances of Alation</span></p>
<p><em>Applies to version 2022.3</em></p>
<p>From version 2022.3, Alation ends support for case sensitive usernames. All usernames are treated as case insensitive. For example, usernames like <em>Alvin.Lucas&#64;alationcatalog.com</em> and <em>alvin.lucas&#64;alationcatalog.com</em> are considered identical usernames.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In releases prior to 2022.3, case sensitive usernames were supported. Usernames differing in the use of lowercase or uppercase letters were considered different usernames. For example, usernames like <em>Alvin.Lucas&#64;alationcatalog.com</em> and <em>alvin.lucas&#64;alationcatalog.com</em> were considered two different usernames.</p>
</div>
<p>After updating the Alation application to 2022.3, make sure that your Alation instance does not have any duplicate mixed case usernames created in previous releases. Note that the owner of the duplicate accounts will not be able to log in until their accounts are de-duplicated.</p>
<p>Alation provides two ways to facilitate the process of finding and suspending duplicate user accounts:</p>
<ul class="simple">
<li><p>In release 2022.4.3, Alation provides API endpoints that can be used by Server Admins for both on-premise and Alation Cloud Service instances of Alation.</p></li>
<li><p>In release 2022.3, Alation provides a one-off script that can be used by an admin with backend access to on-premise installations of Alation.</p></li>
</ul>
<p>In both cases, the overall process for de-duplicating mixed case usernames is:</p>
<ol class="arabic">
<li><p>The script or the API endpoint creates a list of all usernames that are duplicates from the standpoint of case sensitivity. The list is provided in CSV format.</p></li>
<li><p>You edit the CSV file to specify which usernames should be retained or suspended.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you’re running the script, you’ll have the option to pause the script while you edit the CSV file or exit the script and re-initiate it after you’ve edited the CSV file.</p>
</div>
</li>
<li><p>The script or the API endpoint processes the edited CSV file and suspends the user accounts you specified.</p></li>
</ol>
<p>This process is described in detail below.</p>
<section id="use-the-api-to-de-duplicate-usernames">
<h2>Use the API to De-Duplicate Usernames<a class="headerlink" href="#use-the-api-to-de-duplicate-usernames" title="Permalink to this headline">¶</a></h2>
<p>In release 2022.4.3, a Server Admin for both on-premise and Alation Cloud Service instances of Alation can use APIs to de-duplicate mixed case usernames. To use Alation APIs, you must first generate a Refresh Token and an Access Token. If you need help generating your tokens, see Generate Tokens for the Alation API.</p>
<section id="step-1-download-a-list-of-duplicate-usernames">
<h3>Step 1: Download a List of Duplicate Usernames<a class="headerlink" href="#step-1-download-a-list-of-duplicate-usernames" title="Permalink to this headline">¶</a></h3>
<p>To start, you need to use the API to generate a CSV file containing any duplicate usernames.</p>
<ol class="arabic">
<li><p>Make a GET request to <code class="docutils literal notranslate"><span class="pre">/integration/v1/generate_dup_users_accts_csv_file/</span></code> to download a CSV file containing duplicate usernames. You can use the <a class="reference external" href="https://developer.alation.com/dev/reference/getduplicateuseraccountsinfile">documentation for this endpoint</a> on Alation’s Developer Portal for help constructing the request.</p>
<p>As an example, the following code shows the GET request with curl. You would have to replace <code class="docutils literal notranslate"><span class="pre">{YOUR_ALATION_DOMAIN}</span></code> with the URL of your Alation instance and <code class="docutils literal notranslate"><span class="pre">{YOUR_ACCESS_TOKEN}</span></code> with your personal API access token.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>curl<span class="w"> </span>--request<span class="w"> </span>GET<span class="w"> </span><span class="se">\</span>
<span class="w">   </span>--url<span class="w"> </span>https://<span class="o">{</span>YOUR_ALATION_DOMAIN<span class="o">}</span>/integration/v1/generate_dup_users_accts_csv_file/<span class="w"> </span><span class="se">\</span>
<span class="w">   </span>--header<span class="w"> </span><span class="s1">&#39;accept: application/json&#39;</span><span class="se">\</span>
<span class="w">   </span>--header<span class="w"> </span><span class="s1">&#39;TOKEN: {YOUR_ACCESS_TOKEN}&#39;</span>
</pre></div>
</div>
</li>
<li><p>If no mixed case duplicates are found, you will get a 200 Success response.</p>
<p>If any mixed case duplicates are found, the response will include the list of usernames in CSV format. Depending on your environment and how you make the API request, the list may be provided in different ways, for example:</p>
<ul class="simple">
<li><p>The list may be downloaded to your computer as a CSV file.</p></li>
<li><p>Each row may be printed to the screen as a comma separated string. You would need to copy the rows into a file and save the file to your computer so you can edit it.</p></li>
</ul>
</li>
</ol>
</section>
<section id="step-2-edit-the-csv-file">
<h3>Step 2: Edit the CSV File<a class="headerlink" href="#step-2-edit-the-csv-file" title="Permalink to this headline">¶</a></h3>
<p>The prior step results in a CSV file containing duplicate usernames. You need to edit the file to indicate which usernames to retain or suspend.</p>
<p>To edit the file:</p>
<ol class="arabic">
<li><p>Open the file in an editor of your choice. For example, if you prefer to edit it directly in the Terminal, open a new Terminal window, enter the Alation shell, go to <strong>/data1/tmp</strong> and use the vi editor to open the file.</p>
<p>The screenshot below shows an example of a file generated by the script.</p>
<blockquote>
<div><img alt="../../_images/Deduplicate_Mixed_Case_User_List.png" class="with-border" src="../../_images/Deduplicate_Mixed_Case_User_List.png" />
</div></blockquote>
<p>The file contains mixed case duplicate usernames organized by group. Each group has a numeric ID and includes usernames that only differ in the use of uppercase and lowercase letters.</p>
<p>The file includes the following columns:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>SN</strong> – Serial number of a record in the file.</p></li>
<li><p><strong>Username</strong> – Username of the Alation user.</p></li>
<li><p><strong>Email</strong> – Email of the Alation users.</p></li>
<li><p><strong>Action</strong> – Specifies the action to take on this row. The initial value is <code class="docutils literal notranslate"><span class="pre">RETAIN/SUSPEND</span></code>.</p></li>
<li><p><strong>Group</strong> – ID of a group (set of users who have duplicate case insensitive usernames).</p></li>
</ul>
</div></blockquote>
</li>
<li><p>For each group of the duplicates, you need to specify which username to retain and which usernames to suspend to eliminate the duplicates. You only need to edit the <strong>Action</strong> values.</p>
<ul class="simple">
<li><p>Use <code class="docutils literal notranslate"><span class="pre">RETAIN</span></code> for the username to retain. In each group of duplicating usernames, you can only retain one username.</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">SUSPEND</span></code> for the duplicate usernames. The duplicate usernames will be suspended.</p></li>
</ul>
<p>The screenshot below shows an example of an edited file.</p>
<blockquote>
<div><img alt="../../_images/Deduplicate_Mixed_Case_Edited_List.png" class="with-border" src="../../_images/Deduplicate_Mixed_Case_Edited_List.png" />
</div></blockquote>
</li>
<li><p>Save the changes.</p></li>
</ol>
</section>
<section id="step-3-upload-the-csv-file-via-api">
<h3>Step 3: Upload the CSV File via API<a class="headerlink" href="#step-3-upload-the-csv-file-via-api" title="Permalink to this headline">¶</a></h3>
<p>You will now use the API to upload the edited CSV file to Alation. Once the file has been uploaded, Alation will suspend the accounts you indicated in the file.</p>
<ol class="arabic">
<li><p>Make a POST request to <code class="docutils literal notranslate"><span class="pre">/integration/v1/remove_dup_users_accts/</span></code> to upload your edited CSV file. You can use the <a class="reference external" href="https://developer.alation.com/dev/reference/suspendduplicateuseraccountsfromfile">documentation for this endpoint</a> on Alation’s Developer Portal for help constructing the request.</p>
<p>As an example, the following code shows the POST request with curl. You would have to replace <code class="docutils literal notranslate"><span class="pre">{YOUR_ALATION_DOMAIN}</span></code> with the URL of your Alation instance, <code class="docutils literal notranslate"><span class="pre">{YOUR_ACCESS_TOKEN}</span></code> with your personal API access token, and <code class="docutils literal notranslate"><span class="pre">{YOUR_CSV_FILE}</span></code> with the name and path of your edited CSV file.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>curl<span class="w"> </span>--request<span class="w"> </span>POST<span class="w"> </span><span class="se">\</span>
<span class="w">   </span>--url<span class="w"> </span>https://<span class="o">{</span>YOUR_ALATION_DOMAIN<span class="o">}</span>/integration/v1/remove_dup_users_accts/<span class="w"> </span><span class="se">\</span>
<span class="w">   </span>--header<span class="w"> </span><span class="s1">&#39;accept: application/json&#39;</span><span class="se">\</span>
<span class="w">   </span>--header<span class="w"> </span><span class="s1">&#39;content-type: multipart/form-data&#39;</span><span class="se">\</span>
<span class="w">   </span>--header<span class="w"> </span><span class="s1">&#39;TOKEN: {YOUR_ACCESS_TOKEN}&#39;</span><span class="se">\</span>
<span class="w">   </span>--form<span class="w"> </span><span class="nv">csv_file</span><span class="o">=</span>@<span class="o">{</span>YOUR_CSV_FILE<span class="o">}</span>.csv
</pre></div>
</div>
</li>
<li><p>The duplicate accounts will be suspended according to the edits you made in the CSV file. Note that the suspended usernames will be changed to the following format: <code class="docutils literal notranslate"><span class="pre">&lt;username&gt;_uis_suspend_&lt;uuid4&gt;</span></code>, for example: <code class="docutils literal notranslate"><span class="pre">Alvin.Lucas&#64;alationcatalog.com_uis_suspend_26b6052-f2e7-4976-ac21-e1ac15993</span></code>.</p></li>
<li><p>Assuming the POST request worked, you will get a success message confirming that the duplicate user accounts have been suspended.</p></li>
</ol>
</section>
</section>
<section id="use-the-script-to-de-duplicate-usernames">
<h2>Use the Script to De-Duplicate Usernames<a class="headerlink" href="#use-the-script-to-de-duplicate-usernames" title="Permalink to this headline">¶</a></h2>
<p>In release 2022.3, an admin with backend access to an on-premise Alation server can use a script to de-duplicate mixed case usernames. Follow the instructions below to use the script.</p>
<section id="step-1-generate-a-list-of-duplicate-usernames">
<h3>Step 1: Generate a List of Duplicate Usernames<a class="headerlink" href="#step-1-generate-a-list-of-duplicate-usernames" title="Permalink to this headline">¶</a></h3>
<p>Initially, run the script to generate a list of duplicate usernames. To run the script:</p>
<ol class="arabic">
<li><p>Use SSH to connect to the Alation server.</p></li>
<li><p>Enter the Alation shell.</p>
<div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>/etc/init.d/alation<span class="w"> </span>shell
</pre></div>
</div>
</li>
<li><p>Change the user to <code class="docutils literal notranslate"><span class="pre">alation</span></code>.</p>
<div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>su<span class="w"> </span>alation
</pre></div>
</div>
</li>
<li><p>Go to <strong>/opt/alation/django</strong>.</p>
<div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>/opt/alation/django
</pre></div>
</div>
</li>
<li><p>Run the script with the following command:</p>
<div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>./rosemeta/one_off_scripts/generate_and_remove_dup_user_accounts_with_mixed_case.pyc
</pre></div>
</div>
</li>
<li><p>The output will contain a prompt to specify one of the three options:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">G</span></code> or <code class="docutils literal notranslate"><span class="pre">g</span></code> – Generate a CSV file listing the duplicate user accounts with mixed case usernames.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">U</span></code> or <code class="docutils literal notranslate"><span class="pre">u</span></code> – Specify the CSV file name which will be used to update the user accounts.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">T</span></code> or <code class="docutils literal notranslate"><span class="pre">t</span></code> – Terminate and exit.</p></li>
</ul>
<p>Type <code class="docutils literal notranslate"><span class="pre">G</span></code> or <code class="docutils literal notranslate"><span class="pre">g</span></code> and press Enter to generate the list of duplicate usernames.</p>
</div></blockquote>
</li>
<li><p>The script will analyze the usernames on your instance. If any mixed case duplicates are found, it will generate a CSV file in the directory <strong>/data1/tmp/</strong> inside the Alation chroot. If no duplicates are found, you’ll see the message <em>No duplicate user accounts with mixed case usernames</em>. In the latter case, no further action is required.</p></li>
<li><p>If the script identifies some duplicate accounts and generates a CSV file, you’ll see a message similar to the following: <em>Unique file generated with name: /data1/tmp/duplicate_users_926b6052-f2e7-4976-ac21-e1ac15993aa3.csv</em>.</p></li>
<li><p>The script will display the editing instructions for the generated file and the prompt <em>Please provide confirmation that the file is updated appropriately? [Y/n]</em>. You can leave the script waiting for the input and edit the file right now in a separate Terminal window (or using other tools) and then return to the window with the script and continue.</p></li>
</ol>
<p>Alternatively, you can type <code class="docutils literal notranslate"><span class="pre">n</span></code> to exit the script, take as much time as needed to edit the CSV file, and then rerun the script with the <code class="docutils literal notranslate"><span class="pre">U</span></code> (update) option.</p>
<ol class="arabic simple" start="10">
<li><p>If you chose to exit from the script, exit from the user <code class="docutils literal notranslate"><span class="pre">alation</span></code>:</p></li>
</ol>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span><span class="nb">exit</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="11">
<li><p>Exit from the Alation shell:</p></li>
</ol>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span><span class="nb">exit</span>
</pre></div>
</div>
</div></blockquote>
</section>
<section id="id1">
<h3>Step 2: Edit the CSV File<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>The script generates a CSV file with a name similar to <em>duplicate_users_926b6052-f2e7-4976-ac21-e1ac15993aa3.csv</em> in the directory <strong>/data1/tmp</strong>.</p>
<p>To edit the file:</p>
<ol class="arabic">
<li><p>Open the file in an editor of your choice. For example, if you prefer to edit it directly in the Terminal, open a new Terminal window, enter the Alation shell, go to <strong>/data1/tmp</strong> and use the vi editor to open the file.</p>
<p>The screenshot below shows an example of a file generated by the script.</p>
<blockquote>
<div><img alt="../../_images/Deduplicate_Mixed_Case_User_List.png" class="with-border" src="../../_images/Deduplicate_Mixed_Case_User_List.png" />
</div></blockquote>
<p>The file contains mixed case duplicate usernames organized by group. Each group has a numeric ID and includes usernames that only differ in the use of uppercase and lowercase letters.</p>
<p>The file includes the following columns:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>SN</strong> – Serial number of a record in the file.</p></li>
<li><p><strong>Username</strong> – Username of the Alation user.</p></li>
<li><p><strong>Email</strong> – Email of the Alation users.</p></li>
<li><p><strong>Action</strong> – Specifies the action to take on this row. The initial value is <code class="docutils literal notranslate"><span class="pre">RETAIN/SUSPEND</span></code>.</p></li>
<li><p><strong>Group</strong> – ID of a group (set of users who have duplicate case insensitive usernames).</p></li>
</ul>
</div></blockquote>
</li>
<li><p>For each group of the duplicates, you need to specify which username to retain and which usernames to suspend to eliminate the duplicates. You only need to edit the <strong>Action</strong> values.</p>
<ul class="simple">
<li><p>Use <code class="docutils literal notranslate"><span class="pre">RETAIN</span></code> for the username to retain. In each group of duplicating usernames, you can only retain one username.</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">SUSPEND</span></code> for the duplicate usernames. The duplicate usernames will be suspended.</p></li>
</ul>
<p>The screenshot below shows an example of an edited file.</p>
<blockquote>
<div><img alt="../../_images/Deduplicate_Mixed_Case_Edited_List.png" class="with-border" src="../../_images/Deduplicate_Mixed_Case_Edited_List.png" />
</div></blockquote>
</li>
<li><p>Save the changes.</p></li>
<li><p>If you were editing the file outside of the Alation server, copy the updated file to <strong>/data1/tmp</strong> inside the Alation chroot to make it available to the script.</p></li>
</ol>
</section>
<section id="step-3-update-the-user-accounts">
<h3>Step 3: Update the User Accounts<a class="headerlink" href="#step-3-update-the-user-accounts" title="Permalink to this headline">¶</a></h3>
<p>Use the appropriate set of steps depending on whether or not you previously exited from the script.</p>
<section id="script-is-waiting-for-input">
<h4>Script is Waiting for Input<a class="headerlink" href="#script-is-waiting-for-input" title="Permalink to this headline">¶</a></h4>
<p>If you still have the Terminal window with the script waiting for your input:</p>
<ol class="arabic">
<li><p>Go back to the Terminal window that has the script in progress. The last prompt says: <em>Please provide confirmation that the file is updated appropriately? [Y/n]</em>.</p></li>
<li><p>Type <code class="docutils literal notranslate"><span class="pre">Y</span></code> in response to the last prompt.</p></li>
<li><p>The script will suspend the duplicate accounts according to the edits you made in the CSV file. Note that the suspended accounts will be changed to the following format: <code class="docutils literal notranslate"><span class="pre">&lt;username&gt;_uis_suspend_&lt;uuid4&gt;</span></code>, for example: <code class="docutils literal notranslate"><span class="pre">Alvin.Lucas&#64;alationcatalog.com_uis_suspend_26b6052-f2e7-4976-ac21-e1ac15993</span></code>.</p></li>
<li><p>Wait for the success message that will be similar to the following:</p>
<div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>Total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>users<span class="w"> </span>got<span class="w"> </span>updated<span class="w"> </span>with<span class="w"> </span>temp<span class="w"> </span>username<span class="w"> </span>and<span class="w"> </span>suspended:<span class="w"> </span><span class="m">2</span>
Successfully<span class="w"> </span>completed.
</pre></div>
</div>
</li>
<li><p>If you have no other tasks in the Alation shell, exit the shell.</p>
<div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span><span class="nb">exit</span>
</pre></div>
</div>
<p>The screenshot below illustrates this scenario:</p>
<blockquote>
<div><img alt="../../_images/Deduplicate_Mixed_Case_Script_Waiting.png" class="with-border" src="../../_images/Deduplicate_Mixed_Case_Script_Waiting.png" />
</div></blockquote>
</li>
</ol>
</section>
<section id="script-has-been-exited">
<h4>Script Has Been Exited<a class="headerlink" href="#script-has-been-exited" title="Permalink to this headline">¶</a></h4>
<p>Run the script again, choosing the <code class="docutils literal notranslate"><span class="pre">U</span></code> option when prompted:</p>
<ol class="arabic">
<li><p>Use SSH to connect to the Alation server.</p></li>
<li><p>Enter the Alation shell.</p>
<div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>/etc/init.d/alation<span class="w"> </span>shell
</pre></div>
</div>
</li>
<li><p>Change the user to <code class="docutils literal notranslate"><span class="pre">alation</span></code>.</p>
<div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>su<span class="w"> </span>alation
</pre></div>
</div>
</li>
<li><p>Go to <strong>/opt/alation/django</strong>.</p>
<div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>/opt/alation/django
</pre></div>
</div>
</li>
<li><p>Run the script with the following command:</p>
<div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>./rosemeta/one_off_scripts/generate_and_remove_dup_user_accounts_with_mixed_case.pyc
</pre></div>
</div>
</li>
<li><p>When prompted, provide the <code class="docutils literal notranslate"><span class="pre">U</span></code> option. This option is for updating the usernames after editing the file.</p></li>
<li><p>The duplicate accounts will be suspended according to the edits you made in the CSV file. Note that the suspended usernames will be changed to the following format: <code class="docutils literal notranslate"><span class="pre">&lt;username&gt;_uis_suspend_&lt;uuid4&gt;</span></code>, for example: <code class="docutils literal notranslate"><span class="pre">Alvin.Lucas&#64;alationcatalog.com_uis_suspend_26b6052-f2e7-4976-ac21-e1ac15993</span></code>.</p></li>
<li><p>Wait for the success message.</p></li>
<li><p>If you have no other tasks in the Alation shell, exit the shell.</p>
<div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span><span class="nb">exit</span>
</pre></div>
</div>
</li>
</ol>
</section>
</section>
</section>
</section>


           </div>
          </div>
          <footer>

  
<div class="navigation-bar">

    <div class="navigation navigation--prev">
        
        <a class="navigation__link" href="Updateto20223.html">
            <button class="navigation__button">
                <i class="icon icon-left"></i>
            </button>
            <div class="navigation__title">
                <span class="heading">Previous</span> <br />Update Alation to 2022.3
            </div>
        </a>
        
    </div>

    <div class="navigation navigation--next">
        
        <a class="navigation__link" title="Accesskey Alt(+Shift)+p" accesskey="p" href="UpdateSourceForDataflows.html">
            <div class="navigation__title">
                <span class="heading">Next</span> <br />Update Source Field for Dataflow Objects
            </div>
            <button class="navigation__button" title="Accesskey Alt(+Shift)+n" accesskey="n">
                <i class="icon icon-right"></i>
            </button>
        </a>
        
    </div>

</div>


</footer>

        </div>
      </div>

    </section>

    <div class="wy-nav-side wy-nav-secondary">
      <div class="wy-side-scroll">
        <div class="wy-side-scroll__content">
          <div class="wy-menu-secondary">
              <div class="comments">
    <a href="mailto:no-reply-docs-feedback@alation.com?subject=Documentation Feedback on installconfig/Update/DeduplicateMixedCaseUsernames&body=Alation%20welcomes%20your%20comments%20on%20typos,%20content%20accuracy%20and%20completeness,%20and%20whether%20you%20found%20this%20page%20helpful.%20You%20will%20not%20receive%20a%20reply%20to%20this%20email.">
        <i class="icon icon-envelope" aria-hidden="true"></i>Request docs changes
    </a>
    <a href="#open-modal-pdf">
        <i class="icon icon-pdf" aria-hidden="true"></i>Download PDF
    </a>
</div>
              
                <p class="wy-menu-secondary-header">On this page</p>
                <ul>
<li><a class="reference internal" href="#">De-duplicate Mixed Case Usernames</a><ul>
<li><a class="reference internal" href="#use-the-api-to-de-duplicate-usernames">Use the API to De-Duplicate Usernames</a><ul>
<li><a class="reference internal" href="#step-1-download-a-list-of-duplicate-usernames">Step 1: Download a List of Duplicate Usernames</a></li>
<li><a class="reference internal" href="#step-2-edit-the-csv-file">Step 2: Edit the CSV File</a></li>
<li><a class="reference internal" href="#step-3-upload-the-csv-file-via-api">Step 3: Upload the CSV File via API</a></li>
</ul>
</li>
<li><a class="reference internal" href="#use-the-script-to-de-duplicate-usernames">Use the Script to De-Duplicate Usernames</a><ul>
<li><a class="reference internal" href="#step-1-generate-a-list-of-duplicate-usernames">Step 1: Generate a List of Duplicate Usernames</a></li>
<li><a class="reference internal" href="#id1">Step 2: Edit the CSV File</a></li>
<li><a class="reference internal" href="#step-3-update-the-user-accounts">Step 3: Update the User Accounts</a><ul>
<li><a class="reference internal" href="#script-is-waiting-for-input">Script is Waiting for Input</a></li>
<li><a class="reference internal" href="#script-has-been-exited">Script Has Been Exited</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

              
            </div>
          </div>
      </div>
    </div>

  </div>

  
  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->

  
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/clipboard.min.js"></script>
      <script type="text/javascript" src="../../_static/copybutton.js"></script>
      <script type="text/javascript" src="../../_static/js/rtd_sphinx_search.min.js"></script>
  
  <script type="text/javascript" src="../../_static/searchtools.js"></script> <script type="text/javascript" id="idPiwikScriptPlaceholder"></script><script type="text/javascript" src="../../_static/js/main.bundle.js"></script>
  <script type="text/javascript" src="../../_static/js/runtime.bundle.js"></script>

  
  

  
    <div id="open-modal-pdf" class="modal-window">
<div>
  <a href="#" title="Close" class="modal-close">Close</a>
  <h4>Alation Documentation PDF</h4>
  <p>This PDF contains all our documentation and is more than <b>120 MB</b> in size. We recommend using an ethernet or Wi-Fi connection for downloading.</p>
  <br>
  <div class="modal-buttons">
    <a href="https://pdf-docs.alation.com/AlationUserDocs.pdf" class="btn-cta btn-cta--primary" target="_blank">
      Download PDF
    </a>
    <a href="#" title="Close" class="btn-cta">Cancel</a>
  </div>
</div>
  

</body>
</html>
<!--3.6.17-->