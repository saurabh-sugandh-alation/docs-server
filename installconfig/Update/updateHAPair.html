
<!DOCTYPE html>
<html lang="" >
<head>
  <meta charset="utf-8"/>
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="book-version"      content=""/>
  <meta name="book-release"      content=""/>
  <meta name="docsearch:name"    content="Alation User Guide" />
  <meta name="docsearch:version" content="" />
  <meta name="docsearch:package_type" content="" />
	<meta name="robots" content="noindex" />

  
  <title>Update HA Pair Configuration (4.7 and above) &mdash; Alation User Guide</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  

  

  
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/main.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/sphinx_collapse.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/rtd_sphinx_search.min.css" type="text/css" />
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="Alation User Guide" href="#"/>
        <link rel="up" title="Update Alation" href="index.html"/>
        <link rel="next" title="Update HA Pair with Cluster Splitting" href="UpdateHAPairwithClusterSplitting.html"/>
        <link rel="prev" title="Manual Software Update for Standalone Systems" href="ManualSWUpdate.html"/>

	

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-67846571-1"></script>
	<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());

	gtag('config', 'UA-67846571-1');
	</script>

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<!-- Second Google Analytics tag to assist mapping with mattermost.com visits --> 
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-120238482-1"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'UA-120238482-1');
	</script>


</head>

<body class="wy-body-for-nav" role="document">

  <header>
    <div class="header__container wy-max-content-width">
        <a href="/" class="header__logo">
            <img width="176" src="../../_static/img/logo-alation.svg" alt="Alation" />
        </a>
        <ul class="header__links">
            <li><a href="https://help.alation.com/s/">Alation Help Center</a></li>
        </ul>
    </div>
</header>

  <div class="wy-grid-for-nav wy-max-content-width">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-scroll__content">
          <div class="wy-side-nav-search">
            

            <ul class="sidebartop">
              <li class="nolink search"><div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search this project" aria-label="Search this project" id="searchinput" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
</li>

            </ul>

            
          </div>

          <div class="wy-menu wy-sidebar wy-sidebar--hidden" data-spy="affix" role="navigation" aria-label="main navigation">
            
              
              
              
                  <p class="caption" role="heading"><span class="caption-text">Welcome to Alation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/About/index.html">About Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/CloudAndOnPrem/index.html">Alation Cloud and On-Premise</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/UserProfileandPreferences/index.html">User Profile and Preferences</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/CatalogBasics/index.html">Catalog Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/CatalogPages/index.html">Catalog Pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Conversations/index.html">Conversations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Domains/index.html">Domains</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/BestPractices/index.html">Best Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Glossary/index.html">Alation Glossary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation Cloud Service</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/StatusPage/index.html">Status Page</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/CloudOverview/index.html">Cloud Service Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/CloudConfiguration/index.html">Configuration for Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/AlationAgent/index.html">Alation Agent</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation Integration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../integration/AlationAnywhere/index.html">Alation Anywhere</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../integration/AlationConnectedSheets/index.html">Alation Connected Sheets</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installation &amp; Configuration</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../ServerInstallation/index.html">Install Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../HighAvailability/index.html">High Availability</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Update Alation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Updateto20233.html">Update Alation to 2023.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="Updateto20231.html">Update Alation to 2023.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="Updateto20224.html">Update Alation to 2022.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="ReencryptData.html">Re-Encrypt Existing Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="Updateto20223.html">Update Alation to 2022.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="DeduplicateMixedCaseUsernames.html">De-duplicate Mixed Case Usernames</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpdateSourceForDataflows.html">Update Source Field for Dataflow Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="Updateto20222.html">Update Alation to 2022.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="Updateto20221.html">Update Alation to 2022.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="ResettingCheckpointForUserData.html">Resetting ETL Checkpoint for User Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="Updateto20214.html">Update Alation to 2021.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpdateFrom20214To20214Patch.html">Update Alation from 2021.4.x to 2021.4.4 or Later Patches</a></li>
<li class="toctree-l2"><a class="reference internal" href="ValidatingValueOfelasticsearch_env.html">Validating the Value of Parameter elasticsearch.env.es_java_opts</a></li>
<li class="toctree-l2"><a class="reference internal" href="Updateto20213.html">Update Alation to 2021.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="Updateto20212.html">Update Alation to 2021.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="Updateto20211.html">Update Alation to 2021.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="Updateto20204.html">Update Alation to 2020.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="20204UpgradeScript.html">Pre-Update Reindexing Script for 2020.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="Updateto20203.html">Update Alation to 2020.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpdatetoVR7.html">Updating Alation to V R7 (5.12.x)</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpgradeElasticsearchVR7.html">Elasticsearch Upgrade to 7.4 FAQ and Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpdatetoVR6.html">Update Alation to V R6 (5.10.x)</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpgradeInternalPostgreSQLInstances.html">Upgrade Internal PostgreSQL Instances from 9.3 to 9.6</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpdatetoVR5.html">Update Alation to V R5 (5.9.x)</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpdateSafetyBestPractice.html">Update Safety Best Practices</a></li>
<li class="toctree-l2"><a class="reference internal" href="ReleaseUpdatePrechecks.html">Release-specific Update Pre-checks</a></li>
<li class="toctree-l2"><a class="reference internal" href="ManualSWUpdate.html">Manual Software Update for Standalone Systems</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Update HA Pair Configuration (4.7 and above)</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpdateHAPairwithClusterSplitting.html">Update HA Pair with Cluster Splitting</a></li>
<li class="toctree-l2"><a class="reference internal" href="OCFUpdateAlationConnectorManager.html">Update Alation Connector Manager</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../BackupandRestore/index.html">Back Up and Restore</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LineageV2/index.html">Lineage V2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LineageV3/index.html">Lineage V3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../AlationAnalyticsV2/index.html">Alation Analytics V2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../AlationContainerService/index.html">Alation Container Service</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../sources/CatalogSources/index.html">Catalog Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/VirtualDataSources/index.html">Virtual Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/Lineage/index.html">Lineage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/APIResources/index.html">API Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/WorkwithCatalogData/index.html">Working with Catalog Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/OpenConnectorFramework/index.html">Open Connector Framework</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Data Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/DSConfiguration/index.html">Data Source Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/AddDataSources/index.html">Adding Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/ComposeSSOAWSDataSources/index.html">Compose SSO for Amazon Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/ComposeSSOAzureDataSources/index.html">Compose SSO for Azure Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/AuthenticationForExtraction/index.html">Authentication for Extraction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/CustomDB/index.html">Custom DB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/GBQ/index.html">Google BigQuery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/Hive/index.html">Hive</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">BI Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/AddBISources/index.html">Add BI Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/AddTableauServer/index.html">Add Tableau Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/WorkwithBISources/index.html">Working with BI Sources</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">File System Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../filesystems/FileSystems/index.html">Add File Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../filesystems/VirtualFileSystems/index.html">Virtual File Systems</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Analysts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/UserAuthenticationForDataSources/index.html">User Authentication for Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/ShareAndAccessQueries/index.html">Share and Access Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/WriteQueries/index.html">Write Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/DevelopQueries/index.html">Develop Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/WorkwithQueryResults/index.html">Work with Query Results</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Data Stewards</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../steward/GovernanceApp/index.html">Governance App</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/PolicyCenter/index.html">Policy Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/Workflow/index.html">Workflow Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/GovernanceDashboard/index.html">Governance Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/StewardshipWorkbench/index.html">Stewardship Workbench</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/AnalyticsStewardship/index.html">Analytics Stewardship</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/Glossary/index.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/ArticlesAndTags/index.html">Articles and Tags</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/ArticleGroups/index.html">Article Groups</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/DataCatalogCustomization/index.html">Customize Your Data Catalog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/DataDocumentation/index.html">Data Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/AutoTitlingandLexicon/index.html">Auto-titling and Lexicon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/SnowflakeTags/index.html">Snowflake Tags</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Server Administrators</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../admins/CustomizableHomePage/index.html">Customizable Homepage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AdminSettings/index.html">Administrator Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AdditionalConfiguration/index.html">Additional Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/RunbookForAdministrators/index.html">Runbook for Administrators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AlationAPIs/index.html">Alation APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/How-tos/index.html">How-tos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/Troubleshooting/index.html">Troubleshooting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Release Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../releases/releasenotes/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/supportmatrices/index.html">Support Matrices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/endofsupport/index.html">End Of Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/snowflakeclladdon/index.html">Snowflake Parser Add-On</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/fieldnotices/index.html">Important Notices and Security Alerts</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Archived Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../archive/About/index.html">About the Documentation Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/AdminConfig/index.html">Administration and Update Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/ReleaseNotes/index.html">Release Notes Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/Usage/index.html">Usage and Customization Archive</a></li>
</ul>

              
            
          </div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="wy-nav-top-icon"></i>
        <a href="../../index.html">Alation User Guide</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">

          <div role="navigation" aria-label="breadcrumbs" class="breadcrumbs">
    <a href="../../index.html">Docs</a>
    <span class="separator">&gt;</span>
    <a href="index.html">Update Alation</a>
    <span class="separator">&gt;</span>
    <span>Update HA Pair Configuration (4.7 and above)</span>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody" class="toBeIndexed">
            
  <section id="update-ha-pair-configuration-4-7-and-above">
<h1>Update HA Pair Configuration (4.7 and above)<a class="headerlink" href="#update-ha-pair-configuration-4-7-and-above" title="Permalink to this headline">¶</a></h1>
<p class="on-prem-label hover-text">Customer Managed <span class="tooltip-text">Applies to customer-managed instances of Alation</span></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is recommended to update to the <em>latest available</em> patch version of a release.</p>
</div>
<p>This article provides the steps for updating Alation releases 4.7 and
above when it is installed as an HA Pair configuration.</p>
<p>This instruction describes updating the HA Pair with preserving
replication between the Primary and Secondary nodes.</p>
<section id="prerequisites">
<h2>1. Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Perform the update only after you have familiarized yourself with and completed the required pre-upgrade steps for your release.</p>
</div>
<p>Before updating:</p>
<section id="check-system-upgradeability">
<h3>Check system upgradeability<a class="headerlink" href="#check-system-upgradeability" title="Permalink to this headline">¶</a></h3>
<p><strong>On both Primary and Secondary nodes</strong>, confirm the system upgradeability
by validating that a minimum of 15 GB space is free at <code class="docutils literal notranslate"><span class="pre">/opt/alation/</span></code>. On the host, outside the Alation shell, run:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>df<span class="w"> </span>-h
</pre></div>
</div>
</div></blockquote>
<p>The output will show the used and available disk space for the disks. Find the main data disk. It is usually called <code class="docutils literal notranslate"><span class="pre">/data</span></code>. Find the number in the <strong>Avail</strong> column. This number should be equal or more than 15 GB.</p>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">[root@C74X ~]# </span>df<span class="w"> </span>-h

<span class="go">Filesystem              Size Used   Avail Use% Mounted on</span>
<span class="go">/dev/mapper/centos-root 44G   17G   27G   38%   /</span>
<span class="go">/dev/sdc1               69G   2.2G  67G   4%    /BACKUP</span>
<span class="go">/dev/sdb1               44G   11G   34G   24%   /DATA</span>
</pre></div>
</div>
</div></blockquote>
</section>
<section id="check-for-backup-in-progress">
<h3>Check for backup in progress<a class="headerlink" href="#check-for-backup-in-progress" title="Permalink to this headline">¶</a></h3>
<p><strong>On Primary</strong>, check that there are currently no backup
processes in progress. A backup in progress is not compatible with the
update. To check, you can:</p>
<ul class="simple">
<li><p><em>Version V R3 (5.6.x) and above</em>: In the Alation Catalog UI, navigate to <strong>Admin
Settings &gt; Monitor &gt; Active Tasks</strong> (requires the <em>Server Admin</em> role) and check if there are any active backup tasks in the current queue.</p></li>
<li><p>Using Linux commands, check for active processes that have <code class="docutils literal notranslate"><span class="pre">backup</span></code> in the process name.</p></li>
</ul>
<p>Continue with update after the backup process has finished.</p>
</section>
<section id="check-the-replication-status-of-your-ha-pair">
<h3>Check the replication status of your HA Pair<a class="headerlink" href="#check-the-replication-status-of-your-ha-pair" title="Permalink to this headline">¶</a></h3>
<p>To check,</p>
<p>From the UI of the Primary, check the following URL:  <strong>&lt;your_alation_URL&gt;/monitor/replication</strong></p>
<p>It will return the byte lag with Postgres (all versions) and Mongo (releases before V R5). If replication is running, it will return some realistic byte lag values, and you can
proceed with the update. If replication is not running, it will
return “unknown”, and this may be indicative of replication failure. You
may need to decide how to proceed: rebuild replication for the HA Pair
or update the Primary and Secondary servers as standalone instances and
rebuild replication after the update.</p>
</section>
<section id="check-permissions-on-extra-config">
<h3>Check permissions on extra_config<a class="headerlink" href="#check-permissions-on-extra-config" title="Permalink to this headline">¶</a></h3>
<p>On Primary, check permissions on the folder <strong>extra_config</strong> at <strong>/opt/alation/site/config/extra_config</strong> (inside the Alation shell).</p>
<p>The permissions should be set to <strong>755</strong>.</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>ls<span class="w"> </span>-al<span class="w">  </span>/opt/alation/site/config/
</pre></div>
</div>
</div></blockquote>
<p>Example output:</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/Update_Check_extra_config.png"><img alt="../../_images/Update_Check_extra_config.png" src="../../_images/Update_Check_extra_config.png" style="width: 350px;" /></a>
</div></blockquote>
<p>If you see other permissions on <strong>extra_config</strong>, change to 755:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>chmod<span class="w"> </span><span class="m">755</span><span class="w"> </span>/opt/alation/site/config/extra_config
</pre></div>
</div>
</div></blockquote>
</section>
</section>
<section id="configure-network-for-reporting-usage-data">
<h2>2. Configure Network for Reporting Usage Data<a class="headerlink" href="#configure-network-for-reporting-usage-data" title="Permalink to this headline">¶</a></h2>
<p><em>Recommended by Alation</em></p>
<p>If you have not done so yet, configure your network to allow
communicating with the Alation Cloud. This is required for reporting Alation
usage data automatically. For details on reporting usage data and why it
is important to Alation, see <a class="reference internal" href="../../admins/AdminSettings/ReportUsage.html"><span class="doc">Reporting Usage</span></a>.</p>
<p>The time before you run the update may be a good moment to do this
change because it enables usage data reporting in the updated Alation instance.</p>
<p>To configure the network for automatic reporting, make sure the
following ports are open on both Primary and Secondary:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 35%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Function</strong></p></th>
<th class="head"><p><strong>Direction</strong></p></th>
<th class="head"><p><strong>Ports</strong></p></th>
<th class="head"><p><strong>Destination</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Usage Stats</p></td>
<td><p>outbound</p></td>
<td><p>TCP 443</p></td>
<td><p>Alation Cloud: 52.4.59.229</p></td>
</tr>
</tbody>
</table>
</section>
<section id="update-the-ha-pair">
<h2>3. Update the HA Pair<a class="headerlink" href="#update-the-ha-pair" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p>Make sure you have a valid backup.</p></li>
<li><p><strong>CONDITIONAL STEP</strong></p>
<blockquote>
<div><div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Perform this step if you are updating:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>to 2021.2 from 2020.4.x or 2020.3.x</strong></p></li>
<li><p><strong>to 2021.1 from 2020.3.x or VR7 (5.12.x)</strong></p></li>
</ul>
</div></blockquote>
</div>
</div></blockquote>
<p>The update to 2021.1 or the update that skips 2021.1 requires key rotation to have been performed at least once on the instance. Key rotation must be performed on <strong>Primary</strong>. If you have not recently done so, rotate the keys. After key rotation is completed, allow some time for replication between Primary and Secondary to catch up.</p>
</li>
<li><p><strong>CONDITIONAL STEP</strong></p>
<blockquote>
<div><div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Perform this step if you are updating Alation:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>to 2021.2 from 2020.3.x</strong></p></li>
<li><p><strong>to 2021.1 from 2020.3 or VR7 (5.12.x)</strong></p></li>
<li><p><strong>to 2020.4.x from 2020.3 or VR7 (5.12.x)</strong></p></li>
</ul>
</div></blockquote>
<p>If you are performing the update to a release older than 2020.4.x, skip this step.</p>
<p>If you are performing the update from 2020.4 to a newer patch release of 2020.4 or a newer version, skip this step.</p>
</div>
</div></blockquote>
<p>If you have not done so yet, run the 2020.4 pre-upgrade reindexing script provided by Alation. It should be run on the Primary server. The instructions can be found in:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="Updateto20212.html#update-20212-20203-20212"><span class="std std-ref">Update 2020.3 To 2021.2</span></a></p></li>
<li><p><a class="reference internal" href="Updateto20211.html#update-20211-vr7-20211"><span class="std std-ref">Update V R7 (5.12.x) or 2020.3 To 2021.1</span></a></p></li>
<li><p><a class="reference internal" href="Updateto20204.html#update-20204-vr7-20204"><span class="std std-ref">V R7 (5.12.x) and 2020.3.x to 2020.4.x</span></a>.</p></li>
</ul>
</div></blockquote>
<p>After running the 2020.4 pre-upgrade script, proceed to <strong>step 4</strong> of this instruction.</p>
</li>
<li><p><strong>On Primary</strong>: If you haven’t done so yet, check the byte lag and then stop UWSGI to let replication drain to Secondary.</p>
<blockquote>
<div><ul>
<li><p>To check the byte lag:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl<span class="w"> </span>-L<span class="w"> </span>--insecure<span class="w"> </span>http://localhost/monitor/replication/
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>To stop UWSGI:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>/etc/init.d/alation<span class="w"> </span>shell
alation_action<span class="w"> </span>stop_uwsgi
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
<li><p><strong>On Primary, still in the Alation shell</strong>: Check for replication to complete by looking for <strong>lag 0</strong>. Because UWSGI is stopped, use a different way to get the lag information:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>alation_psql
SELECT<span class="w"> </span>client_hostname,<span class="w"> </span>client_addr,
pg_wal_lsn_diff<span class="o">(</span>pg_stat_replication.sent_lsn,pg_stat_replication.replay_lsn<span class="o">)</span>
AS<span class="w"> </span>byte_lag<span class="w"> </span>FROM<span class="w"> </span>pg_stat_replication<span class="p">;</span>
</pre></div>
</div>
</div></blockquote>
<p>Look for <code class="docutils literal notranslate"><span class="pre">byte_lag</span> <span class="pre">=</span> <span class="pre">0</span></code>.</p>
</li>
<li><p><strong>On Secondary, outside of the Alation shell</strong>: Stop Alation services.</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>/etc/init.d/alation<span class="w"> </span>stop
</pre></div>
</div>
</div></blockquote>
</li>
<li><p><strong>CONDITIONAL STEP</strong></p>
<blockquote>
<div><div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Perform this step only if you are updating to:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>2021.2 from version 2020.3.x</strong></p></li>
<li><p><strong>2021.1 from versions 2020.3.x or V R7 (5.12.x)</strong>.</p></li>
<li><p><strong>2020.4.x from versions 2020.3.x or V R7 (5.12.x)</strong></p></li>
</ul>
</div></blockquote>
<p>If you are performing the update to a version older than 2020.4, skip this step and proceed to step 7.</p>
<p>If you already are on 2020.4 and are updating to a later patch version of 2020.4 or a newer release, skip this step and proceed to step 7.</p>
</div>
</div></blockquote>
<p>Create the following file <strong>on the Secondary node from the Alation shell</strong>:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># To enter the Alation shell</span>
sudo<span class="w"> </span>/etc/init.d/alation<span class="w"> </span>shell
<span class="c1"># Create the success file</span>
touch<span class="w"> </span>/opt/alation/site/site_data/reindex_rosemeta_success
</pre></div>
</div>
</div></blockquote>
</li>
<li><p><strong>On Primary, outside of the Alation shell</strong>: install the package. The update package can be downloaded from Alation <a class="reference external" href="https://customerportal.alationdata.com">Customer Portal</a>. It should be placed on the host to a location outside of the Alation shell.</p>
<blockquote>
<div><blockquote>
<div><div class="admonition important">
<p class="admonition-title">Important</p>
<p>The <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">/etc/init.d/alation</span> <span class="pre">update</span></code> command can take a few hours, therefore, Alation recommends that you run it with <code class="docutils literal notranslate"><span class="pre">nohup</span></code> or in a Screen session.</p>
</div>
</div></blockquote>
<ul>
<li><p>Installing the RPM package (RHEL or CENTOS)</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>rpm<span class="w"> </span>-Uvh<span class="w"> </span>&lt;path_to_the_RPM_package&gt;/&lt;package_name&gt;
sudo<span class="w"> </span>/etc/init.d/alation<span class="w"> </span>update
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you receive an error <code class="docutils literal notranslate"><span class="pre">headerRead</span> <span class="pre">failed:</span> <span class="pre">hdr</span> <span class="pre">data:</span> <span class="pre">BAD,</span> <span class="pre">no.</span> <span class="pre">of</span> <span class="pre">bytes(...)</span> <span class="pre">out</span> <span class="pre">of</span> <span class="pre">range</span></code> at this step, troubleshoot using recommendations in <a class="reference internal" href="../../admins/Troubleshooting/RPMInstallationErrorDuringUpdate.html"><span class="doc">RPM Installation Error During Update</span></a>.</p>
</div>
</div></blockquote>
</li>
<li><p>Installing the DEB package (Ubuntu)</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>dpkg<span class="w"> </span>-i<span class="w"> </span>&lt;path_to_the_DEB_package&gt;/&lt;package_name&gt;
sudo<span class="w"> </span>/etc/init.d/alation<span class="w"> </span>update
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
<li><p>You can monitor the progress using <code class="docutils literal notranslate"><span class="pre">/opt/alation/&lt;alation-####&gt;/var/log/installer.log</span></code> (path outside of the Alation shell):</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">####</span></code> represents the Alation version number in <code class="docutils literal notranslate"><span class="pre">x.y.z.nnnn</span></code> format (<code class="docutils literal notranslate"><span class="pre">x</span></code> = major, <code class="docutils literal notranslate"><span class="pre">y</span></code> = minor, <code class="docutils literal notranslate"><span class="pre">z</span></code> = patch, and <code class="docutils literal notranslate"><span class="pre">nnnn</span></code> = build).</p>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>tail<span class="w"> </span>-f<span class="w"> </span>/opt/alation/&lt;alation-####&gt;/var/log/installer.log
</pre></div>
</div>
<p><strong>Example</strong>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>tail<span class="w"> </span>-f<span class="w"> </span>/opt/alation/alation-4.14.7.20232/var/log/installer.log
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>After the update is complete and the services are started on Primary, log in to Alation as a user and test the system.</p></li>
<li><p>Perform the update (Step 8) on Secondary after confirmation from users who tested the system on Primary.</p></li>
<li><p><strong>CONDITIONAL STEP</strong></p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Perform this step if you are updating to release 2021.3 from a previous release. If not, skip to the next step.</p>
</div>
<p>Postgresql upgrade does not run on Secondary; instead, run the replicate Postgres script to sync with the Primary. On Secondary, run:</p>
<div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>alation_action<span class="w"> </span>cluster_replicate_postgres
</pre></div>
</div>
<p>To check that Postgres on Secondary is operational after the replication, on Secondary, run:</p>
<div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>alation_psql
</pre></div>
</div>
<p>This command should return the updated Postgres version <strong>13.1</strong></p>
<p>If this command returns the following error:</p>
<p>“could not connect to server: No such file or directory. Is the server running locally and accepting connections on Unix domain socket “/tmp/.s.PGSQL.5432 Failed to execute command with exception details: Command failed: PGPASSWORD=(hidden) psql rosemeta -h /tmp -p 5432 -U alation”</p>
<p>troubleshoot by running the replicate files to replicate the conf and then re-run the replicate Postgres action:</p>
<div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>alation_action<span class="w"> </span>cluster_replicate_files
alation_action<span class="w"> </span>cluster_replicate_postgres
</pre></div>
</div>
</li>
<li><p>Check Postgres and Mongo* lags on Primary again to ensure the HA Pair is syncing.</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>curl<span class="w"> </span>-L<span class="w"> </span>--insecure<span class="w"> </span>http://localhost/monitor/replication/
</pre></div>
</div>
</div></blockquote>
</li>
</ol>
<p>* Mongo is only available in releases before V R5. In V R5+, it is Postgres only.</p>
<p>Because Secondary may have been stopped for a long time, depending on how much the upgrade takes, the replication may not start. If this occurs, rebuild the database on Secondary.</p>
<ol class="arabic" start="14">
<li><p><strong>CONDITIONAL STEP</strong></p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Do this step if you are updating to release 2021.2 or 2021.3 from a previous release and your Primary server was on the Backup V1 tool before the update.</p>
<p>See <a class="reference internal" href="#update-backup-settings-on-primary-after-update">Update Backup Settings on Primary After Update</a> below.</p>
</div>
</li>
</ol>
</section>
<section id="update-backup-settings-on-primary-after-update">
<h2>Update Backup Settings on Primary After Update<a class="headerlink" href="#update-backup-settings-on-primary-after-update" title="Permalink to this headline">¶</a></h2>
<p><strong>This section applies if your Primary server was on Backup V1 before the update to 2021.2 or 2021.3</strong>.</p>
<p>After the update, decide which backup tool you will use. Backup V2 is the default backup tool starting with release 2021.2. Backup V1 can also be used in versions 2021.2 and 2021.3.</p>
<p>If your decision is to use the Backup V2 tool, you need to explicitly enable Backup V2 <strong>on Primary</strong>. This step needs to be performed manually as the HA Pair configuration does not allow to fully enable Backup V2 programmatically during the update to 2021.2.</p>
<p>If your decision is to continue using Backup V1, you need to manually disable Backup V2 <strong>on Primary</strong>.</p>
<p>To enable Backup V2,</p>
<p><strong>On Primary</strong>, run the <code class="docutils literal notranslate"><span class="pre">alation_action</span></code> given below from the Alation shell. Note that this action will restart the Postgres service on your Alation instance:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>/etc/init.d/alation<span class="w"> </span>shell
alation_action<span class="w"> </span>enable_backupv2
</pre></div>
</div>
</div></blockquote>
<p>To disable Backup V2 and revert to Backup V1,</p>
<p><strong>On Primary</strong>, run the <code class="docutils literal notranslate"><span class="pre">alation_action</span></code> given below from the Alation shell. Note that this action will restart the Postgres service on your Alation instance:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>/etc/init.d/alation<span class="w"> </span>shell
alation_action<span class="w"> </span>disable_backupv2
</pre></div>
</div>
</div></blockquote>
<p>Next, validate your backup configuration.</p>
<section id="validating-your-backup-configuration">
<h3>Validating Your Backup Configuration<a class="headerlink" href="#validating-your-backup-configuration" title="Permalink to this headline">¶</a></h3>
<p>To confirm that your Backup configuration is correct, check the set of <strong>alation_conf</strong> values given below.</p>
<blockquote>
<div><div class="admonition important">
<p class="admonition-title">Important</p>
<p>Do not attempt to modify the alation_conf values for Backup V2 manually. They are handled by the dedicated <code class="docutils literal notranslate"><span class="pre">alation_action</span></code> commands that enable or disable Backup V2.</p>
</div>
</div></blockquote>
<section id="backup-v2-fully-enabled">
<h4>Backup V2 fully enabled<a class="headerlink" href="#backup-v2-fully-enabled" title="Permalink to this headline">¶</a></h4>
<p>If you find that the parameters listed below have these values, it means that Backup V2 has been successfully enabled and the instance will be automatically backed up on schedule using the Backup V2 tool:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter name</p></th>
<th class="head"><p>Value should be:</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>alation.backup_v2.enabled</p></td>
<td><p>True</p></td>
</tr>
<tr class="row-odd"><td><p>pgsql.config.archive_mode</p></td>
<td><p>True</p></td>
</tr>
<tr class="row-even"><td><p>pgsql.config.archive_command</p></td>
<td><ul>
<li><p><strong>2021.3.x and newer</strong></p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">pg_probackup-13</span> <span class="pre">archive-push</span> <span class="pre">-B/data2/backup/pgbackup</span></code>
<code class="docutils literal notranslate"><span class="pre">–-instance</span> <span class="pre">alation</span> <span class="pre">–-wal-file-path=%p</span></code>
<code class="docutils literal notranslate"><span class="pre">--wal-file-name=%f</span></code></p>
</div></blockquote>
</li>
<li><p><strong>2021.2.x</strong></p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">pg_probackup-9.6</span> <span class="pre">archive-push</span> <span class="pre">-B/data2/backup/pgbackup</span></code>
<code class="docutils literal notranslate"><span class="pre">--instance</span> <span class="pre">alation</span> <span class="pre">--wal-file-path=%p</span></code>
<code class="docutils literal notranslate"><span class="pre">--wal-file-name=%f</span></code></p>
</div></blockquote>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="backup-v2-disabled">
<h4>Backup V2 disabled<a class="headerlink" href="#backup-v2-disabled" title="Permalink to this headline">¶</a></h4>
<p>If you find that the parameters listed below have these values, it means that Backup V2 has been disabled and the instance may be automatically backed up with the Backup V1 tool.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 36%" />
<col style="width: 64%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter name</p></th>
<th class="head"><p>Value should be:</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>alation.backup_v2.enabled</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-odd"><td><p>pgsql.config.archive_mode</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-even"><td><p>pgsql.config.archive_command</p></td>
<td><ul>
<li><p><strong>2021.3.x and newer</strong></p>
<blockquote>
<div><p>gzip &lt; %p &gt; /data2/pgsql/13/archive/%f.gzip</p>
</div></blockquote>
</li>
<li><p>** 2021.2.x**</p>
<blockquote>
<div><p>gzip &lt; %p &gt; /data2/pgsql/9.6/archive/%f.gzip</p>
</div></blockquote>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="backup-v1-enabled">
<h4>Backup V1 enabled<a class="headerlink" href="#backup-v1-enabled" title="Permalink to this headline">¶</a></h4>
<p>If you find that the parameter below is in <code class="docutils literal notranslate"><span class="pre">True</span></code>, Backup V1 is enabled. If at the same time Backup V2 is enabled too, this means the instance is backed up using Backup V2 (Backup V1 is ignored). If at the same time Backup V2 is disabled, this means your instance will be backed up using the Backup V1 tool.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 36%" />
<col style="width: 64%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter name</p></th>
<th class="head"><p>Value should be:</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>alation.backup.enabled</p></td>
<td><p>True</p></td>
</tr>
</tbody>
</table>
</section>
<section id="backup-v1-disabled">
<h4>Backup V1 disabled<a class="headerlink" href="#backup-v1-disabled" title="Permalink to this headline">¶</a></h4>
<p>If you find that the parameter below is in <code class="docutils literal notranslate"><span class="pre">False</span></code>, this state means that Backup V1 is disabled. If at the same time Backup V2 is enabled, this means the instance is backed up using Backup V2. If at the same time Backup V2 is disabled, this means the backup process is completely disabled on your instance: the instance is not backed up automatically on schedule. If you perform a manual backup, it will run using the Backup V1 tool.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 36%" />
<col style="width: 64%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter name</p></th>
<th class="head"><p>Value should be:</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>alation.backup.enabled</p></td>
<td><p>False</p></td>
</tr>
</tbody>
</table>
</section>
</section>
</section>
</section>


           </div>
          </div>
          <footer>

  
<div class="navigation-bar">

    <div class="navigation navigation--prev">
        
        <a class="navigation__link" href="ManualSWUpdate.html">
            <button class="navigation__button">
                <i class="icon icon-left"></i>
            </button>
            <div class="navigation__title">
                <span class="heading">Previous</span> <br />Manual Software Update for Standalone Systems
            </div>
        </a>
        
    </div>

    <div class="navigation navigation--next">
        
        <a class="navigation__link" title="Accesskey Alt(+Shift)+p" accesskey="p" href="UpdateHAPairwithClusterSplitting.html">
            <div class="navigation__title">
                <span class="heading">Next</span> <br />Update HA Pair with Cluster Splitting
            </div>
            <button class="navigation__button" title="Accesskey Alt(+Shift)+n" accesskey="n">
                <i class="icon icon-right"></i>
            </button>
        </a>
        
    </div>

</div>


</footer>

        </div>
      </div>

    </section>

    <div class="wy-nav-side wy-nav-secondary">
      <div class="wy-side-scroll">
        <div class="wy-side-scroll__content">
          <div class="wy-menu-secondary">
              <div class="comments">
    <a href="mailto:no-reply-docs-feedback@alation.com?subject=Documentation Feedback on installconfig/Update/updateHAPair&body=Alation%20welcomes%20your%20comments%20on%20typos,%20content%20accuracy%20and%20completeness,%20and%20whether%20you%20found%20this%20page%20helpful.%20You%20will%20not%20receive%20a%20reply%20to%20this%20email.">
        <i class="icon icon-envelope" aria-hidden="true"></i>Request docs changes
    </a>
    <a href="#open-modal-pdf">
        <i class="icon icon-pdf" aria-hidden="true"></i>Download PDF
    </a>
</div>
              
                <p class="wy-menu-secondary-header">On this page</p>
                <ul>
<li><a class="reference internal" href="#">Update HA Pair Configuration (4.7 and above)</a><ul>
<li><a class="reference internal" href="#prerequisites">1. Prerequisites</a><ul>
<li><a class="reference internal" href="#check-system-upgradeability">Check system upgradeability</a></li>
<li><a class="reference internal" href="#check-for-backup-in-progress">Check for backup in progress</a></li>
<li><a class="reference internal" href="#check-the-replication-status-of-your-ha-pair">Check the replication status of your HA Pair</a></li>
<li><a class="reference internal" href="#check-permissions-on-extra-config">Check permissions on extra_config</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configure-network-for-reporting-usage-data">2. Configure Network for Reporting Usage Data</a></li>
<li><a class="reference internal" href="#update-the-ha-pair">3. Update the HA Pair</a></li>
<li><a class="reference internal" href="#update-backup-settings-on-primary-after-update">Update Backup Settings on Primary After Update</a><ul>
<li><a class="reference internal" href="#validating-your-backup-configuration">Validating Your Backup Configuration</a><ul>
<li><a class="reference internal" href="#backup-v2-fully-enabled">Backup V2 fully enabled</a></li>
<li><a class="reference internal" href="#backup-v2-disabled">Backup V2 disabled</a></li>
<li><a class="reference internal" href="#backup-v1-enabled">Backup V1 enabled</a></li>
<li><a class="reference internal" href="#backup-v1-disabled">Backup V1 disabled</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

              
            </div>
          </div>
      </div>
    </div>

  </div>

  
  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->

  
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/clipboard.min.js"></script>
      <script type="text/javascript" src="../../_static/copybutton.js"></script>
      <script type="text/javascript" src="../../_static/js/rtd_sphinx_search.min.js"></script>
  
  <script type="text/javascript" src="../../_static/searchtools.js"></script> <script type="text/javascript" id="idPiwikScriptPlaceholder"></script><script type="text/javascript" src="../../_static/js/main.bundle.js"></script>
  <script type="text/javascript" src="../../_static/js/runtime.bundle.js"></script>

  
  

  
    <div id="open-modal-pdf" class="modal-window">
<div>
  <a href="#" title="Close" class="modal-close">Close</a>
  <h4>Alation Documentation PDF</h4>
  <p>This PDF contains all our documentation and is more than <b>120 MB</b> in size. We recommend using an ethernet or Wi-Fi connection for downloading.</p>
  <br>
  <div class="modal-buttons">
    <a href="https://pdf-docs.alation.com/AlationUserDocs.pdf" class="btn-cta btn-cta--primary" target="_blank">
      Download PDF
    </a>
    <a href="#" title="Close" class="btn-cta">Cancel</a>
  </div>
</div>
  

</body>
</html>
<!--3.6.17-->