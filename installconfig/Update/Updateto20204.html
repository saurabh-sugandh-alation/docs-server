
<!DOCTYPE html>
<html lang="" >
<head>
  <meta charset="utf-8"/>
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="book-version"      content=""/>
  <meta name="book-release"      content=""/>
  <meta name="docsearch:name"    content="Alation User Guide" />
  <meta name="docsearch:version" content="" />
  <meta name="docsearch:package_type" content="" />
	<meta name="robots" content="noindex" />

  
  <title>Update Alation to 2020.4 &mdash; Alation User Guide</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  

  

  
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/main.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/sphinx_collapse.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/rtd_sphinx_search.min.css" type="text/css" />
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="Alation User Guide" href="#"/>
        <link rel="up" title="Update Alation" href="index.html"/>
        <link rel="next" title="Pre-Update Reindexing Script for 2020.4" href="20204UpgradeScript.html"/>
        <link rel="prev" title="Update Alation to 2021.1" href="Updateto20211.html"/>

	

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-67846571-1"></script>
	<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());

	gtag('config', 'UA-67846571-1');
	</script>

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<!-- Second Google Analytics tag to assist mapping with mattermost.com visits --> 
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-120238482-1"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'UA-120238482-1');
	</script>


</head>

<body class="wy-body-for-nav" role="document">

  <header>
    <div class="header__container wy-max-content-width">
        <a href="/" class="header__logo">
            <img width="176" src="../../_static/img/logo-alation.svg" alt="Alation" />
        </a>
        <ul class="header__links">
            <li><a href="https://help.alation.com/s/">Alation Help Center</a></li>
        </ul>
    </div>
</header>

  <div class="wy-grid-for-nav wy-max-content-width">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-scroll__content">
          <div class="wy-side-nav-search">
            

            <ul class="sidebartop">
              <li class="nolink search"><div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search this project" aria-label="Search this project" id="searchinput" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
</li>

            </ul>

            
          </div>

          <div class="wy-menu wy-sidebar wy-sidebar--hidden" data-spy="affix" role="navigation" aria-label="main navigation">
            
              
              
              
                  <p class="caption" role="heading"><span class="caption-text">Welcome to Alation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/About/index.html">About Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/CloudAndOnPrem/index.html">Alation Cloud and On-Premise</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/UserProfileandPreferences/index.html">User Profile and Preferences</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/CatalogBasics/index.html">Catalog Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/CatalogPages/index.html">Catalog Pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Conversations/index.html">Conversations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Domains/index.html">Domains</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/BestPractices/index.html">Best Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Glossary/index.html">Alation Glossary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation Cloud Service</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/StatusPage/index.html">Status Page</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/CloudOverview/index.html">Cloud Service Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/CloudConfiguration/index.html">Configuration for Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/AlationAgent/index.html">Alation Agent</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation Integration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../integration/AlationAnywhere/index.html">Alation Anywhere</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../integration/AlationConnectedSheets/index.html">Alation Connected Sheets</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installation &amp; Configuration</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../ServerInstallation/index.html">Install Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../HighAvailability/index.html">High Availability</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Update Alation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Updateto20233.html">Update Alation to 2023.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="Updateto20231.html">Update Alation to 2023.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="Updateto20224.html">Update Alation to 2022.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="ReencryptData.html">Re-Encrypt Existing Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="Updateto20223.html">Update Alation to 2022.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="DeduplicateMixedCaseUsernames.html">De-duplicate Mixed Case Usernames</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpdateSourceForDataflows.html">Update Source Field for Dataflow Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="Updateto20222.html">Update Alation to 2022.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="Updateto20221.html">Update Alation to 2022.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="ResettingCheckpointForUserData.html">Resetting ETL Checkpoint for User Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="Updateto20214.html">Update Alation to 2021.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpdateFrom20214To20214Patch.html">Update Alation from 2021.4.x to 2021.4.4 or Later Patches</a></li>
<li class="toctree-l2"><a class="reference internal" href="ValidatingValueOfelasticsearch_env.html">Validating the Value of Parameter elasticsearch.env.es_java_opts</a></li>
<li class="toctree-l2"><a class="reference internal" href="Updateto20213.html">Update Alation to 2021.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="Updateto20212.html">Update Alation to 2021.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="Updateto20211.html">Update Alation to 2021.1</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Update Alation to 2020.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="20204UpgradeScript.html">Pre-Update Reindexing Script for 2020.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="Updateto20203.html">Update Alation to 2020.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpdatetoVR7.html">Updating Alation to V R7 (5.12.x)</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpgradeElasticsearchVR7.html">Elasticsearch Upgrade to 7.4 FAQ and Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpdatetoVR6.html">Update Alation to V R6 (5.10.x)</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpgradeInternalPostgreSQLInstances.html">Upgrade Internal PostgreSQL Instances from 9.3 to 9.6</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpdatetoVR5.html">Update Alation to V R5 (5.9.x)</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpdateSafetyBestPractice.html">Update Safety Best Practices</a></li>
<li class="toctree-l2"><a class="reference internal" href="ReleaseUpdatePrechecks.html">Release-specific Update Pre-checks</a></li>
<li class="toctree-l2"><a class="reference internal" href="ManualSWUpdate.html">Manual Software Update for Standalone Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="updateHAPair.html">Update HA Pair Configuration (4.7 and above)</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpdateHAPairwithClusterSplitting.html">Update HA Pair with Cluster Splitting</a></li>
<li class="toctree-l2"><a class="reference internal" href="OCFUpdateAlationConnectorManager.html">Update Alation Connector Manager</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../BackupandRestore/index.html">Back Up and Restore</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LineageV2/index.html">Lineage V2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LineageV3/index.html">Lineage V3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../AlationAnalyticsV2/index.html">Alation Analytics V2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../AlationContainerService/index.html">Alation Container Service</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../sources/CatalogSources/index.html">Catalog Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/VirtualDataSources/index.html">Virtual Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/Lineage/index.html">Lineage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/APIResources/index.html">API Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/WorkwithCatalogData/index.html">Working with Catalog Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/OpenConnectorFramework/index.html">Open Connector Framework</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Data Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/DSConfiguration/index.html">Data Source Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/AddDataSources/index.html">Adding Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/ComposeSSOAWSDataSources/index.html">Compose SSO for Amazon Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/ComposeSSOAzureDataSources/index.html">Compose SSO for Azure Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/AuthenticationForExtraction/index.html">Authentication for Extraction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/CustomDB/index.html">Custom DB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/GBQ/index.html">Google BigQuery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/Hive/index.html">Hive</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">BI Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/AddBISources/index.html">Add BI Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/AddTableauServer/index.html">Add Tableau Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/WorkwithBISources/index.html">Working with BI Sources</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">File System Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../filesystems/FileSystems/index.html">Add File Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../filesystems/VirtualFileSystems/index.html">Virtual File Systems</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Analysts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/UserAuthenticationForDataSources/index.html">User Authentication for Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/ShareAndAccessQueries/index.html">Share and Access Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/WriteQueries/index.html">Write Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/DevelopQueries/index.html">Develop Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/WorkwithQueryResults/index.html">Work with Query Results</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Data Stewards</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../steward/GovernanceApp/index.html">Governance App</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/PolicyCenter/index.html">Policy Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/Workflow/index.html">Workflow Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/GovernanceDashboard/index.html">Governance Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/StewardshipWorkbench/index.html">Stewardship Workbench</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/AnalyticsStewardship/index.html">Analytics Stewardship</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/Glossary/index.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/ArticlesAndTags/index.html">Articles and Tags</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/ArticleGroups/index.html">Article Groups</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/DataCatalogCustomization/index.html">Customize Your Data Catalog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/DataDocumentation/index.html">Data Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/AutoTitlingandLexicon/index.html">Auto-titling and Lexicon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/SnowflakeTags/index.html">Snowflake Tags</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Server Administrators</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../admins/CustomizableHomePage/index.html">Customizable Homepage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AdminSettings/index.html">Administrator Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AdditionalConfiguration/index.html">Additional Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/RunbookForAdministrators/index.html">Runbook for Administrators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AlationAPIs/index.html">Alation APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/How-tos/index.html">How-tos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/Troubleshooting/index.html">Troubleshooting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Release Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../releases/releasenotes/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/supportmatrices/index.html">Support Matrices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/endofsupport/index.html">End Of Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/snowflakeclladdon/index.html">Snowflake Parser Add-On</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/fieldnotices/index.html">Important Notices and Security Alerts</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Archived Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../archive/About/index.html">About the Documentation Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/AdminConfig/index.html">Administration and Update Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/ReleaseNotes/index.html">Release Notes Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/Usage/index.html">Usage and Customization Archive</a></li>
</ul>

              
            
          </div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="wy-nav-top-icon"></i>
        <a href="../../index.html">Alation User Guide</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">

          <div role="navigation" aria-label="breadcrumbs" class="breadcrumbs">
    <a href="../../index.html">Docs</a>
    <span class="separator">&gt;</span>
    <a href="index.html">Update Alation</a>
    <span class="separator">&gt;</span>
    <span>Update Alation to 2020.4</span>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody" class="toBeIndexed">
            
  <section id="update-alation-to-2020-4">
<h1>Update Alation to 2020.4<a class="headerlink" href="#update-alation-to-2020-4" title="Permalink to this headline">¶</a></h1>
<p class="on-prem-label hover-text">Customer Managed <span class="tooltip-text">Applies to customer-managed instances of Alation</span></p>
<p>It is recommended to update to the <em>latest available</em> patch version of a release.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you are updating from 2020.4.x to a newer patch version of 2020.4, jump to <a class="reference internal" href="#update-alation-from-2020-4-x-to-a-newer-patch-version-of-2020-4-x">Update Alation from 2020.4.x to a Newer Patch Version of 2020.4.x</a>.</p>
</div>
<section id="update-dependencies">
<h2>Update Dependencies<a class="headerlink" href="#update-dependencies" title="Permalink to this headline">¶</a></h2>
<p>Update path to 2020.4.x depends on your current release number and the current OS of your Alation host server:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#host-os-version-dependency">Host OS Version Dependency</a></p></li>
<li><p><a class="reference internal" href="#alation-version-dependency">Alation Version Dependency</a></p></li>
</ul>
</div></blockquote>
<section id="host-os-version-dependency">
<h3>Host OS Version Dependency<a class="headerlink" href="#host-os-version-dependency" title="Permalink to this headline">¶</a></h3>
<p>Instances where the Alation host server runs on the following older OS versions will not be able to upgrade to 2020.4.x:</p>
<blockquote>
<div><ul class="simple">
<li><p>CentOS 6.x (reached EOL)</p></li>
<li><p>RHEL 6.x (reached EOL)</p></li>
<li><p>Ubuntu 12 and 14 (reached EOL for standard or all support).</p></li>
</ul>
</div></blockquote>
<p>If this is the current OS of your Alation server host, please consider the following recommendations:</p>
<blockquote>
<div><ul>
<li><p>The update path in this case will be to upgrade the operational system of the host to a supported version and then update Alation to 2020.4.</p></li>
<li><p>The supported versions of these operating systems are:</p>
<blockquote>
<div><ul class="simple">
<li><p>CentOS 7.x and 8.x</p></li>
<li><p>RHEL 7.x and 8.x</p></li>
<li><p>Ubuntu 16, 18.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Reason for Changes in OS Support</strong></p>
<p>Multiple components of the Alation application have been upgraded to newer versions to allow for better security, performance, and reliability. Some of these newer components are incompatible with older OS versions that have reached the end of most forms of vendor support and maintenance.</p>
</div>
</section>
<section id="alation-version-dependency">
<h3>Alation Version Dependency<a class="headerlink" href="#alation-version-dependency" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Alation instances on versions <strong>V R7 (5.12.x)</strong> and <strong>2020.3.x</strong> can be directly updated to version 2020.4 if the host OS version requirements are met;</p></li>
<li><p>Direct update to 2020.4 from versions <strong>V R6 (5.10.x) and older</strong> is not supported as version 2020.4 requires the migration between Elasticsearch versions 1 and 7 to be complete. Alation instances on V R6 and below have to be updated in 2 steps:</p>
<blockquote>
<div><ul class="simple">
<li><p>STEP 1: update to 2020.3 and allow for the Elasticsearch migration to complete</p></li>
<li><p>STEP 2: update from 2020.3 to 2020.4 if the host OS requirements are met.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</section>
</section>
<section id="update-schedule">
<h2>Update Schedule<a class="headerlink" href="#update-schedule" title="Permalink to this headline">¶</a></h2>
<section id="downtime-schedule">
<h3>Downtime Schedule<a class="headerlink" href="#downtime-schedule" title="Permalink to this headline">¶</a></h3>
<p>There is an additional step in the upgrade process for 2020.4 that has an impact on the time to upgrade. It is required to start with a pre-upgrade reindexing script provided by Alation before running the update executable. The script ensures the forward and backward compatibility of Alation components before and after the update. Re-indexing will happen one more time automatically during the 2020.4 update process.</p>
<p>The steps to run the script are included into the update steps described below.</p>
<blockquote>
<div><div class="admonition important">
<p class="admonition-title">Important</p>
<p>The script should only be run <strong>after</strong> all other 2020.4 update prerequisites have been fulfilled, such as PostgreSQL upgrade to 9.6 and Elasticsearch migration to 7.4. Please follow the sequence of steps given in the 2020.4 update instructions.</p>
</div>
</div></blockquote>
<p>The run time of the manual reindexing script varies depending on the size of the internal application database on your instance. The time required for the pre-upgrade script to run is approximately equal to the time that will be taken by the second reindexing that will happen automatically during upgrade.</p>
<p>Please allocate additional time in your Alation upgrade schedule to accommodate for this requirement.</p>
<p>The script execution will stop all Alation services except Postgres. Please plan for the Alation downtime during this time.</p>
</section>
<section id="update-on-ha-pair">
<h3>Update on HA Pair<a class="headerlink" href="#update-on-ha-pair" title="Permalink to this headline">¶</a></h3>
<p><strong>Please be advised that the update instructions for HA Pair configuration have changed for 2020.4</strong>. When you update the HA Pair instances to 2020.4 GA, you will need to perform an additional step before and during the upgrade that are specific to the HA Pair configuration. These steps are included into the update instructions for upgrade on HA Pair.</p>
</section>
</section>
<section id="release-specific-information">
<span id="id1"></span><h2>2020.4 Release-Specific Information<a class="headerlink" href="#release-specific-information" title="Permalink to this headline">¶</a></h2>
<section id="chroot-upgrade-to-centos-8">
<h3>Chroot Upgrade to CentOS 8<a class="headerlink" href="#chroot-upgrade-to-centos-8" title="Permalink to this headline">¶</a></h3>
<p>In 2020.4, the Alation Chroot was upgraded to CentOS 8.2.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Chroot upgrade to CentOS 8 includes the upgrade of the Glibc library that changes the ordering of PostgreSQL queries for text data. Because of the difference in the ordering from the previous CentOS version, the indices created in previous versions are no longer valid for the 2020.4 release. This dictates the requirement to rebuild PostgreSQL indices involving any text data type to ensure compatibility of the changes between releases. The reindexing is included into the update steps described below.</p>
</div>
</section>
<section id="changes-to-supported-os-for-the-alation-host-server">
<h3>Changes to Supported OS for the Alation Host Server<a class="headerlink" href="#changes-to-supported-os-for-the-alation-host-server" title="Permalink to this headline">¶</a></h3>
<p>From 2020.4, the OS requirements for the Alation host server have changed.</p>
<blockquote>
<div><ul>
<li><p><strong>No longer supported for new installations and upgrade</strong>:</p>
<blockquote>
<div><ul class="simple">
<li><p>CentOS 6.x</p></li>
<li><p>RHEL 6.x</p></li>
<li><p>Ubuntu 12 and 14.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Newer versions of these OS supported from 2020.4:</p>
<blockquote>
<div><ul class="simple">
<li><p>CentOS 8.x</p></li>
<li><p>RHEL 8.x</p></li>
<li><p>Ubuntu 18.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>AWS Linux 2 as the host OS is supported: there are no changes in respect to AWS Linux 2 support.</p>
</div>
<p>If your Alation host runs on an older OS version which is not supported for update to 2020.4, please consider the option to upgrade the host to a newer supported OS version.</p>
</section>
<section id="updated-data-source-drivers">
<h3>Updated Data Source Drivers<a class="headerlink" href="#updated-data-source-drivers" title="Permalink to this headline">¶</a></h3>
<p>In 2020.4, a number of <em>native (built-in) connectors</em> were updated with newer driver versions to keep up with the driver bug fixes and improved functionality. During the update to 2020.4, data sources which use built-in drivers will be automatically switched to the newer driver versions:</p>
<ul>
<li><p><strong>Databricks</strong>: added Simba JDBC driver for Databricks 2.6.16:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>AWS Databricks</strong>: the new driver is auto-switched during update.  The URI is auto-updated to conform to the required format;</p></li>
<li><p><strong>Azure Databricks using Custom DB</strong>: no changes to the selected driver during update.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>SQLServer</strong>: added Microsoft JDBC driver for SQLServer version 8.2.2:</p>
<blockquote>
<div><ul class="simple">
<li><p>SQLServer sources using older built-in driver versions 6.2 or 7.4.1 are auto-switched to the newer driver version 8.2.2;</p></li>
<li><p>SQL sources using the NTLM authentication and the built-in jTDS driver are NOT switched over to the new driver during the update. It is recommended to manually change the jTDS driver to 8.2.2 and the URI after updating to 2020.4.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>MySQL</strong>: added JDBC driver for MySQL version 8.0.21:</p>
<blockquote>
<div><ul class="simple">
<li><p>no changes to URI. Driver is auto-switched during the update.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>Google BigQuery</strong>: changed JDBC driver for Google BigQuery to driver version 1.2.11.1014:</p>
<blockquote>
<div><ul class="simple">
<li><p>no changes to URI. Driver is auto-switched during the update.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>Snowflake</strong>: changed JDBC driver for Snowflake to driver version 3.12.9:</p>
<blockquote>
<div><ul class="simple">
<li><p>no changes to URI. Driver is auto-switched during the update.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>PostgreSQL</strong>: changed JDBC driver for PostgreSQL to driver version 42.2.14:</p>
<blockquote>
<div><ul class="simple">
<li><p>no changes to URI. Driver is auto-switched during the update.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</section>
<section id="alation-analytics-v2-update">
<h3>Alation Analytics V2 Update<a class="headerlink" href="#alation-analytics-v2-update" title="Permalink to this headline">¶</a></h3>
<p>This only applies to instances where Alation Analytics V2 is enabled and installed. Release 2020.4 includes an updated version of Alation Analytics V2. Update of the Alation Analytics V2 component follows a separate update flow and should be updated separately from the Alation Catalog after the Catalog is updated to 2020.4.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is recommended to update Alation Analytics V2 right after updating Alation so that it uses the compatible version and functions correctly. All ETL jobs will be paused until Alation Analytics V2 is upgraded. For steps, please refer to <a class="reference internal" href="../AlationAnalyticsV2/UpdateAlationAnalyticsV2.html"><span class="doc">Update Alation Analytics V2</span></a>.</p>
</div>
</section>
</section>
<section id="id2">
<h2>Update Alation to 2020.4<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<section id="update-prerequisites">
<h3>2020.4 Update Prerequisites<a class="headerlink" href="#update-prerequisites" title="Permalink to this headline">¶</a></h3>
<section id="postgresql-upgrade-to-9-6-required">
<h4>PostgreSQL Upgrade to 9.6. Required<a class="headerlink" href="#postgresql-upgrade-to-9-6-required" title="Permalink to this headline">¶</a></h4>
<p>Before updating Alation to 2020.4, it is required that the internal PostgreSQL database (Rosemeta) should be updated to version 9.6. Update to 2020.4 will fail with the corresponding error message if the internal PostgreSQL is still on version 9.3.</p>
<p>Internal PostgreSQL upgrade steps: <a class="reference internal" href="UpgradeInternalPostgreSQLInstances.html"><span class="doc">Upgrade Internal PostgreSQL Instances from 9.3 to 9.6</span></a>.</p>
</section>
<section id="removal-of-elasticsearch-1-4">
<h4>Removal of Elasticsearch 1.4.<a class="headerlink" href="#removal-of-elasticsearch-1-4" title="Permalink to this headline">¶</a></h4>
<p>In 2020.4, Alation no longer contains the Elasticsearch 1.4 component.</p>
<p>Elasticsearch 1.4 removal does not affect versions <strong>V R7 (5.12.x)</strong> and <strong>2020.3.x</strong> as on these versions the Elasticsearch migration from the older to the newer version is expected to be complete.</p>
<p>However, versions <strong>V R6 (5.10.x)</strong> and older have to first be updated to 2020.3, allow time for the Elasticsearch migration to complete, and then be updated to 2020.4.</p>
<p><strong>Migration from Elasticsearch version 1.4. to 7.4 may take about a week’s time on large instances. Please be prepared to allow for at least a week’s long wait period after updating to 2020.3.</strong></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Elasticsearch upgrade from version 1.4 to version 7.4 was introduced in release V R7 (5.12.x). Both Elasticsearch versions still coexist in Alation versions V R7 and 2020.3. The search index migration between the older and newer Elasticsearch versions happens in the background when Alation was updated to V R7 or 2020.3 from an older release. As a result of the Elasticsearch migration, Alation search was switched over to use Elasticsearch version 7.4, while version 1.4 was still present in an idle state. In 2020.4, Elasticsearch version 1.4 has been removed and is no longer present on the Alation server.</p>
</div>
</section>
</section>
<section id="update-steps">
<h3>2020.4 Update Steps<a class="headerlink" href="#update-steps" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="#v-r7-5-12-x-and-2020-3-x-to-2020-4-x">V R7 (5.12.x) and 2020.3.x to 2020.4.x</a></p></li>
<li><p><a class="reference internal" href="#v-r6-5-10-x-and-older-releases-to-2020-4">V R6 (5.10.x) and Older Releases to 2020.4</a></p></li>
</ul>
<section id="v-r7-5-12-x-and-2020-3-x-to-2020-4-x">
<span id="update-20204-vr7-20204"></span><h4>V R7 (5.12.x) and 2020.3.x to 2020.4.x<a class="headerlink" href="#v-r7-5-12-x-and-2020-3-x-to-2020-4-x" title="Permalink to this headline">¶</a></h4>
<ol class="arabic">
<li><p>Make sure you have a recent and valid Alation backup or a system image. Do not attempt the steps below unless you have taken a backup.</p>
<blockquote>
<div><ul class="simple">
<li><p>Important <a class="reference internal" href="UpdateSafetyBestPractice.html"><span class="doc">Update Safety Best Practice</span></a></p></li>
</ul>
</div></blockquote>
</li>
<li><p>SSH to the Alation host to be updated.</p>
<blockquote>
<div><div class="admonition important">
<p class="admonition-title">Important</p>
<p>In case of HA Pair configuration, SSH to the Primary server first. The 2020.4 pre-upgrade script must be added to and run on the Primary server. Note that the script stops Alation services.</p>
</div>
</div></blockquote>
</li>
<li><p>Add the pre-upgrade reindexing script to the Alation server: copy the script <a class="reference internal" href="20204UpgradeScript.html"><span class="doc">Pre-Update Reindexing Script for 2020.4</span></a> to the Alation host and save it to <strong>/opt/alation/alation/opt/alation/</strong> (path outside the Alation shell) as <strong>preupgrade_reindexing.py</strong>.</p></li>
<li><p>Is it recommended to run the script in a Screen session. Start a Screen session:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>screen<span class="w"> </span>-S<span class="w"> </span>reindex_db
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Enter the Alation shell:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>/etc/init.d/alation<span class="w"> </span>shell
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Check the PostgreSQL version:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>alation_psql
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Upgrade to 9.6 is required if Postgres is still on version 9.3. Update to 2020.4 will fail if Postgres is still using version 9.3. Internal PostgreSQL upgrade steps: <a class="reference internal" href="UpgradeInternalPostgreSQLInstances.html"><span class="doc">Upgrade Internal PostgreSQL Instances from 9.3 to 9.6</span></a>.</p>
</div>
</div></blockquote>
</li>
<li><p>Check the Elasticsearch mode. It should be set to <strong>2</strong>. If you see a different value, you will not be able to upgrade as Elasticsearch migration may not have happened. In this case, contact Alation Support to assist with the update.</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>alation_conf<span class="w"> </span>elasticsearch.backend_mode
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Check permissions on the folder <strong>extra_config</strong> at  <strong>/opt/alation/site/config/extra_config</strong>. The permissions should be set to <strong>755</strong>.</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>ls<span class="w"> </span>-al<span class="w">  </span>/opt/alation/site/config/
</pre></div>
</div>
<p><strong>Example output</strong>:</p>
<a class="reference internal image-reference" href="../../_images/Update_Check_extra_config.png"><img alt="../../_images/Update_Check_extra_config.png" src="../../_images/Update_Check_extra_config.png" style="width: 350px;" /></a>
<p>If you see other permissions on <strong>extra_config</strong>, change to <strong>755</strong>:</p>
<div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>chmod<span class="w"> </span><span class="m">755</span><span class="w"> </span>/opt/alation/site/config/extra_config
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Still in the Alation shell, change user to <code class="docutils literal notranslate"><span class="pre">alation</span></code>:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>su<span class="w"> </span>alation
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Update the permissions on the <strong>preupgrade_reindexing.py</strong> script so that it can be executed by user <code class="docutils literal notranslate"><span class="pre">alation</span></code>.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>The <strong>preupgrade_reindexing.py</strong> script does not exist on the Alation server by default. The script file must have been added manually as described in <strong>Step 3</strong> of this instruction. Make sure you have created the file with the script and have added it to the required path.</p>
</div>
<div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>/opt/alation/
sudo<span class="w"> </span>chown<span class="w"> </span>alation:alation<span class="w"> </span>preupgrade_reindexing.py
chmod<span class="w"> </span><span class="m">755</span><span class="w"> </span>preupgrade_reindexing.py
</pre></div>
</div>
</li>
<li><p>Run the script with the command given below. This script stops all Alation services except Postgres. Do not start any of the services while the script is running as this can result in an inconsistent state of the data.</p>
<div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>preupgrade_reindexing.py
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The time required for reindexing to complete depends on the size of the internal database. The Alation update time will be increased by approximately this amount of time when the second reindexing runs automatically during the update. The second reindexing does not require manual steps.</p>
</div>
</li>
<li><p>The script prints its output to the console and to <strong>/opt/alation/site/site_data/pre_upgrade_reindex_rosemeta_db.log</strong>.</p>
<ul>
<li><p>Example output for a successful completion of the script run time:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>Completed<span class="w"> </span>the<span class="w"> </span>Pre-upgrade<span class="w"> </span>REINDEX<span class="w"> </span>of<span class="w"> </span>Rosemeta<span class="w"> </span>DB<span class="w"> </span>successfully.<span class="w"> </span>start:<span class="w"> </span><span class="s2">&quot;Sat Nov 14 06:45:53 2020&quot;</span>,<span class="w"> </span>end:<span class="w"> </span><span class="s2">&quot;Sat Nov 14 06:46:59 2020&quot;</span>,<span class="w"> </span>duration:<span class="w"> </span><span class="s2">&quot;0:01:06.034741&quot;</span>
Total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>tables<span class="w"> </span>reindexed:<span class="w"> </span><span class="m">736</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Example output for a failed execution:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>Completed<span class="w"> </span>the<span class="w"> </span>attempt<span class="w"> </span>to<span class="w"> </span>REINDEX<span class="w"> </span>Rosemeta<span class="w"> </span>DB.<span class="w"> </span>Failed<span class="w"> </span>to<span class="w"> </span>REINDEX<span class="w"> </span>the<span class="w"> </span>following<span class="w"> </span>tables:<span class="w"> </span>&lt;…&gt;.
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>In case the script execution fails, <strong>do not proceed</strong> with the update. Contact Alation Support to troubleshoot and assist with the next steps.</p>
</div>
</li>
<li><p>When the script execution completes successfully, Alation recommends to take a new backup with the reindexed data.</p></li>
<li><p>Proceed to update the Alation application using the appropriate update instructions:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="ManualSWUpdate.html"><span class="doc">Manual Software Update - Standalone Systems</span></a></p></li>
<li><p>Alation recommends to update the HA Pair to 2020.4 with splitting the HA cluster: <a class="reference internal" href="UpdateHAPairwithClusterSplitting.html"><span class="doc">Update HA Pair with Cluster Splitting</span></a></p></li>
</ul>
</div></blockquote>
</li>
<li><p>Perform the post-upgrade steps if they are relevant to your Alation instance. See <a class="reference internal" href="#post-upgrade-steps-2020-4">Post-Upgrade Steps 2020.4</a>.</p></li>
</ol>
</section>
</section>
</section>
<section id="v-r6-5-10-x-and-older-releases-to-2020-4">
<h2>V R6 (5.10.x) and Older Releases to 2020.4<a class="headerlink" href="#v-r6-5-10-x-and-older-releases-to-2020-4" title="Permalink to this headline">¶</a></h2>
<section id="step-1-update-alation-to-2020-3">
<h3>Step 1: Update Alation to 2020.3<a class="headerlink" href="#step-1-update-alation-to-2020-3" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><p>Familiarize yourself with 2020.3 release-specific information.</p></li>
<li><p>Follow 2020.3 update instructions for updating your specific version to 2020.3.</p></li>
<li><p>Perform post-upgrade steps for 2020.3 if they are relevant to your Alation instance.</p></li>
</ol>
<p>Refer to: <a class="reference internal" href="Updateto20203.html"><span class="doc">Update Alation to 2020.3</span></a>.</p>
</section>
<section id="step-2-postgresql-upgrade-to-9-6">
<h3>Step 2: PostgreSQL Upgrade to 9.6<a class="headerlink" href="#step-2-postgresql-upgrade-to-9-6" title="Permalink to this headline">¶</a></h3>
<p>Upgrade the internal PostgreSQL if it is still on version 9.3. Internal PostgreSQL upgrade steps: <a class="reference internal" href="UpgradeInternalPostgreSQLInstances.html"><span class="doc">Upgrade Internal PostgreSQL Instances from 9.3 to 9.6</span></a>.</p>
</section>
<section id="step-3-allow-time-for-elasticsearch-migration">
<h3>Step 3: Allow Time for Elasticsearch Migration<a class="headerlink" href="#step-3-allow-time-for-elasticsearch-migration" title="Permalink to this headline">¶</a></h3>
<p>Allow for about a week on release 2020.3 for Elasticsearch migration to complete.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is possible to force the migration if this wait period is not an option. Please contact Alation Support to assist in forcing Elasticsearch migration.</p>
</div>
</div></blockquote>
</section>
<section id="step-4-update-alation-from-2020-3-to-2020-4">
<h3>Step 4: Update Alation from 2020.3 to 2020.4<a class="headerlink" href="#step-4-update-alation-from-2020-3-to-2020-4" title="Permalink to this headline">¶</a></h3>
<p>Refer to <a class="reference internal" href="#v-r7-5-12-x-and-2020-3-x-to-2020-4-x">V R7 (5.12.x) and 2020.3.x to 2020.4.x</a> for the update steps.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>There is an important pre-upgrade step that must be performed before updating to 2020.4. Alation provides a pre-upgrade reindexing script that must be run before starting the update process. The steps to run the script are included into the update instructions.</p>
</div>
</section>
<section id="step-5-perform-the-post-upgrade-steps-in-2020-4">
<h3>Step 5: Perform the Post-Upgrade Steps in 2020.4<a class="headerlink" href="#step-5-perform-the-post-upgrade-steps-in-2020-4" title="Permalink to this headline">¶</a></h3>
<p>See <a class="reference internal" href="#post-upgrade-steps-2020-4">Post-Upgrade Steps 2020.4</a> below.</p>
</section>
</section>
<section id="post-upgrade-steps-2020-4">
<span id="update-20204-post-upgrade"></span><h2>Post-Upgrade Steps 2020.4<a class="headerlink" href="#post-upgrade-steps-2020-4" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Update Alation Analytics V2 if it is enabled and installed with your instance: <a class="reference internal" href="../AlationAnalyticsV2/UpdateAlationAnalyticsV2.html"><span class="doc">Update Alation Analytics V2</span></a>.</p></li>
<li><p>If you have <strong>SQL Server data sources</strong> that use NTLM authentication and the built-in jTDS driver, consider switching them to the SQL Server driver version 8.2.2 added in 2020.4.</p></li>
<li><p>If you have Azure Databricks sources using Custom DB and a custom driver, consider switching to the new Simba JDBC driver 2.6.16 that is now available in the list of drivers on the <strong>General Settings</strong> tab of the data source Settings page.</p></li>
</ul>
</section>
<section id="update-alation-from-2020-4-x-to-a-newer-patch-version-of-2020-4-x">
<h2>Update Alation from 2020.4.x to a Newer Patch Version of 2020.4.x<a class="headerlink" href="#update-alation-from-2020-4-x-to-a-newer-patch-version-of-2020-4-x" title="Permalink to this headline">¶</a></h2>
<p>If you are updating from 2020.4.x to a newer patch version of 2020.4 - for example, if you are updating from 2020.4 GA to 2020.4.1, please take note of the following:</p>
<ol class="arabic">
<li><p>You do not need to run the 2020.4 pre-upgrade re-indexing script. Update Alation using the update instructions for your instance type: Standalone or HA Pair.</p></li>
<li><p>Before upgrading, check permissions on the folder <strong>extra_config</strong> at  <strong>/opt/alation/site/config/extra_config</strong> (path inside the Alation shell). The permissions should be <strong>755</strong>.</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># This is done from the Alation shell</span>
<span class="c1"># To enter the shell:</span>
sudo<span class="w"> </span>/etc/init.d/alation<span class="w"> </span>shell
<span class="c1"># To check permissions:</span>
ls<span class="w"> </span>-al<span class="w">  </span>/opt/alation/site/config/
</pre></div>
</div>
<p><strong>Example output</strong>:</p>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp gp-VirtualEnv">(env)</span> <span class="go">PROD [alationadmin@ip-10-13-56-73 /]$ ls -al /opt/alation/site/config/</span>
<span class="go">total 36</span>
<span class="go">drwxr-xr-x  7 alation alation 4096 Dec 15 20:59 .</span>
<span class="go">drwxrwxr-x 17 alation alation 4096 Dec 15 20:59 ..</span>
<span class="go">-rw-r--r--  1 alation alation 1963 Dec 15 20:48 alation.lic</span>
<span class="go">drwxr-xr-x  6 alation alation 4096 Nov 17 22:23 cryptography</span>
<span class="go">drwxr-xr-x  2 alation alation 4096 May 27  2016 extra_config</span>
<span class="go">drwxr-xr-x  2 alation alation 4096 Aug  7  2018 extra_config_user_data</span>
<span class="go">-rw-r--r--  1 alation alation   37 May  4  2020 instance_uuid</span>
<span class="go">drwxr-xr-x  2 alation alation 4096 May  4  2020 kek_extra_config</span>
<span class="go">drwxr-xr-x  2 alation alation 4096 May  4  2020 kek_extra_config_user_data</span>
</pre></div>
</div>
</div></blockquote>
</div></blockquote>
</li>
</ol>
<p>If you see other permissions on <strong>extra_config</strong>, change to <strong>755</strong>:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>chmod<span class="w"> </span><span class="m">755</span><span class="w"> </span>/opt/alation/site/config/extra_config
</pre></div>
</div>
</div></blockquote>
</section>
</section>


           </div>
          </div>
          <footer>

  
<div class="navigation-bar">

    <div class="navigation navigation--prev">
        
        <a class="navigation__link" href="Updateto20211.html">
            <button class="navigation__button">
                <i class="icon icon-left"></i>
            </button>
            <div class="navigation__title">
                <span class="heading">Previous</span> <br />Update Alation to 2021.1
            </div>
        </a>
        
    </div>

    <div class="navigation navigation--next">
        
        <a class="navigation__link" title="Accesskey Alt(+Shift)+p" accesskey="p" href="20204UpgradeScript.html">
            <div class="navigation__title">
                <span class="heading">Next</span> <br />Pre-Update Reindexing Script for 2020.4
            </div>
            <button class="navigation__button" title="Accesskey Alt(+Shift)+n" accesskey="n">
                <i class="icon icon-right"></i>
            </button>
        </a>
        
    </div>

</div>


</footer>

        </div>
      </div>

    </section>

    <div class="wy-nav-side wy-nav-secondary">
      <div class="wy-side-scroll">
        <div class="wy-side-scroll__content">
          <div class="wy-menu-secondary">
              <div class="comments">
    <a href="mailto:no-reply-docs-feedback@alation.com?subject=Documentation Feedback on installconfig/Update/Updateto20204&body=Alation%20welcomes%20your%20comments%20on%20typos,%20content%20accuracy%20and%20completeness,%20and%20whether%20you%20found%20this%20page%20helpful.%20You%20will%20not%20receive%20a%20reply%20to%20this%20email.">
        <i class="icon icon-envelope" aria-hidden="true"></i>Request docs changes
    </a>
    <a href="#open-modal-pdf">
        <i class="icon icon-pdf" aria-hidden="true"></i>Download PDF
    </a>
</div>
              
                <p class="wy-menu-secondary-header">On this page</p>
                <ul>
<li><a class="reference internal" href="#">Update Alation to 2020.4</a><ul>
<li><a class="reference internal" href="#update-dependencies">Update Dependencies</a><ul>
<li><a class="reference internal" href="#host-os-version-dependency">Host OS Version Dependency</a></li>
<li><a class="reference internal" href="#alation-version-dependency">Alation Version Dependency</a></li>
</ul>
</li>
<li><a class="reference internal" href="#update-schedule">Update Schedule</a><ul>
<li><a class="reference internal" href="#downtime-schedule">Downtime Schedule</a></li>
<li><a class="reference internal" href="#update-on-ha-pair">Update on HA Pair</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-specific-information">2020.4 Release-Specific Information</a><ul>
<li><a class="reference internal" href="#chroot-upgrade-to-centos-8">Chroot Upgrade to CentOS 8</a></li>
<li><a class="reference internal" href="#changes-to-supported-os-for-the-alation-host-server">Changes to Supported OS for the Alation Host Server</a></li>
<li><a class="reference internal" href="#updated-data-source-drivers">Updated Data Source Drivers</a></li>
<li><a class="reference internal" href="#alation-analytics-v2-update">Alation Analytics V2 Update</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id2">Update Alation to 2020.4</a><ul>
<li><a class="reference internal" href="#update-prerequisites">2020.4 Update Prerequisites</a><ul>
<li><a class="reference internal" href="#postgresql-upgrade-to-9-6-required">PostgreSQL Upgrade to 9.6. Required</a></li>
<li><a class="reference internal" href="#removal-of-elasticsearch-1-4">Removal of Elasticsearch 1.4.</a></li>
</ul>
</li>
<li><a class="reference internal" href="#update-steps">2020.4 Update Steps</a><ul>
<li><a class="reference internal" href="#v-r7-5-12-x-and-2020-3-x-to-2020-4-x">V R7 (5.12.x) and 2020.3.x to 2020.4.x</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#v-r6-5-10-x-and-older-releases-to-2020-4">V R6 (5.10.x) and Older Releases to 2020.4</a><ul>
<li><a class="reference internal" href="#step-1-update-alation-to-2020-3">Step 1: Update Alation to 2020.3</a></li>
<li><a class="reference internal" href="#step-2-postgresql-upgrade-to-9-6">Step 2: PostgreSQL Upgrade to 9.6</a></li>
<li><a class="reference internal" href="#step-3-allow-time-for-elasticsearch-migration">Step 3: Allow Time for Elasticsearch Migration</a></li>
<li><a class="reference internal" href="#step-4-update-alation-from-2020-3-to-2020-4">Step 4: Update Alation from 2020.3 to 2020.4</a></li>
<li><a class="reference internal" href="#step-5-perform-the-post-upgrade-steps-in-2020-4">Step 5: Perform the Post-Upgrade Steps in 2020.4</a></li>
</ul>
</li>
<li><a class="reference internal" href="#post-upgrade-steps-2020-4">Post-Upgrade Steps 2020.4</a></li>
<li><a class="reference internal" href="#update-alation-from-2020-4-x-to-a-newer-patch-version-of-2020-4-x">Update Alation from 2020.4.x to a Newer Patch Version of 2020.4.x</a></li>
</ul>
</li>
</ul>

              
            </div>
          </div>
      </div>
    </div>

  </div>

  
  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->

  
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/clipboard.min.js"></script>
      <script type="text/javascript" src="../../_static/copybutton.js"></script>
      <script type="text/javascript" src="../../_static/js/rtd_sphinx_search.min.js"></script>
  
  <script type="text/javascript" src="../../_static/searchtools.js"></script> <script type="text/javascript" id="idPiwikScriptPlaceholder"></script><script type="text/javascript" src="../../_static/js/main.bundle.js"></script>
  <script type="text/javascript" src="../../_static/js/runtime.bundle.js"></script>

  
  

  
    <div id="open-modal-pdf" class="modal-window">
<div>
  <a href="#" title="Close" class="modal-close">Close</a>
  <h4>Alation Documentation PDF</h4>
  <p>This PDF contains all our documentation and is more than <b>120 MB</b> in size. We recommend using an ethernet or Wi-Fi connection for downloading.</p>
  <br>
  <div class="modal-buttons">
    <a href="https://pdf-docs.alation.com/AlationUserDocs.pdf" class="btn-cta btn-cta--primary" target="_blank">
      Download PDF
    </a>
    <a href="#" title="Close" class="btn-cta">Cancel</a>
  </div>
</div>
  

</body>
</html>
<!--3.6.17-->