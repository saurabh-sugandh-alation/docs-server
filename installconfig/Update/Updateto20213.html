
<!DOCTYPE html>
<html lang="" >
<head>
  <meta charset="utf-8"/>
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="book-version"      content=""/>
  <meta name="book-release"      content=""/>
  <meta name="docsearch:name"    content="Alation User Guide" />
  <meta name="docsearch:version" content="" />
  <meta name="docsearch:package_type" content="" />
	<meta name="robots" content="noindex" />

  
  <title>Update Alation to 2021.3 &mdash; Alation User Guide</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  

  

  
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/main.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/sphinx_collapse.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/rtd_sphinx_search.min.css" type="text/css" />
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="Alation User Guide" href="#"/>
        <link rel="up" title="Update Alation" href="index.html"/>
        <link rel="next" title="Update Alation to 2021.2" href="Updateto20212.html"/>
        <link rel="prev" title="Validating the Value of Parameter elasticsearch.env.es_java_opts" href="ValidatingValueOfelasticsearch_env.html"/>

	

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-67846571-1"></script>
	<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());

	gtag('config', 'UA-67846571-1');
	</script>

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<!-- Second Google Analytics tag to assist mapping with mattermost.com visits --> 
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-120238482-1"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'UA-120238482-1');
	</script>


</head>

<body class="wy-body-for-nav" role="document">

  <header>
    <div class="header__container wy-max-content-width">
        <a href="/" class="header__logo">
            <img width="176" src="../../_static/img/logo-alation.svg" alt="Alation" />
        </a>
        <ul class="header__links">
            <li><a href="https://help.alation.com/s/">Alation Help Center</a></li>
        </ul>
    </div>
</header>

  <div class="wy-grid-for-nav wy-max-content-width">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-scroll__content">
          <div class="wy-side-nav-search">
            

            <ul class="sidebartop">
              <li class="nolink search"><div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search this project" aria-label="Search this project" id="searchinput" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
</li>

            </ul>

            
          </div>

          <div class="wy-menu wy-sidebar wy-sidebar--hidden" data-spy="affix" role="navigation" aria-label="main navigation">
            
              
              
              
                  <p class="caption" role="heading"><span class="caption-text">Welcome to Alation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/About/index.html">About Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/CloudAndOnPrem/index.html">Alation Cloud and On-Premise</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/UserProfileandPreferences/index.html">User Profile and Preferences</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/CatalogBasics/index.html">Catalog Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/CatalogPages/index.html">Catalog Pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Conversations/index.html">Conversations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Domains/index.html">Domains</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/BestPractices/index.html">Best Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Glossary/index.html">Alation Glossary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation Cloud Service</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/StatusPage/index.html">Status Page</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/CloudOverview/index.html">Cloud Service Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/CloudConfiguration/index.html">Configuration for Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/AlationAgent/index.html">Alation Agent</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation Integration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../integration/AlationAnywhere/index.html">Alation Anywhere</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../integration/AlationConnectedSheets/index.html">Alation Connected Sheets</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installation &amp; Configuration</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../ServerInstallation/index.html">Install Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../HighAvailability/index.html">High Availability</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Update Alation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Updateto20233.html">Update Alation to 2023.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="Updateto20231.html">Update Alation to 2023.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="Updateto20224.html">Update Alation to 2022.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="ReencryptData.html">Re-Encrypt Existing Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="Updateto20223.html">Update Alation to 2022.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="DeduplicateMixedCaseUsernames.html">De-duplicate Mixed Case Usernames</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpdateSourceForDataflows.html">Update Source Field for Dataflow Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="Updateto20222.html">Update Alation to 2022.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="Updateto20221.html">Update Alation to 2022.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="ResettingCheckpointForUserData.html">Resetting ETL Checkpoint for User Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="Updateto20214.html">Update Alation to 2021.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpdateFrom20214To20214Patch.html">Update Alation from 2021.4.x to 2021.4.4 or Later Patches</a></li>
<li class="toctree-l2"><a class="reference internal" href="ValidatingValueOfelasticsearch_env.html">Validating the Value of Parameter elasticsearch.env.es_java_opts</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Update Alation to 2021.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="Updateto20212.html">Update Alation to 2021.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="Updateto20211.html">Update Alation to 2021.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="Updateto20204.html">Update Alation to 2020.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="20204UpgradeScript.html">Pre-Update Reindexing Script for 2020.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="Updateto20203.html">Update Alation to 2020.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpdatetoVR7.html">Updating Alation to V R7 (5.12.x)</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpgradeElasticsearchVR7.html">Elasticsearch Upgrade to 7.4 FAQ and Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpdatetoVR6.html">Update Alation to V R6 (5.10.x)</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpgradeInternalPostgreSQLInstances.html">Upgrade Internal PostgreSQL Instances from 9.3 to 9.6</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpdatetoVR5.html">Update Alation to V R5 (5.9.x)</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpdateSafetyBestPractice.html">Update Safety Best Practices</a></li>
<li class="toctree-l2"><a class="reference internal" href="ReleaseUpdatePrechecks.html">Release-specific Update Pre-checks</a></li>
<li class="toctree-l2"><a class="reference internal" href="ManualSWUpdate.html">Manual Software Update for Standalone Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="updateHAPair.html">Update HA Pair Configuration (4.7 and above)</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpdateHAPairwithClusterSplitting.html">Update HA Pair with Cluster Splitting</a></li>
<li class="toctree-l2"><a class="reference internal" href="OCFUpdateAlationConnectorManager.html">Update Alation Connector Manager</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../BackupandRestore/index.html">Back Up and Restore</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LineageV2/index.html">Lineage V2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LineageV3/index.html">Lineage V3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../AlationAnalyticsV2/index.html">Alation Analytics V2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../AlationContainerService/index.html">Alation Container Service</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../sources/CatalogSources/index.html">Catalog Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/VirtualDataSources/index.html">Virtual Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/Lineage/index.html">Lineage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/APIResources/index.html">API Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/WorkwithCatalogData/index.html">Working with Catalog Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/OpenConnectorFramework/index.html">Open Connector Framework</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Data Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/DSConfiguration/index.html">Data Source Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/AddDataSources/index.html">Adding Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/ComposeSSOAWSDataSources/index.html">Compose SSO for Amazon Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/ComposeSSOAzureDataSources/index.html">Compose SSO for Azure Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/AuthenticationForExtraction/index.html">Authentication for Extraction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/CustomDB/index.html">Custom DB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/GBQ/index.html">Google BigQuery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/Hive/index.html">Hive</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">BI Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/AddBISources/index.html">Add BI Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/AddTableauServer/index.html">Add Tableau Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/WorkwithBISources/index.html">Working with BI Sources</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">File System Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../filesystems/FileSystems/index.html">Add File Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../filesystems/VirtualFileSystems/index.html">Virtual File Systems</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Analysts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/UserAuthenticationForDataSources/index.html">User Authentication for Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/ShareAndAccessQueries/index.html">Share and Access Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/WriteQueries/index.html">Write Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/DevelopQueries/index.html">Develop Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/WorkwithQueryResults/index.html">Work with Query Results</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Data Stewards</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../steward/GovernanceApp/index.html">Governance App</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/PolicyCenter/index.html">Policy Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/Workflow/index.html">Workflow Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/GovernanceDashboard/index.html">Governance Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/StewardshipWorkbench/index.html">Stewardship Workbench</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/AnalyticsStewardship/index.html">Analytics Stewardship</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/Glossary/index.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/ArticlesAndTags/index.html">Articles and Tags</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/ArticleGroups/index.html">Article Groups</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/DataCatalogCustomization/index.html">Customize Your Data Catalog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/DataDocumentation/index.html">Data Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/AutoTitlingandLexicon/index.html">Auto-titling and Lexicon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/SnowflakeTags/index.html">Snowflake Tags</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Server Administrators</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../admins/CustomizableHomePage/index.html">Customizable Homepage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AdminSettings/index.html">Administrator Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AdditionalConfiguration/index.html">Additional Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/RunbookForAdministrators/index.html">Runbook for Administrators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AlationAPIs/index.html">Alation APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/How-tos/index.html">How-tos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/Troubleshooting/index.html">Troubleshooting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Release Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../releases/releasenotes/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/supportmatrices/index.html">Support Matrices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/endofsupport/index.html">End Of Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/snowflakeclladdon/index.html">Snowflake Parser Add-On</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/fieldnotices/index.html">Important Notices and Security Alerts</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Archived Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../archive/About/index.html">About the Documentation Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/AdminConfig/index.html">Administration and Update Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/ReleaseNotes/index.html">Release Notes Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/Usage/index.html">Usage and Customization Archive</a></li>
</ul>

              
            
          </div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="wy-nav-top-icon"></i>
        <a href="../../index.html">Alation User Guide</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">

          <div role="navigation" aria-label="breadcrumbs" class="breadcrumbs">
    <a href="../../index.html">Docs</a>
    <span class="separator">&gt;</span>
    <a href="index.html">Update Alation</a>
    <span class="separator">&gt;</span>
    <span>Update Alation to 2021.3</span>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody" class="toBeIndexed">
            
  <section id="update-alation-to-2021-3">
<h1>Update Alation to 2021.3<a class="headerlink" href="#update-alation-to-2021-3" title="Permalink to this headline">¶</a></h1>
<p class="on-prem-label hover-text">Customer Managed <span class="tooltip-text">Applies to customer-managed instances of Alation</span></p>
<section id="update-version-dependencies">
<h2>2021.3 Update Version Dependencies<a class="headerlink" href="#update-version-dependencies" title="Permalink to this headline">¶</a></h2>
<p>Alation supports a direct update to version 2021.3 from the following previous versions:</p>
<blockquote>
<div><ul class="simple">
<li><p>2021.2.x</p></li>
<li><p>2021.1.x</p></li>
</ul>
</div></blockquote>
<section id="version-2020-4-x-and-older-versions">
<h3>Version 2020.4.x and Older Versions<a class="headerlink" href="#version-2020-4-x-and-older-versions" title="Permalink to this headline">¶</a></h3>
<p>Direct update to 2021.3 is not supported from versions 2020.4, 2020.3, or older.</p>
<p>First, update Alation to a version that supports the update to 2021.3, for example, 2021.1 or 2021.2, - and then perform a second update to 2021.3. Use the update instructions specific to your release to update.</p>
</section>
</section>
<section id="release-specific-information">
<span id="id1"></span><h2>2021.3 Release-Specific Information<a class="headerlink" href="#release-specific-information" title="Permalink to this headline">¶</a></h2>
<section id="postgres-upgrade-to-13-1">
<h3>Postgres Upgrade to 13.1<a class="headerlink" href="#postgres-upgrade-to-13-1" title="Permalink to this headline">¶</a></h3>
<p>During the update to 2021.3, the internal Postgres database is going to be automatically upgraded to version 13.1. Postgres upgrade to 13.1 is mandatory and cannot be skipped or postponed.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Postgres upgrade dictates a disk space check before the update to 2021.3. You will need to make sure that at least 10% disk space is free in both <strong>/data1</strong> and <strong>/data2</strong> directories. With free disk space less than 10%, Postgres upgrade will be skipped by the update installer. Postgres will need to be updated manually after updating Alation.</p>
</div>
</section>
<section id="built-in-driver-upgrades">
<h3>Built-In Driver Upgrades<a class="headerlink" href="#built-in-driver-upgrades" title="Permalink to this headline">¶</a></h3>
<p>Existing connections to the data sources listed below will automatically switch to using new driver versions after the update to 2021.3:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 35%" />
<col style="width: 65%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Data Source Type</p></th>
<th class="head"><p>Native Driver Updated to Version</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Oracle</p></td>
<td><p>19.10</p></td>
</tr>
<tr class="row-odd"><td><p>Teradata</p></td>
<td><p>17.00.00.03</p></td>
</tr>
<tr class="row-even"><td><p>Google BigQuery</p></td>
<td><p>1.2.16.1020</p></td>
</tr>
</tbody>
</table>
</section>
<section id="lineage-v2-is-default-in-2021-3">
<h3>Lineage V2 is Default in 2021.3<a class="headerlink" href="#lineage-v2-is-default-in-2021-3" title="Permalink to this headline">¶</a></h3>
<p>In 2021.3, Lineage V2 is the default framework for Lineage.</p>
<p>If the Alation instance you are updating is already using Lineage V2, skip this section.</p>
<p>If you are updating from a release that uses Lineage V1, review the information below.</p>
<p>If your instance is using Lineage V1, during the update to 2021.3, the Lineage feature flag is going to be switched to V2. However, the complete migration to Lineage V2 on an Alation instance consists in 2 steps:</p>
<blockquote>
<div><ul class="simple">
<li><p>Enabling the Lineage V2 feature flag on the instance</p></li>
<li><p>Migrating the existing Lineage data to the Lineage V2 framework</p></li>
</ul>
</div></blockquote>
<p>The update to 2021.3 only enables the corresponding feature flag but does not perform the Lineage data migration.</p>
<p>It is recommended to fully switch to using Lineage V2 as support for Lineage V1 is going to be ended in one of the coming releases:</p>
<blockquote>
<div><ul class="simple">
<li><p>How to check your current Lineage framework: <a class="reference internal" href="#check-lineage-version">Check Lineage Version</a></p></li>
<li><p>How to enable Lineage V2 and migrate your existing lineage to the V2 Lineage framework: <a class="reference internal" href="../LineageV2/EnableLineageV2.html"><span class="doc">Enabling Lineage V2</span></a></p></li>
<li><p>How to stay on Lineage V1 (not recommended): <a class="reference internal" href="#how-to-stay-on-lineage-v1-after-the-update-to-2021-3">How to stay on Lineage V1 after the update to 2021.3</a></p></li>
</ul>
</div></blockquote>
<section id="check-lineage-version">
<h4>Check Lineage Version<a class="headerlink" href="#check-lineage-version" title="Permalink to this headline">¶</a></h4>
<p>To check which Lineage framework is currently in use on your Alation server:</p>
<ol class="arabic">
<li><p>SSH to your Alation host and enter the Alation shell:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>/etc/init.d/alation<span class="w"> </span>shell
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Check the Lineage V2 feature flag. If it is set to <code class="docutils literal notranslate"><span class="pre">False</span></code>, you are on Lineage V1. If it is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, you are on Lineage V2:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>alation_conf<span class="w"> </span>alation.feature_flags.enable_lineage_v2
</pre></div>
</div>
</div></blockquote>
</li>
</ol>
</section>
<section id="how-to-stay-on-lineage-v1-after-the-update-to-2021-3">
<h4>How to stay on Lineage V1 after the update to 2021.3<a class="headerlink" href="#how-to-stay-on-lineage-v1-after-the-update-to-2021-3" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>This is not recommended</strong> by Alation. Lineage V1 has reached end of support. No new features or improvements are going to be added to Lineage V1 in the coming releases.</p>
</div>
<p>If your Alation instance is on Lineage V1, before the update to 2021.3 and you wish to still stay on Lineage V1 after the update to 2021.3, explicitly set the Lineage V2 flag to <code class="docutils literal notranslate"><span class="pre">False</span></code> before the update. This will create an override value in <strong>alation_conf</strong> that will not be changed during the update to 2021.3. This action must be done explicitly even though you find that the value is already set to <code class="docutils literal notranslate"><span class="pre">False</span></code> on your instance.</p>
<p>To set the value:</p>
<ol class="arabic">
<li><p>SSH to your Alation host and enter the Alation shell:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>/etc/init.d/alation<span class="w"> </span>shell
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Explicitly set the Lineage V2 feature flag to <code class="docutils literal notranslate"><span class="pre">False</span></code>:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>alation_conf<span class="w"> </span>alation.feature_flags.enable_lineage_v2<span class="w"> </span>-s<span class="w"> </span>False
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Restart web:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>alation_supervisor<span class="w"> </span>restart<span class="w"> </span>web:*
</pre></div>
</div>
</div></blockquote>
</li>
</ol>
</section>
</section>
<section id="backup-v2-is-default-in-2021-3">
<h3>Backup V2 is Default in 2021.3<a class="headerlink" href="#backup-v2-is-default-in-2021-3" title="Permalink to this headline">¶</a></h3>
<p>Backup V2 is the default backup tool in release 2021.3.</p>
<p>If the Alation instance you are updating already uses Backup V2, skip this section.</p>
<p>If the Alation instance you are updating uses Backup V1, review the information below.</p>
<section id="what-does-this-mean-to-me-as-alation-admin">
<h4>What Does This Mean to Me as Alation Admin?<a class="headerlink" href="#what-does-this-mean-to-me-as-alation-admin" title="Permalink to this headline">¶</a></h4>
<p>If your Alation instance is still on Backup V1 before the update to 2021.3 LA, during the update it will be switched to using Backup V2 automatically. For more information about Backup V2, see <a class="reference internal" href="../BackupandRestore/BackupV1AndV2/index.html"><span class="doc">Backup V1 and Backup V2</span></a>.</p>
<p>Please take note of the following:</p>
<ul class="simple">
<li><p>You will be able to go back to Backup V1 after the update to 2021.3 if that is your preference. The next backup that runs on your system after the update to 2021.3 can be performed using either the Backup V1 or Backup V2 tool.</p></li>
<li><p>If your Alation server is on Backup V1 and using HA Pair configuration, then after the update, you will need to validate that both Primary and Secondary instances have the desired backup configuration. This is covered in the instructions for updating HA Pairs.</p></li>
</ul>
</section>
<section id="how-to-stay-on-backup-v1-after-update-to-2021-2">
<h4>How to Stay on Backup V1 After Update to 2021.2<a class="headerlink" href="#how-to-stay-on-backup-v1-after-update-to-2021-2" title="Permalink to this headline">¶</a></h4>
<p>You can return to Backup V1 by disabling Backup V2 after the update to 2021.2.</p>
</section>
<section id="check-current-backup-tool-version">
<h4>Check Current Backup Tool Version<a class="headerlink" href="#check-current-backup-tool-version" title="Permalink to this headline">¶</a></h4>
<p>You can check the <strong>alation_conf</strong> parameter <code class="docutils literal notranslate"><span class="pre">alation.backup_v2.enabled</span></code>. If it is in <code class="docutils literal notranslate"><span class="pre">False</span></code>, you are on Backup V1:</p>
<ol class="arabic">
<li><p>SSH to your Alation instance.</p></li>
<li><p>Enter the Alation shell:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>/etc/init.d/alation<span class="w"> </span>shell
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Check the value:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>alation_conf<span class="w"> </span>alation.backup_v2.enabled
</pre></div>
</div>
</div></blockquote>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Do not change this parameter manually as this will result in an incomplete transition between backup tools and an inconsistent state of the system. Instead, use the <code class="docutils literal notranslate"><span class="pre">alation_action</span></code> command described in the Backup V2 documentation.</p>
</div>
</section>
</section>
</section>
<section id="update-known-issue">
<h2>2021.3 Update Known Issue<a class="headerlink" href="#update-known-issue" title="Permalink to this headline">¶</a></h2>
<p>If you have a password set on the internal PostgreSQL database (Rosemeta), the update to 2021.3 will result in an error:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Password for user alation: psql: fe_sendauth: no password supplied ERROR: Cannot upgrade alation</span>
</pre></div>
</div>
<p>Update to 2021.3 requires that the password on the internal PostgreSQL database should be cleared for the time of the update. The password needs to be set again after the update is completed. On how to set or clear the Postgres password, see <a class="reference internal" href="../../admins/AdditionalConfiguration/SetPasswordforPostgreSQLInstance.html"><span class="doc">Set Password for Internal PostgreSQL Instances</span></a>.</p>
</section>
<section id="update-2021-1-or-2021-2-to-2021-3">
<h2>Update 2021.1 or 2021.2 to 2021.3<a class="headerlink" href="#update-2021-1-or-2021-2-to-2021-3" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you are updating to 2021.3 from 2021.1 and skipping the 2021.2 release, please also review <a class="reference internal" href="Updateto20212.html#release-specific-information"><span class="std std-ref">2021.2 Release-Specific Information</span></a>.</p>
</div>
</div></blockquote>
<section id="step-1-feature-flags-check">
<h3>STEP 1: Feature Flags Check<a class="headerlink" href="#step-1-feature-flags-check" title="Permalink to this headline">¶</a></h3>
<p>The update to 2021.3 will change the default Lineage framework to Lineage V2 and the default backup tool to Backup V2. If your instance already uses Lineage V2 and Backup V2, skip to the next step.</p>
<p>If your instance is on Lineage V1 and/or Backup V1, please make sure to review the following information:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#backup-v2-is-default-in-2021-3">Backup V2 is Default in 2021.3</a></p></li>
<li><p><a class="reference internal" href="#lineage-v2-is-default-in-2021-3">Lineage V2 is Default in 2021.3</a></p></li>
</ul>
</div></blockquote>
</section>
<section id="step-2-prepare-for-postgres-upgrade">
<span id="update-20213-step2"></span><h3>STEP 2: Prepare for Postgres Upgrade<a class="headerlink" href="#step-2-prepare-for-postgres-upgrade" title="Permalink to this headline">¶</a></h3>
<p>This step is mandatory. Perform the preparatory actions described in this section before running the update action. After you have prepared for Postgres upgrade, update Alation.</p>
<p>The Postgres update will happen automatically during the update to release 2021.3.</p>
<section id="postgres-9-3-clean-up">
<h4>1. Postgres 9.3 Clean-Up<a class="headerlink" href="#postgres-9-3-clean-up" title="Permalink to this headline">¶</a></h4>
<p>Alation recommends to check if PostgreSQL 9.3 files still exist in the instance and clean them up if found. Follow the steps given in <a class="reference internal" href="../../admins/How-tos/HowtoCleanUpPostgres9_3Data.html"><span class="doc">How to Clean up Postgres 9.3 Data</span></a>. This can help free disk space required for the next Postgres upgrade.</p>
</section>
<section id="validate-postgres-state-and-take-a-backup">
<h4>2. Validate Postgres State And Take a Backup<a class="headerlink" href="#validate-postgres-state-and-take-a-backup" title="Permalink to this headline">¶</a></h4>
<p>Alation recommends to perform a full Postgres scan and an additional database validation for Postgres:</p>
<ol class="arabic">
<li><p>From the Alation shell, check if full Postgres scan is enabled, and if not, enable it:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>/etc/init.d/alation<span class="w"> </span>shell
<span class="c1"># to check the current state:</span>
alation_conf<span class="w"> </span>alation.postgresql.full_scan
<span class="c1"># to enable full scan:</span>
alation_conf<span class="w"> </span>alation.postgresql.full_scan<span class="w"> </span>-s<span class="w"> </span>True
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Still in the shell, change user to <code class="docutils literal notranslate"><span class="pre">alation</span></code> and run the full scan:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>su<span class="w"> </span>alation
alation_action<span class="w"> </span>scan_postgres
</pre></div>
</div>
</div></blockquote>
</li>
</ol>
<p>If the scan returns corruption errors, contact Alation Support to troubleshoot the database. If the scan is successful, perform the next steps.</p>
<ol class="arabic" start="3">
<li><p>Still in the Alation shell, retrieve the current values of the two <strong>alation_conf</strong> parameters given below. The output will include values for both Rosemeta and Alation Analytics. Note down the values for Rosemeta only: <code class="docutils literal notranslate"><span class="pre">pgsql.config.host</span></code> and <code class="docutils literal notranslate"><span class="pre">pgsql.data_path</span></code>. Disregard the values for Alation Analytics.</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>alation_conf<span class="w"> </span>pgsql.config.host
alation_conf<span class="w"> </span>pgsql.data_path
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Run an additional database check using the values of <code class="docutils literal notranslate"><span class="pre">pgsql.data_path</span></code> for &lt;data_path&gt; and <code class="docutils literal notranslate"><span class="pre">pgsql.config.host</span></code> for &lt;host&gt;. This check should not return any errors:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>-u<span class="w"> </span>postgres<span class="w"> </span>pg_probackup-9.6<span class="w"> </span>checkdb<span class="w"> </span>-D<span class="w"> </span>&lt;data_path&gt;<span class="w"> </span>-h<span class="w"> </span>&lt;host&gt;
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>After the database is validated successfully, take a full backup. The backup action should be performed as user <code class="docutils literal notranslate"><span class="pre">alation</span></code>:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>su<span class="w"> </span>alation
alation_action<span class="w"> </span>backup_all
</pre></div>
</div>
</div></blockquote>
</li>
</ol>
</section>
<section id="disk-space-check">
<h4>3.Disk Space Check<a class="headerlink" href="#disk-space-check" title="Permalink to this headline">¶</a></h4>
<p>Ensure there is enough disk space for the automatic Postgres upgrade: there should be at least 10% free disk space in both <strong>/data1</strong> (<strong>/data</strong>) and <strong>/data2</strong> (<strong>/backup</strong>) folders. To check the currently available disk space, outside of the Alation shell, run:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>df<span class="w"> </span>-h
</pre></div>
</div>
</div></blockquote>
<p>After making sure you have fulfilled the disk space requirements, proceed to updating Alation.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Auto-upgrade of Postgres requires that at least 10% of the disk space is free in both <strong>/data1</strong> and <strong>/data2</strong> directories. When the disk is filled up above 90%, Postgres auto-upgrade will be skipped.</p>
<p>In this case the update action will only update the Alation application. You will have to update Postgres manually using the command <code class="docutils literal notranslate"><span class="pre">alation_action</span> <span class="pre">upgrade_postgres</span></code>. Postgres upgrade is a mandatory change in 2021.3. The Alation application will not be fully functional until Postgres is upgraded.</p>
</div>
</section>
</section>
<section id="step-3-update-alation">
<h3>STEP 3: Update Alation<a class="headerlink" href="#step-3-update-alation" title="Permalink to this headline">¶</a></h3>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Always have the latest valid full backup before attempting to update Alation.</p>
</div>
<p>Proceed to update Alation using the update instructions appropriate for your instance type. During the update, the internal Postgres database will be auto-upgraded to version 13.1.</p>
<p>Update instructions:</p>
<ul>
<li><p><a class="reference internal" href="ManualSWUpdate.html"><span class="doc">Manual Software Update for Standalone Systems</span></a></p></li>
<li><p>Update on the HA Pair:</p>
<blockquote>
<div><ul>
<li><p>with splitting the HA cluster: <a class="reference internal" href="UpdateHAPairwithClusterSplitting.html"><span class="doc">Update HA Pair with Cluster Splitting</span></a></p></li>
<li><p>without splitting the cluster: <a class="reference internal" href="updateHAPair.html"><span class="doc">Update HA Pair Configuration (4.7 and above)</span></a></p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>PostgreSQL upgrade will not happen on Secondary if you are updating without splitting the cluster. It will be  necessary to run the “replicate Postgres” script to sync with the Primary. This is included into the update instructions for HA Pair as a conditional step for 2021.3.</p>
</div>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
</ul>
</section>
<section id="step-4-verify-the-postgres-version">
<h3>STEP 4: Verify the Postgres Version<a class="headerlink" href="#step-4-verify-the-postgres-version" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p>After the Alation update is completed, ensure that PostgreSQL has been successfully upgraded by running the command given below from the Alation shell. This command should return the updated version of PostgreSQL: 13.1.</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>alation_psql
</pre></div>
</div>
<p>If the command returns 2 versions:</p>
<div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>psql<span class="w"> </span><span class="o">(</span><span class="m">13</span>.1,<span class="w"> </span>server<span class="w"> </span><span class="m">9</span>.6.13<span class="o">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p>this means Postgres upgrade did not happen on your instance. Run the Postgres upgrade command manually by running the following command from the Alation shell:</p></li>
</ul>
<div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>alation_action<span class="w"> </span>upgrade_postgres
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Ensure there are no errors in Alation UI after the upgrade by performing some basic post-upgrade testing.</p></li>
</ol>
</section>
<section id="step-5-update-alation-analytics-v2">
<h3>STEP 5: Update Alation Analytics V2<a class="headerlink" href="#step-5-update-alation-analytics-v2" title="Permalink to this headline">¶</a></h3>
<p>Perform this step only if Alation Analytics V2 is in use on your instance.</p>
<p>Release 2021.3 includes an updated version of Alation Analytics V2. Use the steps in <a class="reference internal" href="../AlationAnalyticsV2/UpdateAlationAnalyticsV2.html"><span class="doc">Update Alation Analytics V2</span></a> to update Alation Analytics V2.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>Starting from 2021.3, Alation Analytics V2 installer supports assigning a user who owns the Alation Analytics V2 directories, config file, and logs. In earlier versions, the ownership was assigned to the root user by default. Now, it can be assigned to any user on the Alation Analytics V2 host.</p>
<p>If you wish to change the ownership of the Alation Analytics V2 directories from root to another user, run the update command with the additional flag <code class="docutils literal notranslate"><span class="pre">-w</span></code>.</p>
</div>
</div></blockquote>
</section>
<section id="step-6-update-alation-connector-manager">
<h3>STEP 6: Update Alation Connector Manager<a class="headerlink" href="#step-6-update-alation-connector-manager" title="Permalink to this headline">¶</a></h3>
<p>Perform this step only if OCF is installed on your instance.</p>
<p>Use the steps in <a class="reference internal" href="OCFUpdateAlationConnectorManager.html"><span class="doc">Update Alation Connector Manager</span></a> to update it.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>Alation Container Service does not require to be updated in 2021.3.</p>
</div>
</div></blockquote>
</section>
<section id="step-7-optional-backup-tool-check">
<h3>STEP 7: (Optional): Backup Tool Check<a class="headerlink" href="#step-7-optional-backup-tool-check" title="Permalink to this headline">¶</a></h3>
<p>Perform this step only if you wish to go back to Backup V1 after the update.
In order to go back to Backup V1, disable Backup V2 using the instructions in <a class="reference internal" href="../BackupandRestore/BackupV1AndV2/EnableOrDisableBackupV2.html"><span class="doc">Enable or Disable Backup V2</span></a>.</p>
</section>
<section id="step-8-create-a-backup-of-the-updated-instance">
<span id="update-20213-step8"></span><h3>STEP 8: Create a Backup of the Updated Instance<a class="headerlink" href="#step-8-create-a-backup-of-the-updated-instance" title="Permalink to this headline">¶</a></h3>
<p>Backups created on Postgres 9.6 are not compatible with 2021.3 after Postgres upgrade to 13.1. Take a new full backup of your system after updating all components to 2021.3.</p>
<section id="backup-v1">
<h4>Backup V1<a class="headerlink" href="#backup-v1" title="Permalink to this headline">¶</a></h4>
<p>Create a full Alation backup of the updated instance: <a class="reference internal" href="../BackupandRestore/CreateBackupsManually.html"><span class="doc">Create Backups Manually</span></a>.</p>
<p>Do not delete the backup taken before the update until you have performed post-update testing, have taken a new backup and made sure the new backup is valid. If there are no issues with creating the backup, you can delete the backup taken before the update.</p>
</section>
<section id="backup-v2">
<h4>Backup V2<a class="headerlink" href="#backup-v2" title="Permalink to this headline">¶</a></h4>
<p>Perform steps 1 and 2 if incremental backups are enabled on your instance. If not, start with step 3.</p>
<ol class="arabic">
<li><p>If incremental backups are enabled, disable them by running the following command from the Alation shell:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>alation_conf<span class="w"> </span>alation.backup_v2.incr_backup<span class="w"> </span>-s<span class="w"> </span>False
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Re-enable Backup V2 to completely reset the incremental backup configuration after the Postgres upgrade:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>alation_action<span class="w"> </span>enable_backupv2
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Create a full Alation backup of the updated instance: <a class="reference internal" href="../BackupandRestore/CreateBackupsManually.html"><span class="doc">Create Backups Manually</span></a>.</p></li>
</ol>
<blockquote>
<div><p>Do not delete the backup taken before the update until you have performed post-update testing, have taken a new backup and made sure the new backup is valid. If there are no issues with creating the backup, you can delete the backup taken before the update.</p>
</div></blockquote>
<ol class="arabic simple" start="4">
<li><p>Incremental backups can be reenabled after taking one full backup after the upgrade if you prefer backups to be taken incrementally.</p></li>
</ol>
</section>
</section>
</section>
</section>


           </div>
          </div>
          <footer>

  
<div class="navigation-bar">

    <div class="navigation navigation--prev">
        
        <a class="navigation__link" href="ValidatingValueOfelasticsearch_env.html">
            <button class="navigation__button">
                <i class="icon icon-left"></i>
            </button>
            <div class="navigation__title">
                <span class="heading">Previous</span> <br />Validating the Value of Parameter elasticsearch.env.es_java_opts
            </div>
        </a>
        
    </div>

    <div class="navigation navigation--next">
        
        <a class="navigation__link" title="Accesskey Alt(+Shift)+p" accesskey="p" href="Updateto20212.html">
            <div class="navigation__title">
                <span class="heading">Next</span> <br />Update Alation to 2021.2
            </div>
            <button class="navigation__button" title="Accesskey Alt(+Shift)+n" accesskey="n">
                <i class="icon icon-right"></i>
            </button>
        </a>
        
    </div>

</div>


</footer>

        </div>
      </div>

    </section>

    <div class="wy-nav-side wy-nav-secondary">
      <div class="wy-side-scroll">
        <div class="wy-side-scroll__content">
          <div class="wy-menu-secondary">
              <div class="comments">
    <a href="mailto:no-reply-docs-feedback@alation.com?subject=Documentation Feedback on installconfig/Update/Updateto20213&body=Alation%20welcomes%20your%20comments%20on%20typos,%20content%20accuracy%20and%20completeness,%20and%20whether%20you%20found%20this%20page%20helpful.%20You%20will%20not%20receive%20a%20reply%20to%20this%20email.">
        <i class="icon icon-envelope" aria-hidden="true"></i>Request docs changes
    </a>
    <a href="#open-modal-pdf">
        <i class="icon icon-pdf" aria-hidden="true"></i>Download PDF
    </a>
</div>
              
                <p class="wy-menu-secondary-header">On this page</p>
                <ul>
<li><a class="reference internal" href="#">Update Alation to 2021.3</a><ul>
<li><a class="reference internal" href="#update-version-dependencies">2021.3 Update Version Dependencies</a><ul>
<li><a class="reference internal" href="#version-2020-4-x-and-older-versions">Version 2020.4.x and Older Versions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-specific-information">2021.3 Release-Specific Information</a><ul>
<li><a class="reference internal" href="#postgres-upgrade-to-13-1">Postgres Upgrade to 13.1</a></li>
<li><a class="reference internal" href="#built-in-driver-upgrades">Built-In Driver Upgrades</a></li>
<li><a class="reference internal" href="#lineage-v2-is-default-in-2021-3">Lineage V2 is Default in 2021.3</a><ul>
<li><a class="reference internal" href="#check-lineage-version">Check Lineage Version</a></li>
<li><a class="reference internal" href="#how-to-stay-on-lineage-v1-after-the-update-to-2021-3">How to stay on Lineage V1 after the update to 2021.3</a></li>
</ul>
</li>
<li><a class="reference internal" href="#backup-v2-is-default-in-2021-3">Backup V2 is Default in 2021.3</a><ul>
<li><a class="reference internal" href="#what-does-this-mean-to-me-as-alation-admin">What Does This Mean to Me as Alation Admin?</a></li>
<li><a class="reference internal" href="#how-to-stay-on-backup-v1-after-update-to-2021-2">How to Stay on Backup V1 After Update to 2021.2</a></li>
<li><a class="reference internal" href="#check-current-backup-tool-version">Check Current Backup Tool Version</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#update-known-issue">2021.3 Update Known Issue</a></li>
<li><a class="reference internal" href="#update-2021-1-or-2021-2-to-2021-3">Update 2021.1 or 2021.2 to 2021.3</a><ul>
<li><a class="reference internal" href="#step-1-feature-flags-check">STEP 1: Feature Flags Check</a></li>
<li><a class="reference internal" href="#step-2-prepare-for-postgres-upgrade">STEP 2: Prepare for Postgres Upgrade</a><ul>
<li><a class="reference internal" href="#postgres-9-3-clean-up">1. Postgres 9.3 Clean-Up</a></li>
<li><a class="reference internal" href="#validate-postgres-state-and-take-a-backup">2. Validate Postgres State And Take a Backup</a></li>
<li><a class="reference internal" href="#disk-space-check">3.Disk Space Check</a></li>
</ul>
</li>
<li><a class="reference internal" href="#step-3-update-alation">STEP 3: Update Alation</a></li>
<li><a class="reference internal" href="#step-4-verify-the-postgres-version">STEP 4: Verify the Postgres Version</a></li>
<li><a class="reference internal" href="#step-5-update-alation-analytics-v2">STEP 5: Update Alation Analytics V2</a></li>
<li><a class="reference internal" href="#step-6-update-alation-connector-manager">STEP 6: Update Alation Connector Manager</a></li>
<li><a class="reference internal" href="#step-7-optional-backup-tool-check">STEP 7: (Optional): Backup Tool Check</a></li>
<li><a class="reference internal" href="#step-8-create-a-backup-of-the-updated-instance">STEP 8: Create a Backup of the Updated Instance</a><ul>
<li><a class="reference internal" href="#backup-v1">Backup V1</a></li>
<li><a class="reference internal" href="#backup-v2">Backup V2</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

              
            </div>
          </div>
      </div>
    </div>

  </div>

  
  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->

  
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/clipboard.min.js"></script>
      <script type="text/javascript" src="../../_static/copybutton.js"></script>
      <script type="text/javascript" src="../../_static/js/rtd_sphinx_search.min.js"></script>
  
  <script type="text/javascript" src="../../_static/searchtools.js"></script> <script type="text/javascript" id="idPiwikScriptPlaceholder"></script><script type="text/javascript" src="../../_static/js/main.bundle.js"></script>
  <script type="text/javascript" src="../../_static/js/runtime.bundle.js"></script>

  
  

  
    <div id="open-modal-pdf" class="modal-window">
<div>
  <a href="#" title="Close" class="modal-close">Close</a>
  <h4>Alation Documentation PDF</h4>
  <p>This PDF contains all our documentation and is more than <b>120 MB</b> in size. We recommend using an ethernet or Wi-Fi connection for downloading.</p>
  <br>
  <div class="modal-buttons">
    <a href="https://pdf-docs.alation.com/AlationUserDocs.pdf" class="btn-cta btn-cta--primary" target="_blank">
      Download PDF
    </a>
    <a href="#" title="Close" class="btn-cta">Cancel</a>
  </div>
</div>
  

</body>
</html>
<!--3.6.17-->