
<!DOCTYPE html>
<html lang="" >
<head>
  <meta charset="utf-8"/>
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="book-version"      content=""/>
  <meta name="book-release"      content=""/>
  <meta name="docsearch:name"    content="Alation User Guide" />
  <meta name="docsearch:version" content="" />
  <meta name="docsearch:package_type" content="" />
	<meta name="robots" content="noindex" />

  
  <title>Transition from Alation Analytics V1 to Alation Analytics V2 &mdash; Alation User Guide</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  

  

  
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/main.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/sphinx_collapse.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/rtd_sphinx_search.min.css" type="text/css" />
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="Alation User Guide" href="#"/>
        <link rel="up" title="Alation Analytics V2" href="index.html"/>
        <link rel="next" title="Enable and Install Alation Analytics V2" href="EnableAlationAnalyticsV2.html"/>
        <link rel="prev" title="Alation Analytics V2" href="index.html"/>

	

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-67846571-1"></script>
	<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());

	gtag('config', 'UA-67846571-1');
	</script>

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<!-- Second Google Analytics tag to assist mapping with mattermost.com visits --> 
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-120238482-1"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'UA-120238482-1');
	</script>


</head>

<body class="wy-body-for-nav" role="document">

  <header>
    <div class="header__container wy-max-content-width">
        <a href="/" class="header__logo">
            <img width="176" src="../../_static/img/logo-alation.svg" alt="Alation" />
        </a>
        <ul class="header__links">
            <li><a href="https://help.alation.com/s/">Alation Help Center</a></li>
        </ul>
    </div>
</header>

  <div class="wy-grid-for-nav wy-max-content-width">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-scroll__content">
          <div class="wy-side-nav-search">
            

            <ul class="sidebartop">
              <li class="nolink search"><div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search this project" aria-label="Search this project" id="searchinput" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
</li>

            </ul>

            
          </div>

          <div class="wy-menu wy-sidebar wy-sidebar--hidden" data-spy="affix" role="navigation" aria-label="main navigation">
            
              
              
              
                  <p class="caption" role="heading"><span class="caption-text">Welcome to Alation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/About/index.html">About Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/CloudAndOnPrem/index.html">Alation Cloud and On-Premise</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/UserProfileandPreferences/index.html">User Profile and Preferences</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/CatalogBasics/index.html">Catalog Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/CatalogPages/index.html">Catalog Pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Conversations/index.html">Conversations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Domains/index.html">Domains</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/BestPractices/index.html">Best Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Glossary/index.html">Alation Glossary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation Cloud Service</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/StatusPage/index.html">Status Page</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/CloudOverview/index.html">Cloud Service Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/CloudConfiguration/index.html">Configuration for Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/AlationAgent/index.html">Alation Agent</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation Integration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../integration/AlationAnywhere/index.html">Alation Anywhere</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../integration/AlationConnectedSheets/index.html">Alation Connected Sheets</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installation &amp; Configuration</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../ServerInstallation/index.html">Install Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../HighAvailability/index.html">High Availability</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Update/index.html">Update Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../BackupandRestore/index.html">Back Up and Restore</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LineageV2/index.html">Lineage V2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LineageV3/index.html">Lineage V3</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Alation Analytics V2</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Transition from Alation Analytics V1 to Alation Analytics V2</a></li>
<li class="toctree-l2"><a class="reference internal" href="EnableAlationAnalyticsV2.html">Enable and Install Alation Analytics V2</a></li>
<li class="toctree-l2"><a class="reference internal" href="AccessToAlationAnalyticsV2.html">User Access to Alation Analytics V2</a></li>
<li class="toctree-l2"><a class="reference internal" href="Connect3rdPartyBIToolsToAAV2.html">Connect Third-Party BI Tools to Alation Analytics V2</a></li>
<li class="toctree-l2"><a class="reference internal" href="AlationAnalyticsV2ServerArchitecture.html">Alation Analytics V2 Server Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpdateAlationAnalyticsV2.html">Update Alation Analytics V2</a></li>
<li class="toctree-l2"><a class="reference internal" href="AlationAnalyticsV2ETL.html">Alation Analytics V2 ETL</a></li>
<li class="toctree-l2"><a class="reference internal" href="MaintainAlationAnalyticsV2.html">Maintain Alation Analytics V2</a></li>
<li class="toctree-l2"><a class="reference internal" href="ClearDataFromAlationAnalyticsV2.html">Clear the Data from the Alation Analytics V2 Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="BackupAndRestoreAlationAnalyticsV2.html">Alation Analytics V2 Backup and Restore</a></li>
<li class="toctree-l2"><a class="reference internal" href="RemoveAlationAnalyticsV2Source.html">Remove Alation Analytics V2 Data Source From the Catalog</a></li>
<li class="toctree-l2"><a class="reference internal" href="UninstallAlationAnalyticsV2.html">Uninstall Alation Analytics V2</a></li>
<li class="toctree-l2"><a class="reference internal" href="RemoveAlationAnalyticsV1Source.html">Remove Alation Analytics V1 Data Source From the Catalog</a></li>
<li class="toctree-l2"><a class="reference internal" href="AlationAnalyticsV2DatabaseModel.html">Alation Analytics V2 Database Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="EmbedExternalVisualizations.html">Embed External Visualizations</a></li>
<li class="toctree-l2"><a class="reference internal" href="AlationAnalyticsV2Dashboard.html">Alation Analytics V2 Dashboard</a></li>
<li class="toctree-l2"><a class="reference internal" href="AlationAnalyticsV2TopContributors.html">Alation Analytics Top Contributors Report</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../AlationContainerService/index.html">Alation Container Service</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../sources/CatalogSources/index.html">Catalog Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/VirtualDataSources/index.html">Virtual Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/Lineage/index.html">Lineage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/APIResources/index.html">API Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/WorkwithCatalogData/index.html">Working with Catalog Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/OpenConnectorFramework/index.html">Open Connector Framework</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Data Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/DSConfiguration/index.html">Data Source Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/AddDataSources/index.html">Adding Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/ComposeSSOAWSDataSources/index.html">Compose SSO for Amazon Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/ComposeSSOAzureDataSources/index.html">Compose SSO for Azure Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/AuthenticationForExtraction/index.html">Authentication for Extraction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/CustomDB/index.html">Custom DB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/GBQ/index.html">Google BigQuery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/Hive/index.html">Hive</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">BI Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/AddBISources/index.html">Add BI Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/AddTableauServer/index.html">Add Tableau Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/WorkwithBISources/index.html">Working with BI Sources</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">File System Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../filesystems/FileSystems/index.html">Add File Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../filesystems/VirtualFileSystems/index.html">Virtual File Systems</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Analysts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/UserAuthenticationForDataSources/index.html">User Authentication for Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/ShareAndAccessQueries/index.html">Share and Access Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/WriteQueries/index.html">Write Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/DevelopQueries/index.html">Develop Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/WorkwithQueryResults/index.html">Work with Query Results</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Data Stewards</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../steward/GovernanceApp/index.html">Governance App</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/PolicyCenter/index.html">Policy Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/Workflow/index.html">Workflow Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/GovernanceDashboard/index.html">Governance Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/StewardshipWorkbench/index.html">Stewardship Workbench</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/AnalyticsStewardship/index.html">Analytics Stewardship</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/Glossary/index.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/ArticlesAndTags/index.html">Articles and Tags</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/ArticleGroups/index.html">Article Groups</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/DataCatalogCustomization/index.html">Customize Your Data Catalog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/DataDocumentation/index.html">Data Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/AutoTitlingandLexicon/index.html">Auto-titling and Lexicon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/SnowflakeTags/index.html">Snowflake Tags</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Server Administrators</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../admins/CustomizableHomePage/index.html">Customizable Homepage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AdminSettings/index.html">Administrator Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AdditionalConfiguration/index.html">Additional Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/RunbookForAdministrators/index.html">Runbook for Administrators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AlationAPIs/index.html">Alation APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/How-tos/index.html">How-tos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/Troubleshooting/index.html">Troubleshooting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Release Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../releases/releasenotes/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/supportmatrices/index.html">Support Matrices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/endofsupport/index.html">End Of Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/snowflakeclladdon/index.html">Snowflake Parser Add-On</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/fieldnotices/index.html">Important Notices and Security Alerts</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Archived Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../archive/About/index.html">About the Documentation Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/AdminConfig/index.html">Administration and Update Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/ReleaseNotes/index.html">Release Notes Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/Usage/index.html">Usage and Customization Archive</a></li>
</ul>

              
            
          </div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="wy-nav-top-icon"></i>
        <a href="../../index.html">Alation User Guide</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">

          <div role="navigation" aria-label="breadcrumbs" class="breadcrumbs">
    <a href="../../index.html">Docs</a>
    <span class="separator">&gt;</span>
    <a href="index.html">Alation Analytics V2</a>
    <span class="separator">&gt;</span>
    <span>Transition from Alation Analytics V1 to Alation Analytics V2</span>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody" class="toBeIndexed">
            
  <section id="transition-from-alation-analytics-v1-to-alation-analytics-v2">
<h1>Transition from Alation Analytics V1 to Alation Analytics V2<a class="headerlink" href="#transition-from-alation-analytics-v1-to-alation-analytics-v2" title="Permalink to this headline">¶</a></h1>
<p class="on-prem-label hover-text">Customer Managed <span class="tooltip-text">Applies to customer-managed instances of Alation</span></p>
<p><em>Applies from release 2020.3</em></p>
<p>These guidelines are for the current Alation customers who are actively using the first version of Alation Analytics and would like to transition to Alation Analytics Version 2 (V2).</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>The first version of Alation Analytics - or Alation Analytics V1 - was released in <em>V R3 (5.6.x)</em>. The second version - Alation Analytics V2 - was released in 2020.3 to eventually supersede V1. Customers who have never enabled Alation Analytics in their Alation Catalog only have the <strong>V2</strong> option from 2020.3. Alation Analytics V1 is not available on new or upgraded 2020.3 instances by default.</p>
</div>
</div></blockquote>
<p>The recommended approach for transitioning from V1 to V2 is to first disable V1 and after that, enable and install V2. However, you can choose to enable and maintain both versions at the same time on condition that your Alation instance meets the average 30-day Alation Analytics ETL criterion.</p>
<p>Before you enable Alation Analytics V2 in parallel with Alation Analytics V1, please consider the recommendations given below. Creating a transition plan and laying out all the steps may be a good starting point. The plan can include the following items:</p>
<blockquote>
<div><ul>
<li><p>Availability of a Test/Dev environment</p></li>
<li><p>Decision on the type of transition:</p>
<blockquote>
<div><ul class="simple">
<li><p>First, disable Alation Analytics V1 and then enable Alation Analytics V2 as a consecutive step;</p></li>
<li><p>Both Alation Analytics V1 and V2 will co-exist in your Alation Catalog.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>ETL considerations for Alation Analytics V1</p></li>
<li><p>Review of system requirements and installation recommendations for Alation Analytics V2</p></li>
<li><p>Preparing a host based on the system requirements for Alation Analytics V2</p></li>
<li><p>Enabling the Alation Analytics V2 feature on the Alation instance</p></li>
<li><p>Installing Alation Analytics V2</p></li>
<li><p>Configuring the ETL process for V2 and V1</p></li>
<li><p>Decision on the next stage of the Alation Analytics V1 lifecycle</p></li>
<li><p>Moving to Alation Analytics V2 in Production</p></li>
</ul>
</div></blockquote>
<section id="use-of-dev-test-environment">
<h2>Use of Dev/Test Environment<a class="headerlink" href="#use-of-dev-test-environment" title="Permalink to this headline">¶</a></h2>
<p>Alation <strong>strongly recommends</strong> to begin the transition using a Dev/Test environment. For high confidence results, ensure that the Dev/Test environment is as close to Production as possible in terms of size of the Rosemeta database and the type and count of Catalog objects. Consider using a Production backup in this test environment.</p>
<p>Alation does not recommend installing on Production instances before you have tried the process out on a Dev/Test environment. High-volume, large Production instances may be at serious performance risk when both versions of the Alation Analytics database co-exist. If you choose to maintain both versions of Alation Analytics on the Production environment, it is recommended to keep this coexistence as short as possible.</p>
</section>
<section id="type-of-transition">
<h2>Type of Transition<a class="headerlink" href="#type-of-transition" title="Permalink to this headline">¶</a></h2>
<p>There are two possible scenarios for transitioning from Alation Analytics V1 to V2:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Replace V1 with V2;</p></li>
<li><p>Deploy and maintain both V1 and V2.</p></li>
</ol>
</div></blockquote>
<p><strong>REPLACE</strong></p>
<p>When your choice is scenario 1, then plan to first disable Alation Analytics V1 and after that, enable and install Alation Analytics V2.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>There is no data migration from Alation Analytics V1 to V2 because the V2 schema is different. The ETL for Alation Analytics V2 will load the data from the internal application database (Rosemeta), starting with earliest available data.</p>
</div>
</div></blockquote>
<p><strong>CO-EXISTENCE OF V1 AND V2</strong></p>
<p>If you wish to enable and maintain both Alation Analytics versions for the same Alation instance, please consider your current Alation Analytics 30-day ETL average to establish the possibility of both versions coexisting. See <a class="reference internal" href="#alation-analytics-v1-etl-considerations">Alation Analytics V1 ETL Considerations</a>.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you have never enabled Alation Analytics on your instance before release 2020.3, Alation Analytics V2 is the only available option. Please use the installation instructions to enable and install V2: <a class="reference internal" href="EnableAlationAnalyticsV2.html"><span class="doc">Enable and Install Alation Analytics V2</span></a>.</p>
</div>
</div></blockquote>
</section>
<section id="alation-analytics-v1-etl-considerations">
<h2>Alation Analytics V1 ETL Considerations<a class="headerlink" href="#alation-analytics-v1-etl-considerations" title="Permalink to this headline">¶</a></h2>
<p>When Alation Analytics V1 and V2 co-exist, they both run the ETL process against Rosemeta. For the sake of stable Rosemeta performance, you need to make sure that these ETL processes do not overlap. Concurrent ETL processes originating from Alation Analytics V1 and V2 may cause noticeable Rosemeta performance degradation when both run in parallel.</p>
<p>Consider the Alation Analytics V1 30-day ETL average value in order to establish the possibility of V1 and V2 co-existence for your Alation instance. The ETL average is the average duration of the Alation Analytics V1 ETL for 30 consecutive days.</p>
<p>If your current Alation Analytics V1 30-day ETL average is more than 4 hours - which is the default threshold, - Alation does not recommend enabling and maintaining V1 and V2 at the same time. The default ETL threshold should be the deciding factor for co-existence of Alation Analytics V1 and V2.</p>
<section id="determine-your-alation-analytics-v1-30-day-etl-average">
<h3>Determine Your Alation Analytics V1 30-day ETL Average<a class="headerlink" href="#determine-your-alation-analytics-v1-30-day-etl-average" title="Permalink to this headline">¶</a></h3>
<p><em>Requires access to the Alation Postgres shell</em></p>
<p>From the Alation Postgres shell, run the query given below against Rosemeta to find out your 30-day ETL average value.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Rosemeta is the underlying Alation PostgreSQL database. The Alation application depends on the health of Rosemeta. Please use caution when querying this database and always follow specific guidelines.</p>
</div>
<ol class="arabic">
<li><p>Access the Alation shell:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>/etc/init.d/alation<span class="w"> </span>shell
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Enter the Alation Postgres shell:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>alation_psql
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Run the following query:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>SELECT<span class="w"> </span>avg<span class="o">(</span>extract<span class="o">(</span>epoch<span class="w"> </span>FROM<span class="w"> </span><span class="o">(</span>ts_finished<span class="w"> </span>-<span class="w"> </span>ts_started<span class="o">)))</span>
<span class="w">  </span>FROM<span class="w"> </span>jobs_job
<span class="w">    </span>WHERE<span class="w"> </span><span class="nv">job_type</span><span class="o">=</span><span class="m">8</span><span class="w"> </span>AND<span class="w"> </span><span class="nv">status</span><span class="o">=</span><span class="m">1</span><span class="w"> </span>AND<span class="w"> </span><span class="nv">state</span><span class="o">=</span><span class="m">3</span><span class="w"> </span>AND<span class="w"> </span>ts_started::date<span class="w"> </span>&gt;<span class="o">=</span><span class="w"> </span>CURRENT_DATE<span class="w"> </span>-<span class="w"> </span>INTERVAL<span class="w"> </span><span class="s1">&#39;30 DAYS&#39;</span><span class="p">;</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>To exit: <code class="docutils literal notranslate"><span class="pre">\q</span></code>.</p></li>
</ol>
<p>The query result is <strong>in seconds</strong>. If as the result of this query you find that the 30-day average ETL for Alation Analytics V1 exceeds 4 hours (14400 seconds), please consider a staged approach when you first disable Alation Analytics V1 and after that, enable and install Alation Analytics V2. <strong>Alation does not recommend to maintain both Alation Analytics versions at the same time if the 30-day ETL average exceeds 4 hours</strong>.</p>
<p>However, the 4-hour threshold allows for a certain margin to exist. If your 30-day average ETL value is <strong>not greater than 6 hours</strong> (21600 seconds), you can still choose to proceed to enable both V1 and V2 for your Alation instance. Note that in this case you will need to manually modify the average ETL threshold in <strong>alation_conf</strong> (see <a class="reference internal" href="#display-alation-analytics-v2-feature-switch">Display Alation Analytics V2 Feature Switch</a> below).</p>
<p>If your 30-day ETL average exceeds 6 hours, Alation does not recommend attempting to maintain both Alation Analytics versions at the same time as this may cause serious Rosemeta performance issues. Please use a staged approach when you first disable Alation Analytics V1 and then enable and install V2.</p>
</section>
</section>
<section id="types-of-installation">
<h2>Types of Installation<a class="headerlink" href="#types-of-installation" title="Permalink to this headline">¶</a></h2>
<p>Unlike the first version of Alation Analytics, Alation Analytics V2 requires a separate installation and can be installed in either way:</p>
<blockquote>
<div><ul class="simple">
<li><p>On a separate host (<strong>recommended</strong>)</p></li>
<li><p>On the same host with the Alation application (not applicable when V1 and V2 co-exist)</p></li>
</ul>
</div></blockquote>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Alation <strong>strongly recommends</strong> to install Alation Analytics V2 on a separate host if you plan for both Alation Analytics versions to co-exist.</p>
</div>
</section>
<section id="get-started-with-alation-analytics-v2">
<h2>Get Started with Alation Analytics V2<a class="headerlink" href="#get-started-with-alation-analytics-v2" title="Permalink to this headline">¶</a></h2>
<section id="prepare-a-host">
<h3>Prepare a Host<a class="headerlink" href="#prepare-a-host" title="Permalink to this headline">¶</a></h3>
<p>Follow the recommendations <a class="reference internal" href="EnableAlationAnalyticsV2.html#prepare-the-host"><span class="std std-ref">to prepare the host</span></a>.</p>
</section>
<section id="display-alation-analytics-v2-feature-switch">
<h3>Display Alation Analytics V2 Feature Switch<a class="headerlink" href="#display-alation-analytics-v2-feature-switch" title="Permalink to this headline">¶</a></h3>
<p>When Alation Analytics V1 is still enabled on an instance, the Alation Analytics V2 feature is not available in <strong>Admin Settings &gt; Labs/Feature Configuration</strong>. In this case, the Alation Analytics V2 feature switch can be revealed using the dedicated <strong>alation_conf</strong> command.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <strong>Labs</strong> page was renamed to <strong>Feature Configuration</strong> in 2021.1</p>
</div>
</div></blockquote>
<p>At this point, you need to decide if you would also like to modify the ETL threshold value for your instance.</p>
<p>You do NOT need to change the ETL threshold value if:</p>
<blockquote>
<div><ul class="simple">
<li><p>you would like to maintain both V1 and V2 at the same time, and you have established that the average 30-day ETL value is below 4 hours.</p></li>
</ul>
</div></blockquote>
<p>You need to modify this threshold if:</p>
<blockquote>
<div><ul class="simple">
<li><p>you would like to maintain both V1 and V2 at the same time, and you have established that the average 30-day ETL value is <strong>between 4 and 6 hours</strong>.</p></li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the average 30-day ETL value on your instance is more than 6 hours, Alation does not recommend enabling V2 while V1 remains active.</p>
</div>
<p>To enable Alation Analytics V2 simultaneously with V1:</p>
<ol class="arabic">
<li><p>Enter the Alation shell:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>/etc/init.d/alation<span class="w"> </span>shell
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Set the following <strong>alation_conf</strong> value to <code class="docutils literal notranslate"><span class="pre">True</span></code>:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>alation_conf<span class="w"> </span>alation_analytics-v2.enable_simulataneous_v1_and_v2.enabled<span class="w"> </span>-s<span class="w"> </span>True
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Review, and if necessary, modify the ETL threshold value:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>alation_conf<span class="w"> </span>alation_analytics-v2.enable_simulataneous_v1_and_v2.aav1_etl_threshold<span class="w"> </span>-s<span class="w"> </span>&lt;hours&gt;
</pre></div>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>The ETL threshold parameter is used to ensure that when both V1 and V2 are enabled, the two ETL processes do not overlap resulting in Rosemeta performance issues. The threshold value may be changed on a case by case basis. Use your best judgment considering such factors as the current Alation Analytics V1 average ETL time, available server resources (memory, CPU, disk space) when changing this value.</p>
</div>
</div></blockquote>
</li>
<li><p>Restart Supervisor:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>alation_supervisor<span class="w"> </span>restart<span class="w"> </span>all
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>In the Alation UI, go to <strong>Admin Settings &gt; Labs/Feature Configuration</strong> and turn on the toggle <strong>Alation Analytics V2 - Understand the Alation usage patterns at your organization</strong>. Save the changes.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>There may be a situation when after performing these steps, the feature toggle for Alation Analytics V2 does not appear in <strong>Admin Settings &gt; Labs/Feature Configuration</strong> in the Alation UI. This happens when the average 30-days ETL value calculated on the Rosemeta exceeds the value of the parameter <code class="docutils literal notranslate"><span class="pre">alation_analytics-v2.enable_simulataneous_v1_and_v2.aav1_etl_threshold</span></code>. Alation calculates the average 30-day ETL value for Alation Analytics V1 automatically after the parameter <code class="docutils literal notranslate"><span class="pre">alation_analytics-v2.enable_simulataneous_v1_and_v2.enabled</span></code> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>. In such a case, verify the threshold value you have set.</p>
</div>
</div></blockquote>
</li>
</ol>
</section>
<section id="install-alation-analytics-v2">
<h3>Install Alation Analytics V2<a class="headerlink" href="#install-alation-analytics-v2" title="Permalink to this headline">¶</a></h3>
<p>After the Alation Analytics V2 feature has been enabled on the instance, install the Alation Analytics V2 database following the installation instructions: <a class="reference internal" href="EnableAlationAnalyticsV2.html"><span class="doc">Enable and Install Alation Analytics V2</span></a>.</p>
<p>After installation, configure the ETL parameters to best suit your organization’s needs.</p>
</section>
</section>
<section id="etl-recommendations">
<h2>ETL Recommendations<a class="headerlink" href="#etl-recommendations" title="Permalink to this headline">¶</a></h2>
<p>There are a number of parameters in <strong>alation_conf</strong> that control the ETL process for Alation Analytics V2: <a class="reference internal" href="AlationAnalyticsV2ETL.html"><span class="doc">Alation Analytics V2 ETL</span></a>.</p>
<p>Please consider the following:</p>
<ol class="arabic">
<li><p>The initial ETL is likely to run more than once until your data is up to date in the Alation Analytics V2. By default, every ETL run extracts 180 days of data. Every incremental run will extract 180 days of data from the previous run. This time period is set with the Alation configuration parameter <code class="docutils literal notranslate"><span class="pre">alation_analytics-v2.extract.time_period</span> <span class="pre">=</span> <span class="pre">180</span></code> in <strong>alation_conf</strong>. If you have a lot of data, Alation recommends reducing this to 90, 60 or even 30 days for better performance.</p></li>
<li><p>By default, ETL for V2 is scheduled to run daily. If possible, schedule it so that it does not run at the same time with the V1 ETL. To display the current ETL schedules, from the Alation shell, run:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">alation_conf</span> <span class="pre">alation_analytics.etl</span></code> - to print the schedule parameters for V 1;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">alation_conf</span> <span class="pre">alation_analytics-v2.etl</span></code> - to print the schedule parameters for V 2.</p></li>
</ul>
</div></blockquote>
</li>
</ol>
<p>You can set these schedules to be on different days to ensure they do not overlap.</p>
</section>
<section id="alation-analytics-v1-next-steps">
<h2>Alation Analytics V1: Next Steps<a class="headerlink" href="#alation-analytics-v1-next-steps" title="Permalink to this headline">¶</a></h2>
<section id="disable-the-alation-analytics-v1-feature">
<h3>Disable the Alation Analytics V1 Feature<a class="headerlink" href="#disable-the-alation-analytics-v1-feature" title="Permalink to this headline">¶</a></h3>
<p><em>Applies to release 2020.3</em></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you are on release 2020.4, please refer to the next section <a class="reference internal" href="#remove-the-alation-analytics-v1-data-source">Remove the Alation Analytics V1 Data Source</a>. The steps to disable and remove the Alation Analytics V1 data source are different for 2020.4.</p>
</div>
<p>Alation Analytics V1 can be disabled in either of the following cases:</p>
<blockquote>
<div><ul class="simple">
<li><p>You are NOT going to maintain both versions of Alation Analytics at the same time and wish to replace V1 with V2;</p></li>
<li><p>You have maintained both versions for a while and now wish to fully transition to V2 and remove V1.</p></li>
</ul>
</div></blockquote>
<p>In 2020.3, the Alation Analytics V1 feature can be disabled in <strong>Labs</strong>. This disables the ETL, but the Alation Analytics V1 <strong>data source</strong> will not be deleted from the Alation application. Please consider flagging the remaining data source as “Deprecated” after you turn off the feature flag. Note that the ability to remove the Alation Analytics V1 data source from the Catalog is added in release 2020.4.</p>
<p>To disable Alation Analytics V1:</p>
<p>In <strong>Admin Settings &gt; Labs</strong>, turn off the flag <strong>Alation Analytics - Understand the Alation usage patterns at your organization</strong>. This disables Alation Analytics V1 ETL and reveals the toggle to enable Alation Analytics V2 if it has not been force-enabled previously using the <strong>alation_conf</strong> command.</p>
<p>Disabling the Alation Analytics V1 feature flag does not remove the Alation Analytics V1 <strong>database</strong> from the Alation application. See <a class="reference internal" href="#clean-up-the-alation-analytics-v1-database">Clean Up the Alation Analytics V1 Database</a>.</p>
</section>
<section id="remove-the-alation-analytics-v1-data-source">
<h3>Remove the Alation Analytics V1 Data Source<a class="headerlink" href="#remove-the-alation-analytics-v1-data-source" title="Permalink to this headline">¶</a></h3>
<p><em>Applies from release 2020.4</em></p>
<p>From 2020.4, you can remove the Alation Analytics V1 data source from Alation completely. This can be done when you have fully transitioned to Alation Analytics V2 and no longer use the old source. Please refer to <a class="reference internal" href="RemoveAlationAnalyticsV1Source.html"><span class="doc">Remove Alation Analytics V1 Data Source From the Catalog</span></a> for details.</p>
</section>
<section id="clean-up-the-alation-analytics-v1-database">
<h3>Clean Up the Alation Analytics V1 Database<a class="headerlink" href="#clean-up-the-alation-analytics-v1-database" title="Permalink to this headline">¶</a></h3>
<p>After you have disabled Alation Analytics V1 feature in Alation, decide on the next steps for the Alation Analytics V1 database.</p>
<section id="keep-as-is">
<h4>Keep As Is<a class="headerlink" href="#keep-as-is" title="Permalink to this headline">¶</a></h4>
<p>You can choose to leave the V1 database on the Alation host as is. The existing Alation Analytics V1 reports and queries will continue to work. However, there will be no new ETL and no new usage data will be added after the Alation Analytics V1 feature is disabled.</p>
</section>
<section id="archive-and-or-drop">
<h4>Archive and/or Drop<a class="headerlink" href="#archive-and-or-drop" title="Permalink to this headline">¶</a></h4>
<p>In deciding on the next stage in the lifecycle of the Alation Analytics V1 <strong>database</strong>, refer to your company’s policy concerning data archiving. This PostgreSQL database can be backed up, archived, and restored on a separate server on demand. Alternatively, it can be dropped based on your company’s policy concerning the cleanup of redundant data.</p>
<p>To delete the Alation Analytics V1 <strong>database</strong> from the host, please create a ticket for Alation Support with the following subject: <strong>Assist in removing Alation Analytics V1 database</strong>.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Release 2020.3 Only</strong>: The Alation Analytics V1 <strong>data source</strong> cannot be removed from the Alation Catalog. This means that when the underlying Alation Analytics V1 <strong>database</strong> is dropped, the corresponding data source will still remain in Alation, although it will not be functional. When the Alation Analytics V1 <strong>database</strong> is dropped, please also disable the Alation Analytics V1 feature in <strong>Labs</strong> and consider flagging the leftover source as <strong>Deprecated</strong>.</p>
</div>
</div></blockquote>
</section>
</section>
</section>
</section>


           </div>
          </div>
          <footer>

  
<div class="navigation-bar">

    <div class="navigation navigation--prev">
        
        <a class="navigation__link" href="index.html">
            <button class="navigation__button">
                <i class="icon icon-left"></i>
            </button>
            <div class="navigation__title">
                <span class="heading">Previous</span> <br />Alation Analytics V2
            </div>
        </a>
        
    </div>

    <div class="navigation navigation--next">
        
        <a class="navigation__link" title="Accesskey Alt(+Shift)+p" accesskey="p" href="EnableAlationAnalyticsV2.html">
            <div class="navigation__title">
                <span class="heading">Next</span> <br />Enable and Install Alation Analytics V2
            </div>
            <button class="navigation__button" title="Accesskey Alt(+Shift)+n" accesskey="n">
                <i class="icon icon-right"></i>
            </button>
        </a>
        
    </div>

</div>


</footer>

        </div>
      </div>

    </section>

    <div class="wy-nav-side wy-nav-secondary">
      <div class="wy-side-scroll">
        <div class="wy-side-scroll__content">
          <div class="wy-menu-secondary">
              <div class="comments">
    <a href="mailto:no-reply-docs-feedback@alation.com?subject=Documentation Feedback on installconfig/AlationAnalyticsV2/TransitionV1ToV2&body=Alation%20welcomes%20your%20comments%20on%20typos,%20content%20accuracy%20and%20completeness,%20and%20whether%20you%20found%20this%20page%20helpful.%20You%20will%20not%20receive%20a%20reply%20to%20this%20email.">
        <i class="icon icon-envelope" aria-hidden="true"></i>Request docs changes
    </a>
    <a href="#open-modal-pdf">
        <i class="icon icon-pdf" aria-hidden="true"></i>Download PDF
    </a>
</div>
              
                <p class="wy-menu-secondary-header">On this page</p>
                <ul>
<li><a class="reference internal" href="#">Transition from Alation Analytics V1 to Alation Analytics V2</a><ul>
<li><a class="reference internal" href="#use-of-dev-test-environment">Use of Dev/Test Environment</a></li>
<li><a class="reference internal" href="#type-of-transition">Type of Transition</a></li>
<li><a class="reference internal" href="#alation-analytics-v1-etl-considerations">Alation Analytics V1 ETL Considerations</a><ul>
<li><a class="reference internal" href="#determine-your-alation-analytics-v1-30-day-etl-average">Determine Your Alation Analytics V1 30-day ETL Average</a></li>
</ul>
</li>
<li><a class="reference internal" href="#types-of-installation">Types of Installation</a></li>
<li><a class="reference internal" href="#get-started-with-alation-analytics-v2">Get Started with Alation Analytics V2</a><ul>
<li><a class="reference internal" href="#prepare-a-host">Prepare a Host</a></li>
<li><a class="reference internal" href="#display-alation-analytics-v2-feature-switch">Display Alation Analytics V2 Feature Switch</a></li>
<li><a class="reference internal" href="#install-alation-analytics-v2">Install Alation Analytics V2</a></li>
</ul>
</li>
<li><a class="reference internal" href="#etl-recommendations">ETL Recommendations</a></li>
<li><a class="reference internal" href="#alation-analytics-v1-next-steps">Alation Analytics V1: Next Steps</a><ul>
<li><a class="reference internal" href="#disable-the-alation-analytics-v1-feature">Disable the Alation Analytics V1 Feature</a></li>
<li><a class="reference internal" href="#remove-the-alation-analytics-v1-data-source">Remove the Alation Analytics V1 Data Source</a></li>
<li><a class="reference internal" href="#clean-up-the-alation-analytics-v1-database">Clean Up the Alation Analytics V1 Database</a><ul>
<li><a class="reference internal" href="#keep-as-is">Keep As Is</a></li>
<li><a class="reference internal" href="#archive-and-or-drop">Archive and/or Drop</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

              
            </div>
          </div>
      </div>
    </div>

  </div>

  
  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->

  
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/clipboard.min.js"></script>
      <script type="text/javascript" src="../../_static/copybutton.js"></script>
      <script type="text/javascript" src="../../_static/js/rtd_sphinx_search.min.js"></script>
  
  <script type="text/javascript" src="../../_static/searchtools.js"></script> <script type="text/javascript" id="idPiwikScriptPlaceholder"></script><script type="text/javascript" src="../../_static/js/main.bundle.js"></script>
  <script type="text/javascript" src="../../_static/js/runtime.bundle.js"></script>

  
  

  
    <div id="open-modal-pdf" class="modal-window">
<div>
  <a href="#" title="Close" class="modal-close">Close</a>
  <h4>Alation Documentation PDF</h4>
  <p>This PDF contains all our documentation and is more than <b>120 MB</b> in size. We recommend using an ethernet or Wi-Fi connection for downloading.</p>
  <br>
  <div class="modal-buttons">
    <a href="https://pdf-docs.alation.com/AlationUserDocs.pdf" class="btn-cta btn-cta--primary" target="_blank">
      Download PDF
    </a>
    <a href="#" title="Close" class="btn-cta">Cancel</a>
  </div>
</div>
  

</body>
</html>
<!--3.6.17-->