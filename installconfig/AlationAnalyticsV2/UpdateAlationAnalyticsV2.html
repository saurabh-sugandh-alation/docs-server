
<!DOCTYPE html>
<html lang="" >
<head>
  <meta charset="utf-8"/>
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="book-version"      content=""/>
  <meta name="book-release"      content=""/>
  <meta name="docsearch:name"    content="Alation User Guide" />
  <meta name="docsearch:version" content="" />
  <meta name="docsearch:package_type" content="" />
	<meta name="robots" content="noindex" />

  
  <title>Update Alation Analytics V2 &mdash; Alation User Guide</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  

  

  
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/main.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/sphinx_collapse.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/rtd_sphinx_search.min.css" type="text/css" />
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="Alation User Guide" href="#"/>
        <link rel="up" title="Alation Analytics V2" href="index.html"/>
        <link rel="next" title="Alation Analytics V2 ETL" href="AlationAnalyticsV2ETL.html"/>
        <link rel="prev" title="Alation Analytics V2 Server Architecture" href="AlationAnalyticsV2ServerArchitecture.html"/>

	

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-67846571-1"></script>
	<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());

	gtag('config', 'UA-67846571-1');
	</script>

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<!-- Second Google Analytics tag to assist mapping with mattermost.com visits --> 
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-120238482-1"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'UA-120238482-1');
	</script>


</head>

<body class="wy-body-for-nav" role="document">

  <header>
    <div class="header__container wy-max-content-width">
        <a href="/" class="header__logo">
            <img width="176" src="../../_static/img/logo-alation.svg" alt="Alation" />
        </a>
        <ul class="header__links">
            <li><a href="https://help.alation.com/s/">Alation Help Center</a></li>
        </ul>
    </div>
</header>

  <div class="wy-grid-for-nav wy-max-content-width">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-scroll__content">
          <div class="wy-side-nav-search">
            

            <ul class="sidebartop">
              <li class="nolink search"><div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search this project" aria-label="Search this project" id="searchinput" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
</li>

            </ul>

            
          </div>

          <div class="wy-menu wy-sidebar wy-sidebar--hidden" data-spy="affix" role="navigation" aria-label="main navigation">
            
              
              
              
                  <p class="caption" role="heading"><span class="caption-text">Welcome to Alation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/About/index.html">About Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/CloudAndOnPrem/index.html">Alation Cloud and On-Premise</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/UserProfileandPreferences/index.html">User Profile and Preferences</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/CatalogBasics/index.html">Catalog Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/CatalogPages/index.html">Catalog Pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Conversations/index.html">Conversations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Domains/index.html">Domains</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/BestPractices/index.html">Best Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Glossary/index.html">Alation Glossary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation Cloud Service</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/StatusPage/index.html">Status Page</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/CloudOverview/index.html">Cloud Service Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/CloudConfiguration/index.html">Configuration for Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/AlationAgent/index.html">Alation Agent</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation Integration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../integration/AlationAnywhere/index.html">Alation Anywhere</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../integration/AlationConnectedSheets/index.html">Alation Connected Sheets</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installation &amp; Configuration</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../ServerInstallation/index.html">Install Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../HighAvailability/index.html">High Availability</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Update/index.html">Update Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../BackupandRestore/index.html">Back Up and Restore</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LineageV2/index.html">Lineage V2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LineageV3/index.html">Lineage V3</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Alation Analytics V2</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="TransitionV1ToV2.html">Transition from Alation Analytics V1 to Alation Analytics V2</a></li>
<li class="toctree-l2"><a class="reference internal" href="EnableAlationAnalyticsV2.html">Enable and Install Alation Analytics V2</a></li>
<li class="toctree-l2"><a class="reference internal" href="AccessToAlationAnalyticsV2.html">User Access to Alation Analytics V2</a></li>
<li class="toctree-l2"><a class="reference internal" href="Connect3rdPartyBIToolsToAAV2.html">Connect Third-Party BI Tools to Alation Analytics V2</a></li>
<li class="toctree-l2"><a class="reference internal" href="AlationAnalyticsV2ServerArchitecture.html">Alation Analytics V2 Server Architecture</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Update Alation Analytics V2</a></li>
<li class="toctree-l2"><a class="reference internal" href="AlationAnalyticsV2ETL.html">Alation Analytics V2 ETL</a></li>
<li class="toctree-l2"><a class="reference internal" href="MaintainAlationAnalyticsV2.html">Maintain Alation Analytics V2</a></li>
<li class="toctree-l2"><a class="reference internal" href="ClearDataFromAlationAnalyticsV2.html">Clear the Data from the Alation Analytics V2 Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="BackupAndRestoreAlationAnalyticsV2.html">Alation Analytics V2 Backup and Restore</a></li>
<li class="toctree-l2"><a class="reference internal" href="RemoveAlationAnalyticsV2Source.html">Remove Alation Analytics V2 Data Source From the Catalog</a></li>
<li class="toctree-l2"><a class="reference internal" href="UninstallAlationAnalyticsV2.html">Uninstall Alation Analytics V2</a></li>
<li class="toctree-l2"><a class="reference internal" href="RemoveAlationAnalyticsV1Source.html">Remove Alation Analytics V1 Data Source From the Catalog</a></li>
<li class="toctree-l2"><a class="reference internal" href="AlationAnalyticsV2DatabaseModel.html">Alation Analytics V2 Database Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="EmbedExternalVisualizations.html">Embed External Visualizations</a></li>
<li class="toctree-l2"><a class="reference internal" href="AlationAnalyticsV2Dashboard.html">Alation Analytics V2 Dashboard</a></li>
<li class="toctree-l2"><a class="reference internal" href="AlationAnalyticsV2TopContributors.html">Alation Analytics Top Contributors Report</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../AlationContainerService/index.html">Alation Container Service</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../sources/CatalogSources/index.html">Catalog Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/VirtualDataSources/index.html">Virtual Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/Lineage/index.html">Lineage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/APIResources/index.html">API Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/WorkwithCatalogData/index.html">Working with Catalog Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/OpenConnectorFramework/index.html">Open Connector Framework</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Data Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/DSConfiguration/index.html">Data Source Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/AddDataSources/index.html">Adding Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/ComposeSSOAWSDataSources/index.html">Compose SSO for Amazon Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/ComposeSSOAzureDataSources/index.html">Compose SSO for Azure Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/AuthenticationForExtraction/index.html">Authentication for Extraction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/CustomDB/index.html">Custom DB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/GBQ/index.html">Google BigQuery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/Hive/index.html">Hive</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">BI Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/AddBISources/index.html">Add BI Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/AddTableauServer/index.html">Add Tableau Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/WorkwithBISources/index.html">Working with BI Sources</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">File System Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../filesystems/FileSystems/index.html">Add File Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../filesystems/VirtualFileSystems/index.html">Virtual File Systems</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Analysts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/UserAuthenticationForDataSources/index.html">User Authentication for Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/ShareAndAccessQueries/index.html">Share and Access Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/WriteQueries/index.html">Write Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/DevelopQueries/index.html">Develop Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/WorkwithQueryResults/index.html">Work with Query Results</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Data Stewards</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../steward/GovernanceApp/index.html">Governance App</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/PolicyCenter/index.html">Policy Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/Workflow/index.html">Workflow Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/GovernanceDashboard/index.html">Governance Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/StewardshipWorkbench/index.html">Stewardship Workbench</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/AnalyticsStewardship/index.html">Analytics Stewardship</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/Glossary/index.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/ArticlesAndTags/index.html">Articles and Tags</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/ArticleGroups/index.html">Article Groups</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/DataCatalogCustomization/index.html">Customize Your Data Catalog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/DataDocumentation/index.html">Data Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/AutoTitlingandLexicon/index.html">Auto-titling and Lexicon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/SnowflakeTags/index.html">Snowflake Tags</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Server Administrators</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../admins/CustomizableHomePage/index.html">Customizable Homepage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AdminSettings/index.html">Administrator Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AdditionalConfiguration/index.html">Additional Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/RunbookForAdministrators/index.html">Runbook for Administrators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AlationAPIs/index.html">Alation APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/How-tos/index.html">How-tos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/Troubleshooting/index.html">Troubleshooting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Release Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../releases/releasenotes/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/supportmatrices/index.html">Support Matrices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/endofsupport/index.html">End Of Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/snowflakeclladdon/index.html">Snowflake Parser Add-On</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/fieldnotices/index.html">Important Notices and Security Alerts</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Archived Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../archive/About/index.html">About the Documentation Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/AdminConfig/index.html">Administration and Update Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/ReleaseNotes/index.html">Release Notes Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/Usage/index.html">Usage and Customization Archive</a></li>
</ul>

              
            
          </div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="wy-nav-top-icon"></i>
        <a href="../../index.html">Alation User Guide</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">

          <div role="navigation" aria-label="breadcrumbs" class="breadcrumbs">
    <a href="../../index.html">Docs</a>
    <span class="separator">&gt;</span>
    <a href="index.html">Alation Analytics V2</a>
    <span class="separator">&gt;</span>
    <span>Update Alation Analytics V2</span>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody" class="toBeIndexed">
            
  <section id="update-alation-analytics-v2">
<h1>Update Alation Analytics V2<a class="headerlink" href="#update-alation-analytics-v2" title="Permalink to this headline">¶</a></h1>
<p class="on-prem-label hover-text">Customer Managed <span class="tooltip-text">Applies to customer-managed instances of Alation</span></p>
<p><em>Available from release 2020.4</em></p>
<p>The steps below require the role of the <em>Server Admin</em>.</p>
<p>A newer Alation release may include changes and improvements for the Alation Analytics V2 components. In such a case, after updating the Alation Catalog to the new release, update Alation Analytics V2 to the latest compatible version.</p>
<p>Note that when the Alation Analytics V2 version becomes outdated after the Alation Catalog update, the ETL from Rosemeta is stopped until the Alation Analytics V2 components are updated to the latest compatible version.</p>
<section id="how-do-i-know-if-there-is-an-update-for-alation-analytics-v2">
<h2>How Do I Know if There is an Update for Alation Analytics V2?<a class="headerlink" href="#how-do-i-know-if-there-is-an-update-for-alation-analytics-v2" title="Permalink to this headline">¶</a></h2>
<p>After updating the Alation Catalog to a newer version, check the Alation Analytics V2 Settings page in <strong>Admin Settings</strong> &gt; <strong>Alation Analytics</strong>. If a newer version of Alation Analytics V2 is available, you will see a warning message that  Alation Analytics V2 requires an update: “Your Alation Analytics Version is Outdated”.</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/AAV2_13.png"><img alt="../../_images/AAV2_13.png" src="../../_images/AAV2_13.png" style="width: 400px;" /></a>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the Alation Analytics V2 version becomes outdated, Server Admins will also receive an email notification that it requires an update when the next scheduled Alation Analytics V2 ETL is attempted by Alation.</p>
</div>
</section>
<section id="steps-to-update-alation-analytics-v2">
<h2>Steps to Update Alation Analytics V2<a class="headerlink" href="#steps-to-update-alation-analytics-v2" title="Permalink to this headline">¶</a></h2>
<p>Each Alation release comes bundled with a compatible Alation Analytics V2 package which also includes the update files. To update Alation Analytics, download the new Alation Analytics V2 bundle and then run the Alation Analytics V2 installer with the <code class="docutils literal notranslate"><span class="pre">update</span></code> option.</p>
<p>Starting from version 2021.3, Alation Analytics V2 installer supports assigning a user to own the Alation Analytics V2 directories, config file, and logs. In earlier versions, the ownership was assigned to the <code class="docutils literal notranslate"><span class="pre">root</span></code> user by default. Now, it can be assigned to any user on the Alation Analytics V2 host.</p>
<p>Assigning ownership to a user other than the default <code class="docutils literal notranslate"><span class="pre">root</span></code> is an explicit choice. It can be done when the username flag <code class="docutils literal notranslate"><span class="pre">-w</span></code> is passed with the installer commands.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>The user who is assigned Alation Analytics V2 ownership will have access to:</p>
<blockquote>
<div><ul class="simple">
<li><p>The Alation Analytics V2 installation directory and all its subdirectories except the Postgres data directory (default: <strong>/opt/alation-analytics</strong>)</p></li>
<li><p>The environment file <strong>/etc/default/alation-analytics</strong></p></li>
<li><p>The logs directory <strong>/var/log/alation-analytics</strong></p></li>
<li><p>Permissions to run the <code class="docutils literal notranslate"><span class="pre">docker</span></code> commands such as <code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">ps</span></code> or <code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">logs</span></code>.</p></li>
</ul>
</div></blockquote>
</div>
</div></blockquote>
<p>Follow the steps below to update your Alation Analytics V2 components:</p>
<ol class="arabic">
<li><p>Open a Terminal window and SSH to your Alation Analytics V2 host.</p></li>
<li><p>Create a temporary directory, for example, <strong>tmp/update-analytics</strong>:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>mkdir<span class="w"> </span>/tmp/update-analytics
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Do not use the installation directory <strong>/opt/alation-analytics/</strong> to create a temporary directory and extract the update package. Create a custom temporary directory that is located elsewhere and not at <strong>/opt/alation-analytics/</strong>.</p>
</div>
</div></blockquote>
</li>
<li><p>In your browser, log in to the Alation Catalog and go to <strong>Admin Settings</strong> &gt; <strong>Alation Analytics</strong>. There will be a warning message on top of the page when Alation Analytics V2 requires an update.</p></li>
<li><p>In <strong>step 1</strong> of the installation instructions on the Settings page, copy the Curl command for downloading the newer version and paste it into the Terminal window that is already SSH’ed into the Alation Analytics V2 host.</p></li>
<li><p>Untar the downloaded Alation Analytics V2 .tar file into the temporary directory that you created in the previous step:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>tar<span class="w"> </span>-C<span class="w"> </span>/tmp/update-analytics<span class="w"> </span>-xzf<span class="w"> </span>./alation-analytics-&lt;version&gt;.tar
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Determine whether you need to use one of the available installation flags:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 6%" />
<col style="width: 94%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Flag</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-w</span></code></p></td>
<td><p><em>Available in 2021.3 and newer</em></p>
<p>Lets you specify which system user will own the installed files, configs, and logs.</p>
<p>Without this flag, ownership will be assigned to the root user.</p>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-b</span></code></p></td>
<td><p><em>Available in 2023.1.4 and newer</em></p>
<p>Traffic to the Postgres and RabbitMQ containers will be bound to a specific IP address. The address will be stored in
<strong>/etc/default/alation-analytics.env</strong>.</p>
<p>Without this flag, the Postgres and RabbitMQ containers are exposed on all network interfaces (0.0.0.0) in the host.</p>
</td>
</tr>
</tbody>
</table>
</li>
<li><p>Run the installer script with the update flag <code class="docutils literal notranslate"><span class="pre">-u</span></code> to update Alation Analytics V2. Run the installer as the root user (if you installed rootless Docker during the original installation) or using sudo. The installer stops the current Alation Analytics V2 Docker containers and Alation Analytics Manager, removes the outdated images from Docker, moves the contents of the new images and Manager to the installation directory, and registers and starts the new images and Manager.</p>
<blockquote>
<div><ul>
<li><p>To update with no additional flags:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>/tmp/update-analytics/alation-analytics-&lt;version&gt;/alation-analytics-installer-&lt;version&gt;<span class="w"> </span>-u
</pre></div>
</div>
<p><strong>Example</strong>:</p>
<div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>/tmp/update-analytics/alation-analytics-1.1.0.139590/alation-analytics-installer-v-1.0.18<span class="w"> </span>-u
</pre></div>
</div>
</div></blockquote>
</li>
<li><p><em>Applies to version 2021.3 and newer:</em> To update and change the ownership to a different user, run the update command with the flag <code class="docutils literal notranslate"><span class="pre">-w</span></code>, as shown below, and follow the prompts in the console to provide a new username.</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>/tmp/update-analytics/alation-analytics-&lt;version&gt;/alation-analytics-installer-v-x.x.x<span class="w"> </span>-u<span class="w"> </span>-w<span class="w"> </span>&lt;username&gt;
</pre></div>
</div>
<p><strong>Example</strong>:</p>
<div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>/tmp/update-analytics/alation-analytics-&lt;version&gt;/alation-analytics-installer-v-x.x.x<span class="w"> </span>-u<span class="w"> </span>-w<span class="w"> </span>aav2_admin
</pre></div>
</div>
</div></blockquote>
</li>
<li><p><em>Applies to version 2023.1.4 and newer:</em> To update and bind incoming traffic to a specific IP address, run the update command with the flag <code class="docutils literal notranslate"><span class="pre">-b</span></code>:</p>
<div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>/tmp/update-analytics/alation-analytics-&lt;version&gt;/alation-analytics-installer-v-x.x.x<span class="w"> </span>-u<span class="w"> </span>-b<span class="w"> </span>&lt;ip_address&gt;
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>/tmp/update-analytics/alation-analytics-&lt;version&gt;/alation-analytics-installer-v-x.x.x<span class="w"> </span>-u<span class="w"> </span>-b<span class="w"> </span><span class="m">10</span>.13.14.108
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
</li>
</ol>
<ol class="arabic" start="8">
<li><p><em>Applies to version 2023.3.2 and newer:</em> The RabbitMQ component requires basic authentication. If you haven’t set a RabbitMQ password yet, the Alation Analytics updater will automatically generate one for you and display it in the console when you run the update command. Copy and securely store this password. You’ll need to set it in <strong>alation_conf</strong> in a subsequent step of this instruction.</p>
<blockquote>
<div><img alt="../../_images/AA_V2_Update_RMQ_Password.png" src="../../_images/AA_V2_Update_RMQ_Password.png" />
</div></blockquote>
</li>
<li><p>If the RabbitMQ password was generated for your instance during the update, then after the update, use <strong>alation_conf</strong> to set it in the parameter <code class="docutils literal notranslate"><span class="pre">alation_analytics-v2.rmq.config.password</span></code>:</p>
<blockquote>
<div><ol class="loweralpha">
<li><p>On the Alation server, enter the Alation shell.</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>/etc/init.d/alation<span class="w"> </span>shell
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Change to the <code class="docutils literal notranslate"><span class="pre">alation</span></code> user.</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>su<span class="w"> </span>alation
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Set the value in <strong>alation_conf</strong>.</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>alation_conf<span class="w"> </span>alation_analytics-v2.rmq.config.password<span class="w"> </span>-s<span class="w"> </span><span class="s1">&#39;your_password&#39;</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For more details about <strong>alation_conf</strong>, refer to <a class="reference internal" href="../../admins/AdditionalConfiguration/Usingalation_conf.html"><span class="doc">Using alation_conf</span></a>.</p>
</div>
</div></blockquote>
</li>
<li><p>Go back to the web browser with the <strong>Alation Analytics Settings</strong> page. In the Alation Analytics installation instructions section, click the <strong>Initiate Analytics Database</strong> button to run the migration and finalize the update. The new version will be displayed on the <strong>Alation Analytics Settings</strong> page as <strong>Current installed version</strong>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">aamanager</span></code> service may not start automatically after the update of Alation Analytics.</p>
<p>To check the status of <code class="docutils literal notranslate"><span class="pre">aamanager</span></code>, on the Alation Analytics host, use the command <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">service</span> <span class="pre">aamanager</span> <span class="pre">status</span></code>.</p>
<p>To start it manually, use the command: <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">service</span> <span class="pre">aamanager</span> <span class="pre">start</span></code>.</p>
</div>
</li>
</ol>
</section>
</section>


           </div>
          </div>
          <footer>

  
<div class="navigation-bar">

    <div class="navigation navigation--prev">
        
        <a class="navigation__link" href="AlationAnalyticsV2ServerArchitecture.html">
            <button class="navigation__button">
                <i class="icon icon-left"></i>
            </button>
            <div class="navigation__title">
                <span class="heading">Previous</span> <br />Alation Analytics V2 Server Architecture
            </div>
        </a>
        
    </div>

    <div class="navigation navigation--next">
        
        <a class="navigation__link" title="Accesskey Alt(+Shift)+p" accesskey="p" href="AlationAnalyticsV2ETL.html">
            <div class="navigation__title">
                <span class="heading">Next</span> <br />Alation Analytics V2 ETL
            </div>
            <button class="navigation__button" title="Accesskey Alt(+Shift)+n" accesskey="n">
                <i class="icon icon-right"></i>
            </button>
        </a>
        
    </div>

</div>


</footer>

        </div>
      </div>

    </section>

    <div class="wy-nav-side wy-nav-secondary">
      <div class="wy-side-scroll">
        <div class="wy-side-scroll__content">
          <div class="wy-menu-secondary">
              <div class="comments">
    <a href="mailto:no-reply-docs-feedback@alation.com?subject=Documentation Feedback on installconfig/AlationAnalyticsV2/UpdateAlationAnalyticsV2&body=Alation%20welcomes%20your%20comments%20on%20typos,%20content%20accuracy%20and%20completeness,%20and%20whether%20you%20found%20this%20page%20helpful.%20You%20will%20not%20receive%20a%20reply%20to%20this%20email.">
        <i class="icon icon-envelope" aria-hidden="true"></i>Request docs changes
    </a>
    <a href="#open-modal-pdf">
        <i class="icon icon-pdf" aria-hidden="true"></i>Download PDF
    </a>
</div>
              
                <p class="wy-menu-secondary-header">On this page</p>
                <ul>
<li><a class="reference internal" href="#">Update Alation Analytics V2</a><ul>
<li><a class="reference internal" href="#how-do-i-know-if-there-is-an-update-for-alation-analytics-v2">How Do I Know if There is an Update for Alation Analytics V2?</a></li>
<li><a class="reference internal" href="#steps-to-update-alation-analytics-v2">Steps to Update Alation Analytics V2</a></li>
</ul>
</li>
</ul>

              
            </div>
          </div>
      </div>
    </div>

  </div>

  
  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->

  
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/clipboard.min.js"></script>
      <script type="text/javascript" src="../../_static/copybutton.js"></script>
      <script type="text/javascript" src="../../_static/js/rtd_sphinx_search.min.js"></script>
  
  <script type="text/javascript" src="../../_static/searchtools.js"></script> <script type="text/javascript" id="idPiwikScriptPlaceholder"></script><script type="text/javascript" src="../../_static/js/main.bundle.js"></script>
  <script type="text/javascript" src="../../_static/js/runtime.bundle.js"></script>

  
  

  
    <div id="open-modal-pdf" class="modal-window">
<div>
  <a href="#" title="Close" class="modal-close">Close</a>
  <h4>Alation Documentation PDF</h4>
  <p>This PDF contains all our documentation and is more than <b>120 MB</b> in size. We recommend using an ethernet or Wi-Fi connection for downloading.</p>
  <br>
  <div class="modal-buttons">
    <a href="https://pdf-docs.alation.com/AlationUserDocs.pdf" class="btn-cta btn-cta--primary" target="_blank">
      Download PDF
    </a>
    <a href="#" title="Close" class="btn-cta">Cancel</a>
  </div>
</div>
  

</body>
</html>
<!--3.6.17-->