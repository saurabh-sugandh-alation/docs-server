
<!DOCTYPE html>
<html lang="" >
<head>
  <meta charset="utf-8"/>
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="book-version"      content=""/>
  <meta name="book-release"      content=""/>
  <meta name="docsearch:name"    content="Alation User Guide" />
  <meta name="docsearch:version" content="" />
  <meta name="docsearch:package_type" content="" />
	<meta name="robots" content="noindex" />

  
  <title>Maintain Alation Analytics V2 &mdash; Alation User Guide</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  

  

  
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/main.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/sphinx_collapse.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/rtd_sphinx_search.min.css" type="text/css" />
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="Alation User Guide" href="#"/>
        <link rel="up" title="Alation Analytics V2" href="index.html"/>
        <link rel="next" title="Clear the Data from the Alation Analytics V2 Database" href="ClearDataFromAlationAnalyticsV2.html"/>
        <link rel="prev" title="Alation Analytics V2 ETL" href="AlationAnalyticsV2ETL.html"/>

	

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-67846571-1"></script>
	<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());

	gtag('config', 'UA-67846571-1');
	</script>

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<!-- Second Google Analytics tag to assist mapping with mattermost.com visits --> 
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-120238482-1"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'UA-120238482-1');
	</script>


</head>

<body class="wy-body-for-nav" role="document">

  <header>
    <div class="header__container wy-max-content-width">
        <a href="/" class="header__logo">
            <img width="176" src="../../_static/img/logo-alation.svg" alt="Alation" />
        </a>
        <ul class="header__links">
            <li><a href="https://help.alation.com/s/">Alation Help Center</a></li>
        </ul>
    </div>
</header>

  <div class="wy-grid-for-nav wy-max-content-width">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-scroll__content">
          <div class="wy-side-nav-search">
            

            <ul class="sidebartop">
              <li class="nolink search"><div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search this project" aria-label="Search this project" id="searchinput" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
</li>

            </ul>

            
          </div>

          <div class="wy-menu wy-sidebar wy-sidebar--hidden" data-spy="affix" role="navigation" aria-label="main navigation">
            
              
              
              
                  <p class="caption" role="heading"><span class="caption-text">Welcome to Alation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/About/index.html">About Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/CloudAndOnPrem/index.html">Alation Cloud and On-Premise</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/UserProfileandPreferences/index.html">User Profile and Preferences</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/CatalogBasics/index.html">Catalog Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/CatalogPages/index.html">Catalog Pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Conversations/index.html">Conversations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Domains/index.html">Domains</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/BestPractices/index.html">Best Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Glossary/index.html">Alation Glossary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation Cloud Service</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/StatusPage/index.html">Status Page</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/CloudOverview/index.html">Cloud Service Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/CloudConfiguration/index.html">Configuration for Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/AlationAgent/index.html">Alation Agent</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation Integration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../integration/AlationAnywhere/index.html">Alation Anywhere</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../integration/AlationConnectedSheets/index.html">Alation Connected Sheets</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installation &amp; Configuration</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../ServerInstallation/index.html">Install Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../HighAvailability/index.html">High Availability</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Update/index.html">Update Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../BackupandRestore/index.html">Back Up and Restore</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LineageV2/index.html">Lineage V2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LineageV3/index.html">Lineage V3</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Alation Analytics V2</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="TransitionV1ToV2.html">Transition from Alation Analytics V1 to Alation Analytics V2</a></li>
<li class="toctree-l2"><a class="reference internal" href="EnableAlationAnalyticsV2.html">Enable and Install Alation Analytics V2</a></li>
<li class="toctree-l2"><a class="reference internal" href="AccessToAlationAnalyticsV2.html">User Access to Alation Analytics V2</a></li>
<li class="toctree-l2"><a class="reference internal" href="Connect3rdPartyBIToolsToAAV2.html">Connect Third-Party BI Tools to Alation Analytics V2</a></li>
<li class="toctree-l2"><a class="reference internal" href="AlationAnalyticsV2ServerArchitecture.html">Alation Analytics V2 Server Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpdateAlationAnalyticsV2.html">Update Alation Analytics V2</a></li>
<li class="toctree-l2"><a class="reference internal" href="AlationAnalyticsV2ETL.html">Alation Analytics V2 ETL</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Maintain Alation Analytics V2</a></li>
<li class="toctree-l2"><a class="reference internal" href="ClearDataFromAlationAnalyticsV2.html">Clear the Data from the Alation Analytics V2 Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="BackupAndRestoreAlationAnalyticsV2.html">Alation Analytics V2 Backup and Restore</a></li>
<li class="toctree-l2"><a class="reference internal" href="RemoveAlationAnalyticsV2Source.html">Remove Alation Analytics V2 Data Source From the Catalog</a></li>
<li class="toctree-l2"><a class="reference internal" href="UninstallAlationAnalyticsV2.html">Uninstall Alation Analytics V2</a></li>
<li class="toctree-l2"><a class="reference internal" href="RemoveAlationAnalyticsV1Source.html">Remove Alation Analytics V1 Data Source From the Catalog</a></li>
<li class="toctree-l2"><a class="reference internal" href="AlationAnalyticsV2DatabaseModel.html">Alation Analytics V2 Database Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="EmbedExternalVisualizations.html">Embed External Visualizations</a></li>
<li class="toctree-l2"><a class="reference internal" href="AlationAnalyticsV2Dashboard.html">Alation Analytics V2 Dashboard</a></li>
<li class="toctree-l2"><a class="reference internal" href="AlationAnalyticsV2TopContributors.html">Alation Analytics Top Contributors Report</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../AlationContainerService/index.html">Alation Container Service</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../sources/CatalogSources/index.html">Catalog Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/VirtualDataSources/index.html">Virtual Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/Lineage/index.html">Lineage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/APIResources/index.html">API Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/WorkwithCatalogData/index.html">Working with Catalog Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/OpenConnectorFramework/index.html">Open Connector Framework</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Data Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/DSConfiguration/index.html">Data Source Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/AddDataSources/index.html">Adding Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/ComposeSSOAWSDataSources/index.html">Compose SSO for Amazon Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/ComposeSSOAzureDataSources/index.html">Compose SSO for Azure Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/AuthenticationForExtraction/index.html">Authentication for Extraction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/CustomDB/index.html">Custom DB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/GBQ/index.html">Google BigQuery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasources/Hive/index.html">Hive</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">BI Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/AddBISources/index.html">Add BI Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/AddTableauServer/index.html">Add Tableau Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/WorkwithBISources/index.html">Working with BI Sources</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">File System Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../filesystems/FileSystems/index.html">Add File Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../filesystems/VirtualFileSystems/index.html">Virtual File Systems</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Analysts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/UserAuthenticationForDataSources/index.html">User Authentication for Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/ShareAndAccessQueries/index.html">Share and Access Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/WriteQueries/index.html">Write Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/DevelopQueries/index.html">Develop Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/WorkwithQueryResults/index.html">Work with Query Results</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Data Stewards</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../steward/GovernanceApp/index.html">Governance App</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/PolicyCenter/index.html">Policy Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/Workflow/index.html">Workflow Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/GovernanceDashboard/index.html">Governance Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/StewardshipWorkbench/index.html">Stewardship Workbench</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/AnalyticsStewardship/index.html">Analytics Stewardship</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/Glossary/index.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/ArticlesAndTags/index.html">Articles and Tags</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/ArticleGroups/index.html">Article Groups</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/DataCatalogCustomization/index.html">Customize Your Data Catalog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/DataDocumentation/index.html">Data Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/AutoTitlingandLexicon/index.html">Auto-titling and Lexicon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/SnowflakeTags/index.html">Snowflake Tags</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Server Administrators</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../admins/CustomizableHomePage/index.html">Customizable Homepage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AdminSettings/index.html">Administrator Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AdditionalConfiguration/index.html">Additional Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/RunbookForAdministrators/index.html">Runbook for Administrators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AlationAPIs/index.html">Alation APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/How-tos/index.html">How-tos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/Troubleshooting/index.html">Troubleshooting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Release Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../releases/releasenotes/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/supportmatrices/index.html">Support Matrices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/endofsupport/index.html">End Of Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/snowflakeclladdon/index.html">Snowflake Parser Add-On</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/fieldnotices/index.html">Important Notices and Security Alerts</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Archived Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../archive/About/index.html">About the Documentation Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/AdminConfig/index.html">Administration and Update Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/ReleaseNotes/index.html">Release Notes Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/Usage/index.html">Usage and Customization Archive</a></li>
</ul>

              
            
          </div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="wy-nav-top-icon"></i>
        <a href="../../index.html">Alation User Guide</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">

          <div role="navigation" aria-label="breadcrumbs" class="breadcrumbs">
    <a href="../../index.html">Docs</a>
    <span class="separator">&gt;</span>
    <a href="index.html">Alation Analytics V2</a>
    <span class="separator">&gt;</span>
    <span>Maintain Alation Analytics V2</span>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody" class="toBeIndexed">
            
  <section id="maintain-alation-analytics-v2">
<h1>Maintain Alation Analytics V2<a class="headerlink" href="#maintain-alation-analytics-v2" title="Permalink to this headline">¶</a></h1>
<p class="cloud-label hover-text">Alation Cloud Service <span class="tooltip-text">Applies to Alation Cloud Service instances of Alation</span></p>
<p class="on-prem-label hover-text">Customer Managed <span class="tooltip-text">Applies to customer-managed instances of Alation</span></p>
<p><em>Applies from version 2020.3</em></p>
<section id="mde-profiling-and-qli">
<h2>MDE, Profiling, and QLI<a class="headerlink" href="#mde-profiling-and-qli" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Metadata Extraction (MDE) runs automatically after every ETL.</p></li>
<li><p>Profiling can be performed if required using the standard steps for Profiling a data source.</p></li>
<li><p>QLI requires a separate setup. Use the steps for the PostgreSQL data source to set up QLI: <a class="reference internal" href="../../datasources/AddDataSources/Appendix.html#appendix-7"><span class="std std-ref">A.7 Postgres QLI Setup</span></a>.</p></li>
</ul>
</section>
<section id="health-check-alerts">
<h2>Health Check Alerts<a class="headerlink" href="#health-check-alerts" title="Permalink to this headline">¶</a></h2>
<p><em>Applies to 2023.1 and later</em></p>
<p>Alation offers automated health checks that can help you monitor Alation Analytics V2. When health checks are enabled, Alation automatically checks to see if the RabbitMQ and Postgres components of Alation Analytics are running properly. You can check the health status in Alation by going to <strong>Admin Settings</strong> &gt; <strong>Health Checks</strong>. If errors are found, Server Admins will get an email alerting them to the problem. See the following topics for more information:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../../admins/AdminSettings/MonitorComponentHealth.html"><span class="doc">Monitor Component Health</span></a></p></li>
<li><p><a class="reference internal" href="../../admins/Troubleshooting/ConfigureServerHealthAlertsforAdmins.html"><span class="doc">Configure Server Health Alerts for Administrators</span></a></p></li>
<li><p><a class="reference internal" href="../../admins/Troubleshooting/DefaultServerHealthAlerts.html"><span class="doc">Default Server Health Alerts</span></a></p></li>
</ul>
</section>
<section id="monitor-etl-status">
<h2>Monitor ETL Status<a class="headerlink" href="#monitor-etl-status" title="Permalink to this headline">¶</a></h2>
<p>Alation provides several ways to monitor the status of the Alation Analytics ETL process.</p>
<section id="etl-failure-email-notifications">
<h3>ETL Failure Email Notifications<a class="headerlink" href="#etl-failure-email-notifications" title="Permalink to this headline">¶</a></h3>
<p><em>Applies to 2023.1 and later</em></p>
<p>When Alation Analytics ETL is enabled, any RabbitMQ messages that couldn’t be processed are logged. These failures are automatically emailed to Server Admins every hour.</p>
<p>If there are more than three failures, only the first three will be included in the email. The email contains the failed message, the corresponding load ID (instance of failed message), and the Python error that occurred.</p>
<p>If you get an ETL error email, contact Alation Support for help.</p>
<section id="disable-etl-failure-emails">
<h4>Disable ETL Failure Emails<a class="headerlink" href="#disable-etl-failure-emails" title="Permalink to this headline">¶</a></h4>
<p>In 2023.1.4 and later, ETL error emails can be disabled.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Alation Cloud Service customers can request server configuration changes through Alation Support.</p>
</div>
<p>To disable ETL error emails for on-premises installations of Alation:</p>
<ol class="arabic">
<li><p>Use SSH to connect to the Alation server.</p></li>
<li><p>Enter the Alation shell using the following command:</p>
<div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>/etc/init.d/alation<span class="w"> </span>shell
</pre></div>
</div>
</li>
<li><p>Disable ETL error emails:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>alation_conf<span class="w"> </span>alation_analytics-v2.etl.notify_etl_failures<span class="w"> </span>-s<span class="w"> </span><span class="nb">false</span>
</pre></div>
</div>
</li>
<li><p>Restart celery-beat:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>alation_supervisor<span class="w"> </span>restart<span class="w"> </span>celery:celery-beat
</pre></div>
</div>
</li>
<li><p>Exit the Alation shell:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">exit</span>
</pre></div>
</div>
</li>
</ol>
</section>
</section>
<section id="etl-pop-up-alerts">
<h3>ETL Pop-Up Alerts<a class="headerlink" href="#etl-pop-up-alerts" title="Permalink to this headline">¶</a></h3>
<p><em>Applies to 2023.1.4 and later</em></p>
<p>Alation can display a pop-up message to Server Admins on the Alation home page anytime an ETL failure occurs for Alation Analytics. This feature is disabled by default. See <a class="reference internal" href="#enable-etl-alerts-and-dashboard">Enable ETL Alerts and Dashboard</a> below.</p>
<p>When an alert message appears, you can click <strong>View Details</strong> to see more information about the failure.</p>
<img alt="../../_images/MonitorAAV2_ETLAlert.png" src="../../_images/MonitorAAV2_ETLAlert.png" />
<p>The message can be dismissed by clicking the X on the right side of the message. Messages remain available in the ETL Status dashboard as described below.</p>
</section>
<section id="etl-status-dashboard">
<h3>ETL Status Dashboard<a class="headerlink" href="#etl-status-dashboard" title="Permalink to this headline">¶</a></h3>
<p><em>Applies to 2023.1.4 and later</em></p>
<p>Server Admins can see all Alation Analytics ETL failures in the ETL Status dashboard. This feature is disabled by default. See <a class="reference internal" href="#enable-etl-alerts-and-dashboard">Enable ETL Alerts and Dashboard</a> below.</p>
<p>To see the dashboard, go to <strong>Admin Settings</strong>, then in the <strong>Monitor</strong> section click <strong>ETL Status</strong>.</p>
<img alt="../../_images/MonitorAAV2_ETLStatus.png" class="with-border" src="../../_images/MonitorAAV2_ETLStatus.png" />
<p>The dashboard shows only ETL failures, so if your ETL process is healthy, the dashboard will appear empty. If the dashboard shows any ETL failure messages, you can click <strong>View Details</strong> to see more information about the failure.</p>
</section>
<section id="enable-etl-alerts-and-dashboard">
<h3>Enable ETL Alerts and Dashboard<a class="headerlink" href="#enable-etl-alerts-and-dashboard" title="Permalink to this headline">¶</a></h3>
<p>The ETL pop-up alerts and status dashboard are disabled by default.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Alation Cloud Service customers can request server configuration changes through Alation Support.</p>
</div>
<p>To enable them for on-premises installations of Alation:</p>
<ol class="arabic">
<li><p>Use SSH to connect to the Alation server.</p></li>
<li><p>Enter the Alation shell using the following command:</p>
<div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>/etc/init.d/alation<span class="w"> </span>shell
</pre></div>
</div>
</li>
<li><p>Enable ETL alerts and status dashboard:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>alation_conf<span class="w"> </span>alation.feature_flags.DEV_enable_analytics_etl_failure_status_view<span class="w"> </span>-s<span class="w"> </span><span class="nb">true</span>
</pre></div>
</div>
</li>
<li><p>Exit the Alation shell:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">exit</span>
</pre></div>
</div>
</li>
</ol>
</section>
</section>
<section id="check-the-state-of-the-docker-containers">
<h2>Check the State of the Docker Containers<a class="headerlink" href="#check-the-state-of-the-docker-containers" title="Permalink to this headline">¶</a></h2>
<p>The components of the Alation Analytics V2 server run as Docker containers. Use <code class="docutils literal notranslate"><span class="pre">sudo</span></code> to run these commands.</p>
<ul>
<li><p>To list all running Docker containers:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>docker<span class="w"> </span>ps
</pre></div>
</div>
<p><strong>Example output</strong>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>docker<span class="w"> </span>ps<span class="w"> </span>-a<span class="w"> </span>--format<span class="w"> </span><span class="s2">&quot;{{.Names}}&quot;</span>

transform_flag_job.FlagTransformJob
transform_alation_set_member.AlationSetMemberTransformJob
transform_catalog_set_member.AlationCatalogSetMemberTransformJob
transform_tag_job.TagTransformJob
transform_object_popularity_job.ObjectPopularityTransformJob
transform_article_job.ArticleTransformJob
transform_curation_history_job.CurationHistoryTransformJob
transform_rdbms_job
transform_columns_job.ColumnsTransformJob
transform_visit_job.VisitTransformJob
transform_time_period_job.TimePeriodTransformJob
transform_conversation_job.ConversationTransformJob
transform_compose_event_job.ComposeEventTransformJob
transform_custom_glossary_job.CustomGlossaryTransformJob
transform_custom_template_job.CustomTemplateTransformJob
transform_user_job
rabbitmq
postgres
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>To list all Docker containers including those which failed and were stopped:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>docker<span class="w"> </span>ps<span class="w"> </span>-a
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>To do a full inspection of a container:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>docker<span class="w"> </span>inspect<span class="w"> </span>&lt;container-name&gt;
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Container logs:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>docker<span class="w"> </span>logs<span class="w"> </span>&lt;container-name&gt;<span class="w">              </span><span class="c1"># Normal mode</span>
sudo<span class="w"> </span>docker<span class="w"> </span>logs<span class="w"> </span>-f<span class="w"> </span>&lt;container-name&gt;<span class="w">           </span><span class="c1"># Follow mode</span>
sudo<span class="w"> </span>docker<span class="w"> </span>logs<span class="w"> </span>--tail<span class="w"> </span><span class="m">10</span><span class="w"> </span>&lt;container-name&gt;<span class="w">    </span><span class="c1"># Check only last 10 lines</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</section>
<section id="check-the-state-of-the-docker-daemon">
<h2>Check the State of the Docker Daemon<a class="headerlink" href="#check-the-state-of-the-docker-daemon" title="Permalink to this headline">¶</a></h2>
<p>If multiple containers are down, it could be due to the Docker daemon being stopped. First check the status of the Docker daemon, then restart it if needed.</p>
<ul>
<li><p>Check the status of the Docker daemon</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>systemctl<span class="w"> </span>status<span class="w"> </span>docker
</pre></div>
</div>
</li>
<li><p>Restart the Docker daemon</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>systemctl<span class="w"> </span>restart<span class="w"> </span>docker
</pre></div>
</div>
</li>
<li><p>Start all containers together after restarting Docker daemon</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>/opt/alation-analytics<span class="w"> </span><span class="c1"># change to AA install directory</span>
/usr/local/bin/docker-compose<span class="w"> </span>up<span class="w"> </span>-d
</pre></div>
</div>
</li>
</ul>
</section>
<section id="check-docker-container-users">
<h2>Check Docker Container Users<a class="headerlink" href="#check-docker-container-users" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p>Transform containers:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>transform_rdbms_job<span class="w"> </span>whoami
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>The RabbitMQ container:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>rabbitmq<span class="w"> </span>whoami
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>The Postgres container:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>postgres<span class="w"> </span>whoami
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</section>
<section id="docker-logs">
<h2>Docker Logs<a class="headerlink" href="#docker-logs" title="Permalink to this headline">¶</a></h2>
<p>If you wish to see all the logs at once you can use Docker Compose logs:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>/opt/alation-analytics
sudo<span class="w"> </span>docker-compose<span class="w"> </span>logs
</pre></div>
</div>
<p>Depending on the system, the root user may not have Docker Compose on the profile. In this case, use the following commands to first get the full path to Docker Compose:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>which<span class="w"> </span>docker-compose
/usr/local/bin/docker-compose<span class="w">      </span><span class="c1"># output of &quot;which docker-compose&quot;</span>
<span class="c1"># Then copy and use the full path</span>
sudo<span class="w"> </span>/usr/local/bin/docker-compose<span class="w"> </span>logs
</pre></div>
</div>
</section>
<section id="stopping-starting-restarting-docker-containers">
<h2>Stopping, Starting, Restarting Docker Containers<a class="headerlink" href="#stopping-starting-restarting-docker-containers" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p>Stop container</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>docker<span class="w"> </span>stop<span class="w"> </span>&lt;container-name&gt;
</pre></div>
</div>
</li>
<li><p>Start container</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>docker<span class="w"> </span>start<span class="w"> </span>container-name
</pre></div>
</div>
</li>
<li><p>Restart container</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>docker<span class="w"> </span>restart<span class="w"> </span>container-name
</pre></div>
</div>
</li>
<li><p>Stop all containers</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>docker<span class="w"> </span>container<span class="w"> </span>stop<span class="w"> </span><span class="k">$(</span>docker<span class="w"> </span>container<span class="w"> </span>ls<span class="w"> </span>-aq<span class="k">)</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="update-password-for-alation-analytics-v2-database">
<h2>Update Password for Alation Analytics V2 Database<a class="headerlink" href="#update-password-for-alation-analytics-v2-database" title="Permalink to this headline">¶</a></h2>
<p>An organization’s security policy may require that the database passwords should be changed at regular intervals. To update the password for the Alation Analytics V2 database, follow the steps in this section.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Alation Cloud Service customers can request server configuration changes through Alation Support.</p>
</div>
<p>To update the password for the Alation Analytics V2 database:</p>
<ol class="arabic">
<li><p>On the host where Alation Analytics V2 is installed, use the <code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">exec</span></code> command to enter the bash shell on the Postgres container.</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>postgres<span class="w"> </span>bash
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>To access Postgres, change to user <code class="docutils literal notranslate"><span class="pre">postgres</span></code>.</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>su<span class="w"> </span>postgres
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Run the <code class="docutils literal notranslate"><span class="pre">psql</span></code> command to enter the Postgres shell.</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>psql
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>To change the password of the Postgres user, use ALTER ROLE.</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">postgres</span><span class="o">=</span><span class="c1"># ALTER ROLE postgres WITH PASSWORD &#39;new_password&#39;;</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Type <code class="docutils literal notranslate"><span class="pre">\q</span></code> to exit the Postgres shell.</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">postgres</span><span class="o">=</span><span class="c1">#  \q</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Exit the bash shell and the <code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">exec</span></code> command using the <code class="docutils literal notranslate"><span class="pre">exit</span></code> command.</p></li>
<li><p>Perform this step on versions 2021.1 and newer. On versions older than 2021.1, skip this step.</p>
<blockquote>
<div><p>Encrypt the password with the command given below. Substitute the placeholder values <code class="docutils literal notranslate"><span class="pre">&lt;new_password&gt;</span></code> and <code class="docutils literal notranslate"><span class="pre">&lt;AA_install_dir&gt;</span></code> with your real values:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">echo</span><span class="w"> </span>&lt;new_password&gt;<span class="w"> </span><span class="p">|</span><span class="w"> </span>openssl<span class="w"> </span>pkeyutl<span class="w"> </span>-encrypt<span class="w"> </span>-inkey<span class="w"> </span>&lt;AA_install_dir&gt;/config/keys/key.pem<span class="w"> </span>-pkeyopt<span class="w"> </span>rsa_padding_mode:oaep<span class="w"> </span>-pkeyopt<span class="w"> </span>rsa_oaep_md:sha256<span class="w"> </span><span class="p">|</span><span class="w"> </span>base64<span class="w"> </span>-w<span class="w"> </span><span class="m">0</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>On all versions, edit the file <strong>/etc/default/alation-analytics.env</strong> and provide the new password — replace the value for <code class="docutils literal notranslate"><span class="pre">POSTGRES_PASSWORD</span></code> with the new password. You can use the vi editor or another editor of your choice. Save the updated file.</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>vi<span class="w"> </span>/etc/default/alation-analytics.env
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Restart all the Docker containers to apply the new password.</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Change your directory to the Alation Analytics V2 installation directory</span>
<span class="nb">cd</span><span class="w"> </span>/opt/alation-analytics
<span class="c1"># Stop all the Alation Analytics services</span>
sudo<span class="w"> </span>/usr/local/bin/docker-compose<span class="w"> </span>down
<span class="c1"># Start all the services in the background</span>
sudo<span class="w"> </span>/usr/local/bin/docker-compose<span class="w"> </span>up<span class="w">  </span>-d
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Next, update the password in <strong>alation_conf</strong>. On the Alation catalog host, enter the Alation shell.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>/etc/init.d/alation<span class="w"> </span>shell
</pre></div>
</div>
</li>
<li><p>Change the user to <code class="docutils literal notranslate"><span class="pre">alation</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>su<span class="w"> </span>alation
</pre></div>
</div>
</li>
<li><p>Using <strong>alation_conf</strong>, provide the new Alation Analytics database password to the Alation server.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>alation_conf<span class="w"> </span>alation_analytics-v2.pgsql.password<span class="w"> </span>-s<span class="w"> </span><span class="s1">&#39;new_password&#39;</span>
</pre></div>
</div>
</li>
<li><p>Restart the <code class="docutils literal notranslate"><span class="pre">celery</span></code> component.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>alation_supervisor<span class="w"> </span>restart<span class="w"> </span>web:*<span class="w"> </span>celery:*
</pre></div>
</div>
</li>
<li><p>In the Alation catalog, go to the Alation Analytics V2 source settings &gt; <strong>General Settings</strong> tab. In the <strong>Service Account</strong> section, change the password to your updated password and click the <strong>Test</strong> button to test the connection. This must be performed for the next MDE job to succeed.</p></li>
</ol>
</section>
<section id="use-alation-analytics-v2-installer-for-admin-functions">
<h2>Use Alation Analytics V2 Installer For Admin Functions<a class="headerlink" href="#use-alation-analytics-v2-installer-for-admin-functions" title="Permalink to this headline">¶</a></h2>
<p>The Alation Analytics installer provides additional functions for administering the Alation Analytics V2 components. You can use the installer:</p>
<blockquote>
<div><ul class="simple">
<li><p>To view and modify the Alation Analytics database remote connection settings. By default, this database does not allow any remote connections. You can explicitly configure allowed connections using the installer.</p></li>
<li><p>To print the Alation Analytics V2 build version.</p></li>
<li><p>To check the Alation Analytics V2 component health.</p></li>
</ul>
</div></blockquote>
<p>Detailed instructions on how to use the installer are included in the <strong>README.md</strong> file of the Alation Analytics V2 package. The default location is at <strong>/opt/alation-analytics</strong>. Refer to the README file for information on how to use the installer with specific parameters.</p>
</section>
</section>


           </div>
          </div>
          <footer>

  
<div class="navigation-bar">

    <div class="navigation navigation--prev">
        
        <a class="navigation__link" href="AlationAnalyticsV2ETL.html">
            <button class="navigation__button">
                <i class="icon icon-left"></i>
            </button>
            <div class="navigation__title">
                <span class="heading">Previous</span> <br />Alation Analytics V2 ETL
            </div>
        </a>
        
    </div>

    <div class="navigation navigation--next">
        
        <a class="navigation__link" title="Accesskey Alt(+Shift)+p" accesskey="p" href="ClearDataFromAlationAnalyticsV2.html">
            <div class="navigation__title">
                <span class="heading">Next</span> <br />Clear the Data from the Alation Analytics V2 Database
            </div>
            <button class="navigation__button" title="Accesskey Alt(+Shift)+n" accesskey="n">
                <i class="icon icon-right"></i>
            </button>
        </a>
        
    </div>

</div>


</footer>

        </div>
      </div>

    </section>

    <div class="wy-nav-side wy-nav-secondary">
      <div class="wy-side-scroll">
        <div class="wy-side-scroll__content">
          <div class="wy-menu-secondary">
              <div class="comments">
    <a href="mailto:no-reply-docs-feedback@alation.com?subject=Documentation Feedback on installconfig/AlationAnalyticsV2/MaintainAlationAnalyticsV2&body=Alation%20welcomes%20your%20comments%20on%20typos,%20content%20accuracy%20and%20completeness,%20and%20whether%20you%20found%20this%20page%20helpful.%20You%20will%20not%20receive%20a%20reply%20to%20this%20email.">
        <i class="icon icon-envelope" aria-hidden="true"></i>Request docs changes
    </a>
    <a href="#open-modal-pdf">
        <i class="icon icon-pdf" aria-hidden="true"></i>Download PDF
    </a>
</div>
              
                <p class="wy-menu-secondary-header">On this page</p>
                <ul>
<li><a class="reference internal" href="#">Maintain Alation Analytics V2</a><ul>
<li><a class="reference internal" href="#mde-profiling-and-qli">MDE, Profiling, and QLI</a></li>
<li><a class="reference internal" href="#health-check-alerts">Health Check Alerts</a></li>
<li><a class="reference internal" href="#monitor-etl-status">Monitor ETL Status</a><ul>
<li><a class="reference internal" href="#etl-failure-email-notifications">ETL Failure Email Notifications</a><ul>
<li><a class="reference internal" href="#disable-etl-failure-emails">Disable ETL Failure Emails</a></li>
</ul>
</li>
<li><a class="reference internal" href="#etl-pop-up-alerts">ETL Pop-Up Alerts</a></li>
<li><a class="reference internal" href="#etl-status-dashboard">ETL Status Dashboard</a></li>
<li><a class="reference internal" href="#enable-etl-alerts-and-dashboard">Enable ETL Alerts and Dashboard</a></li>
</ul>
</li>
<li><a class="reference internal" href="#check-the-state-of-the-docker-containers">Check the State of the Docker Containers</a></li>
<li><a class="reference internal" href="#check-the-state-of-the-docker-daemon">Check the State of the Docker Daemon</a></li>
<li><a class="reference internal" href="#check-docker-container-users">Check Docker Container Users</a></li>
<li><a class="reference internal" href="#docker-logs">Docker Logs</a></li>
<li><a class="reference internal" href="#stopping-starting-restarting-docker-containers">Stopping, Starting, Restarting Docker Containers</a></li>
<li><a class="reference internal" href="#update-password-for-alation-analytics-v2-database">Update Password for Alation Analytics V2 Database</a></li>
<li><a class="reference internal" href="#use-alation-analytics-v2-installer-for-admin-functions">Use Alation Analytics V2 Installer For Admin Functions</a></li>
</ul>
</li>
</ul>

              
            </div>
          </div>
      </div>
    </div>

  </div>

  
  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->

  
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/clipboard.min.js"></script>
      <script type="text/javascript" src="../../_static/copybutton.js"></script>
      <script type="text/javascript" src="../../_static/js/rtd_sphinx_search.min.js"></script>
  
  <script type="text/javascript" src="../../_static/searchtools.js"></script> <script type="text/javascript" id="idPiwikScriptPlaceholder"></script><script type="text/javascript" src="../../_static/js/main.bundle.js"></script>
  <script type="text/javascript" src="../../_static/js/runtime.bundle.js"></script>

  
  

  
    <div id="open-modal-pdf" class="modal-window">
<div>
  <a href="#" title="Close" class="modal-close">Close</a>
  <h4>Alation Documentation PDF</h4>
  <p>This PDF contains all our documentation and is more than <b>120 MB</b> in size. We recommend using an ethernet or Wi-Fi connection for downloading.</p>
  <br>
  <div class="modal-buttons">
    <a href="https://pdf-docs.alation.com/AlationUserDocs.pdf" class="btn-cta btn-cta--primary" target="_blank">
      Download PDF
    </a>
    <a href="#" title="Close" class="btn-cta">Cancel</a>
  </div>
</div>
  

</body>
</html>
<!--3.6.17-->