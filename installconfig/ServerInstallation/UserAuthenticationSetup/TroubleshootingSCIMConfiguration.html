
<!DOCTYPE html>
<html lang="" >
<head>
  <meta charset="utf-8"/>
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="book-version"      content=""/>
  <meta name="book-release"      content=""/>
  <meta name="docsearch:name"    content="Alation User Guide" />
  <meta name="docsearch:version" content="" />
  <meta name="docsearch:package_type" content="" />
	<meta name="robots" content="noindex" />

  
  <title>Troubleshoot SCIM Configuration &mdash; Alation User Guide</title>
  

  
  
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
  

  

  
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/css/main.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/sphinx_collapse.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/copybutton.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/css/rtd_sphinx_search.min.css" type="text/css" />
        <link rel="search" title="Search" href="../../../search.html"/>
    <link rel="top" title="Alation User Guide" href="#"/>
        <link rel="up" title="User Authentication Setup" href="index.html"/>
        <link rel="next" title="Set Up SCIM Integration in Okta" href="SetUpSCIMIntegrationInOkta.html"/>
        <link rel="prev" title="View SCIM Configuration in alation_conf" href="ViewSCIMConfiguration.html"/>

	

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-67846571-1"></script>
	<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());

	gtag('config', 'UA-67846571-1');
	</script>

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<!-- Second Google Analytics tag to assist mapping with mattermost.com visits --> 
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-120238482-1"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'UA-120238482-1');
	</script>


</head>

<body class="wy-body-for-nav" role="document">

  <header>
    <div class="header__container wy-max-content-width">
        <a href="/" class="header__logo">
            <img width="176" src="../../../_static/img/logo-alation.svg" alt="Alation" />
        </a>
        <ul class="header__links">
            <li><a href="https://help.alation.com/s/">Alation Help Center</a></li>
        </ul>
    </div>
</header>

  <div class="wy-grid-for-nav wy-max-content-width">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-scroll__content">
          <div class="wy-side-nav-search">
            

            <ul class="sidebartop">
              <li class="nolink search"><div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search this project" aria-label="Search this project" id="searchinput" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
</li>

            </ul>

            
          </div>

          <div class="wy-menu wy-sidebar wy-sidebar--hidden" data-spy="affix" role="navigation" aria-label="main navigation">
            
              
              
              
                  <p class="caption" role="heading"><span class="caption-text">Welcome to Alation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../welcome/About/index.html">About Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../welcome/CloudAndOnPrem/index.html">Alation Cloud and On-Premise</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../welcome/UserProfileandPreferences/index.html">User Profile and Preferences</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../welcome/CatalogBasics/index.html">Catalog Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../welcome/CatalogPages/index.html">Catalog Pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../welcome/Conversations/index.html">Conversations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../welcome/Domains/index.html">Domains</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../welcome/BestPractices/index.html">Best Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../welcome/Glossary/index.html">Alation Glossary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation Cloud Service</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../cloud/StatusPage/index.html">Status Page</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cloud/CloudOverview/index.html">Cloud Service Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cloud/CloudConfiguration/index.html">Configuration for Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cloud/AlationAgent/index.html">Alation Agent</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation Integration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../integration/AlationAnywhere/index.html">Alation Anywhere</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../integration/AlationConnectedSheets/index.html">Alation Connected Sheets</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installation &amp; Configuration</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Install Alation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../PrepforInstallation.html">Preparing for Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SystemRequirements.html">System Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../NetworkRequirements.html">Network Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../InstallationReadiness.html">Installation Readiness</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation.html">Installation Process</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">User Authentication Setup</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="UserAuthenticationLDAP.html">User Authentication with LDAP</a></li>
<li class="toctree-l3"><a class="reference internal" href="UserAuthenticationSAML.html">Configure Authentication with SAML from Alation Shell</a></li>
<li class="toctree-l3"><a class="reference internal" href="UserAuthenticationSAMLUI.html">Configure Authentication with SAML from Admin Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="UserAuthenticationOIDC.html">Configure Authentication with OpenID Connect</a></li>
<li class="toctree-l3"><a class="reference internal" href="EnableSCIMIntegration.html">Enable SCIM Integration for User and Group Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="TokenAuthForSCIMSync.html">Manage Token Authentication for SCIM Sync</a></li>
<li class="toctree-l3"><a class="reference internal" href="TestingSCIMConfiguration.html">Test SCIM Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="ViewSCIMConfiguration.html">View SCIM Configuration in alation_conf</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Troubleshoot SCIM Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="SetUpSCIMIntegrationInOkta.html">Set Up SCIM Integration in Okta</a></li>
<li class="toctree-l3"><a class="reference internal" href="SetUpSAMLandSCIMIntegrationInPingFederate.html">Set Up SAML and SCIM Integration in PingFederate</a></li>
<li class="toctree-l3"><a class="reference internal" href="SetUpSAMLandSCIMwithAAD.html">Set Up SAML and SCIM Integration in Azure AD</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ConfigureEmailServer.html">Email Server Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../HTTPS.html">HTTPS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../HighAvailability.html">Installing on High Availability (HA) Pair</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SizingGuidelines.html">Sizing Guidelines Detail</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ConfigureHTTPProxyforWebboundTraffic.html">How to Configure Alation to Use HTTP Proxy for All Web-bound Traffic</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ChangeBaseURL.html">How to Change the Base URL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../UpdateaLicenseFile.html">How to Update a License File</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../HighAvailability/index.html">High Availability</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Update/index.html">Update Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../BackupandRestore/index.html">Back Up and Restore</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../LineageV2/index.html">Lineage V2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../LineageV3/index.html">Lineage V3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../AlationAnalyticsV2/index.html">Alation Analytics V2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../AlationContainerService/index.html">Alation Container Service</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../sources/CatalogSources/index.html">Catalog Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sources/VirtualDataSources/index.html">Virtual Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sources/Lineage/index.html">Lineage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sources/APIResources/index.html">API Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sources/WorkwithCatalogData/index.html">Working with Catalog Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sources/OpenConnectorFramework/index.html">Open Connector Framework</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Data Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../datasources/DSConfiguration/index.html">Data Source Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../datasources/AddDataSources/index.html">Adding Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../datasources/ComposeSSOAWSDataSources/index.html">Compose SSO for Amazon Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../datasources/ComposeSSOAzureDataSources/index.html">Compose SSO for Azure Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../datasources/AuthenticationForExtraction/index.html">Authentication for Extraction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../datasources/CustomDB/index.html">Custom DB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../datasources/GBQ/index.html">Google BigQuery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../datasources/Hive/index.html">Hive</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">BI Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../bisources/AddBISources/index.html">Add BI Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../bisources/AddTableauServer/index.html">Add Tableau Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../bisources/WorkwithBISources/index.html">Working with BI Sources</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">File System Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../filesystems/FileSystems/index.html">Add File Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../filesystems/VirtualFileSystems/index.html">Virtual File Systems</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Analysts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../analyst/UserAuthenticationForDataSources/index.html">User Authentication for Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../analyst/ShareAndAccessQueries/index.html">Share and Access Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../analyst/WriteQueries/index.html">Write Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../analyst/DevelopQueries/index.html">Develop Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../analyst/WorkwithQueryResults/index.html">Work with Query Results</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Data Stewards</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../steward/GovernanceApp/index.html">Governance App</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../steward/PolicyCenter/index.html">Policy Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../steward/Workflow/index.html">Workflow Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../steward/GovernanceDashboard/index.html">Governance Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../steward/StewardshipWorkbench/index.html">Stewardship Workbench</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../steward/AnalyticsStewardship/index.html">Analytics Stewardship</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../steward/Glossary/index.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../steward/ArticlesAndTags/index.html">Articles and Tags</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../steward/ArticleGroups/index.html">Article Groups</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../steward/DataCatalogCustomization/index.html">Customize Your Data Catalog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../steward/DataDocumentation/index.html">Data Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../steward/AutoTitlingandLexicon/index.html">Auto-titling and Lexicon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../steward/SnowflakeTags/index.html">Snowflake Tags</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Server Administrators</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../admins/CustomizableHomePage/index.html">Customizable Homepage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../admins/AdminSettings/index.html">Administrator Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../admins/AdditionalConfiguration/index.html">Additional Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../admins/RunbookForAdministrators/index.html">Runbook for Administrators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../admins/AlationAPIs/index.html">Alation APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../admins/How-tos/index.html">How-tos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../admins/Troubleshooting/index.html">Troubleshooting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Release Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../releases/releasenotes/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../releases/supportmatrices/index.html">Support Matrices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../releases/endofsupport/index.html">End Of Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../releases/snowflakeclladdon/index.html">Snowflake Parser Add-On</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../releases/fieldnotices/index.html">Important Notices and Security Alerts</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Archived Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../archive/About/index.html">About the Documentation Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../archive/AdminConfig/index.html">Administration and Update Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../archive/ReleaseNotes/index.html">Release Notes Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../archive/Usage/index.html">Usage and Customization Archive</a></li>
</ul>

              
            
          </div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="wy-nav-top-icon"></i>
        <a href="../../../index.html">Alation User Guide</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">

          <div role="navigation" aria-label="breadcrumbs" class="breadcrumbs">
    <a href="../../../index.html">Docs</a>
    <span class="separator">&gt;</span>
    <a href="../index.html">Install Alation</a>
    <span class="separator">&gt;</span>
    <a href="index.html">User Authentication Setup</a>
    <span class="separator">&gt;</span>
    <span>Troubleshoot SCIM Configuration</span>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody" class="toBeIndexed">
            
  <section id="troubleshoot-scim-configuration">
<h1>Troubleshoot SCIM Configuration<a class="headerlink" href="#troubleshoot-scim-configuration" title="Permalink to this headline">¶</a></h1>
<p class="cloud-label hover-text">Alation Cloud Service <span class="tooltip-text">Applies to Alation Cloud Service instances of Alation</span></p>
<p class="on-prem-label hover-text">Customer Managed <span class="tooltip-text">Applies to customer-managed instances of Alation</span></p>
<p><em>Applies from release 2021.3</em></p>
<section id="logs">
<h2>Logs<a class="headerlink" href="#logs" title="Permalink to this headline">¶</a></h2>
<p>On customer-managed instances of Alation, you can check the logs for SCIM-related API calls. Logs are recorded at different logger levels (debug, info, and error) in different files in <strong>site/logs/</strong> (path inside the Alation chroot):</p>
<ul class="simple">
<li><p><strong>scim-error.log</strong>: Logs the unexpected exceptions</p></li>
<li><p><strong>scim-info.log</strong>: SCIM configuration errors and exceptions, authentication errors, and received API requests.</p></li>
<li><p><strong>scim-debug.log</strong>: application behaviors pertaining to user lifecycle and group lifecycle.</p></li>
</ul>
</section>
<section id="checking-the-configuration">
<h2>Checking the Configuration<a class="headerlink" href="#checking-the-configuration" title="Permalink to this headline">¶</a></h2>
<section id="view-scim-credentials">
<h3>View SCIM Credentials<a class="headerlink" href="#view-scim-credentials" title="Permalink to this headline">¶</a></h3>
<p>On customer-managed instances of Alation, you can view the currently set SCIM service account credentials from the Alation Django shell. To view the service account credentials for SCIM:</p>
<ol class="arabic">
<li><p>Use SSH to connect to the Alation server.</p></li>
<li><p>Enter the Alation shell using the following command:</p>
<div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>/etc/init.d/alation<span class="w"> </span>shell
</pre></div>
</div>
</li>
<li><p>Enter the Django shell:</p>
<div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>alation_django_shell
</pre></div>
</div>
</li>
</ol>
<ol class="arabic" start="2">
<li><p>From the Django shell, run the following code:</p>
<div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>from<span class="w"> </span>rosemeta.utils.users_and_groups.configuration_utils<span class="w"> </span>import<span class="w"> </span>get_scim_basic_auth_info

get_scim_basic_auth_info<span class="o">()</span>
</pre></div>
</div>
</li>
</ol>
<p>This will print the credentials to the console.</p>
</section>
<section id="view-scim-configuration">
<h3>View SCIM Configuration<a class="headerlink" href="#view-scim-configuration" title="Permalink to this headline">¶</a></h3>
<p>On customer-managed instances of Alation, you can view the SCIM configuration values in <strong>alation_conf</strong>. See: <a class="reference internal" href="ViewSCIMConfiguration.html"><span class="doc">Viewing SCIM Configuration in alation_conf</span></a>.</p>
</section>
</section>
<section id="allowing-okta-ip-addresses">
<span id="troubleshooting-scim-allow-okta"></span><h2>Allowing Okta IP Addresses<a class="headerlink" href="#allowing-okta-ip-addresses" title="Permalink to this headline">¶</a></h2>
<section id="issue-in-okta">
<h3>Issue in Okta<a class="headerlink" href="#issue-in-okta" title="Permalink to this headline">¶</a></h3>
<p>In the Okta user interface, when testing the connection between Alation and Okta during SCIM configuration, the following error occurs:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>Error<span class="w"> </span>Authenticating:<span class="w"> </span>Null
</pre></div>
</div>
</div></blockquote>
<section id="solution">
<h4>Solution<a class="headerlink" href="#solution" title="Permalink to this headline">¶</a></h4>
<p>On customer-managed instances of Alation:</p>
<ol class="arabic simple">
<li><p>Check the basic authentication username and password saved within Django.</p></li>
<li><p>Check the SCIM-related information in the SCIM application.</p></li>
<li><p>Check <strong>alation-debug.log</strong> for any authentication-specific errors.</p></li>
</ol>
<p>On both Alation Cloud Service and customer-managed instances of Alation, there may be a network issue. The SCIM protocol requires network access to the Alation instance in order to send user and group packages to the corresponding REST API endpoint. To allow Okta to reach Alation, you need to allow access from the Okta IP address range relevant to your region to the network hosting the Alation server. Refer to the following Okta documentation for more details:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://help.okta.com/en/prod/Content/Topics/Security/ip-address-allow-listing.htm">Okta IP address allow list</a></p></li>
</ul>
<p>Test the connection again after you have enabled network access from the Okta IP addresses.</p>
</section>
</section>
</section>
<section id="allowing-azure-ad-ip-addresses">
<span id="troubleshooting-scim-allow-azure"></span><h2>Allowing Azure AD IP Addresses<a class="headerlink" href="#allowing-azure-ad-ip-addresses" title="Permalink to this headline">¶</a></h2>
<section id="issue-in-azure-ad">
<h3>Issue in Azure AD<a class="headerlink" href="#issue-in-azure-ad" title="Permalink to this headline">¶</a></h3>
<p>In the Azure portal interface, when testing the connection between Alation and the Azure application during SCIM configuration, the following error occurs:</p>
<div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>Error<span class="w"> </span>code:<span class="w"> </span>systemForCrossDomainIdentitiyManagementCredentialValidationUnavilable
Details:<span class="w"> </span>We<span class="w"> </span>received<span class="w"> </span>this<span class="w"> </span>unexpected<span class="w"> </span>response<span class="w"> </span>from<span class="w"> </span>your<span class="w"> </span>application:
Message:<span class="w"> </span>An<span class="w"> </span>error<span class="w"> </span>occurred<span class="w"> </span><span class="k">while</span><span class="w"> </span>sending<span class="w"> </span>the<span class="w"> </span>request
</pre></div>
</div>
</section>
<section id="id1">
<h3>Solution<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>On customer-managed instances of Alation:</p>
<ol class="arabic simple">
<li><p>Check the basic authentication username and password saved within Django.</p></li>
<li><p>Check the SCIM-related information.</p></li>
<li><p>Check <strong>alation-debug.log</strong> for any authentication-specific errors.</p></li>
</ol>
<p>On both Alation Cloud Service and customer-managed instances of Alation, there may be a network issue.</p>
<ul class="simple">
<li><p>The Alation server in your network does not allow traffic from Azure AD.</p></li>
<li><p>Azure AD cannot resolve the DNS of the SCIM endpoint of the Alation server.</p></li>
</ul>
<p>You need to ensure that the network policy in your network allows access from the Azure AD IP addresses for the Azure public cloud.</p>
<section id="find-the-azure-ad-ip-range">
<h4>Find the Azure AD IP Range<a class="headerlink" href="#find-the-azure-ad-ip-range" title="Permalink to this headline">¶</a></h4>
<p>The Azure AD provisioning service currently operates using the IP ranges for Azure Active Directory as listed in <a class="reference external" href="https://www.microsoft.com/en-us/download/details.aspx?id=56519&amp;WT.mc_id=rss_alldownloads_all">Azure IP Ranges and Service Tags – Public Cloud</a>.</p>
<blockquote>
<div><div class="admonition important">
<p class="admonition-title">Important</p>
<p>The IPs in this list change every week. Alation strongly recommends adding an automation to regularly refresh the IPs in the load balancer security group.</p>
</div>
</div></blockquote>
<p>In the file you download from Azure, find the <code class="docutils literal notranslate"><span class="pre">AzureActiveDirectory</span></code> tag and the IPs listed under this tag. The screenshot below shows an example of the IP address range as can be seen in the file.</p>
<blockquote>
<div><img alt="../../../_images/SCIM_sync_prereq.png" src="../../../_images/SCIM_sync_prereq.png" />
</div></blockquote>
</section>
<section id="add-azure-ips-to-the-security-group-of-the-load-balancer">
<h4>Add Azure IPs to the Security Group of the Load Balancer<a class="headerlink" href="#add-azure-ips-to-the-security-group-of-the-load-balancer" title="Permalink to this headline">¶</a></h4>
<p>To allow traffic from the Azure AD provisioning service to the Alation server on your network, add the Azure IP range for <code class="docutils literal notranslate"><span class="pre">AzureActiveDirectory</span></code> to the security group of the load balancer of the network that hosts the Alation server.</p>
<p>After the IPs are added the connection test should be successful.</p>
<p>If not, this could be a DNS issue. Azure should be able to resolve the REST API endpoint of the Alation instance used by SCIM. This endpoint follows this format: <code class="docutils literal notranslate"><span class="pre">https://mycatalog.alationdata.com/scim/v2/</span></code>. Use the tips below to check if Azure AD can reach Alation.</p>
</section>
<section id="check-if-azure-ad-can-access-alation">
<h4>Check if Azure AD Can Access Alation<a class="headerlink" href="#check-if-azure-ad-can-access-alation" title="Permalink to this headline">¶</a></h4>
<p>Run <code class="docutils literal notranslate"><span class="pre">dig</span> <span class="pre">&lt;alation</span> <span class="pre">server</span> <span class="pre">name&gt;</span></code> from the Azure AD network to check if it can access the Alation server.</p>
<p>The screenshot below shows the output when we are not able to get an IP for the DNS name.</p>
<blockquote>
<div><img alt="../../../_images/SCIM_sync_prereq2.png" src="../../../_images/SCIM_sync_prereq2.png" />
</div></blockquote>
<p>If you get a similar output, this may be due to the fact that the server can only be accessed through the internal VPN. Compare the output that shows that the DNS is successfully resolved and that returns IP addresses:</p>
<blockquote>
<div><img alt="../../../_images/SCIM_sync_prereq3.png" src="../../../_images/SCIM_sync_prereq3.png" />
</div></blockquote>
<p>The solution will be specific to your network configuration. You can also contact Alation Support to help find a solution.</p>
</section>
</section>
</section>
<section id="error-messages">
<h2>Error Messages<a class="headerlink" href="#error-messages" title="Permalink to this headline">¶</a></h2>
<p>Alation follows exception handling as prescribed in the <a class="reference external" href="https://datatracker.ietf.org/doc/html/rfc7644#section-3.12">SCIM specification</a> that defines exception types. Use the table below to interpret exceptions found in the logs.</p>
<div class="sphinx_collapse docutils container">
<input class="sphinx_collapse__input" id="fdcf9ed0-c221-4cda-9b67-4cf64984986d" name="fdcf9ed0-c221-4cda-9b67-4cf64984986d" type="checkbox"><label class="sphinx_collapse__label" for="fdcf9ed0-c221-4cda-9b67-4cf64984986d"><i class="sphinx_collapse__icon"></i>Error Messages Table</label><div class="sphinx_collapse__content docutils container">
<table class="longtable colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Symptoms</p></th>
<th class="head"><p>Example of Error Message</p></th>
<th class="head"><p>Cause</p></th>
<th class="head"><p>Resolution</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Admin changes a username
in the IdP but the change
is not reflected in
Alation after the SCIM
push</p></td>
<td><p>Exception - Integrity:
Can’t update username
to &lt;username&gt;, user
with that name already
exists</p></td>
<td><p>The username was
updated to a username
that already exists
in Alation</p></td>
<td><p>Change the username
to a username value
that does not exist
in Alation</p></td>
</tr>
<tr class="row-odd"><td><p>Admin does not see
a user in the SCIM group
in Alation</p>
<p>An update to a user
profile is not reflected
in Alation</p>
<p>Un-assigning a user from
the SCIM app did not
deactivate this user in
Alation</p>
</td>
<td><p>Exception - NotFound:
Not found user by
identifier &lt;uid&gt;</p></td>
<td><p>The user with UUID
&lt;uid&gt; is not found
in Alation.</p></td>
<td><p>Re-assign the user
to the SCIM app in the
IdP</p></td>
</tr>
<tr class="row-even"><td><p>Users are not synced to
Alation</p></td>
<td><p>Exception - InvalidValue:
Required userName field
is missing</p></td>
<td><p>The <em>userName</em> field
is missing</p></td>
<td><p>Set <em>userName</em> as user
resource identifier
in the IdP</p></td>
</tr>
<tr class="row-odd"><td><p>Admin changes a Group
name in the IdP but this
change is not reflected
in Alation after the SCIM
push</p></td>
<td><p>Exception - Integrity:
Can’t update displayName
to &lt;name&gt;, group with
that name already exists</p></td>
<td><p>The <em>displayName</em> of a
Group is updated
to a name which
already exists
in Alation</p></td>
<td><p>Change the group
<em>displayName</em> to a
value that does not
exist in Alation</p></td>
</tr>
<tr class="row-even"><td><p>Admin does not see a SCIM
group in Alation</p>
<p><em>DisplayName</em> updated in
the IdP for a group is
not updated in Alation</p>
<p>Updated group members are
not updated in Alation</p>
</td>
<td><p>Exception - NotFound:
Not found group by
identifier &lt;uid&gt;</p></td>
<td><p>The group with UUID
&lt;uid&gt; is not not found
in Alation</p></td>
<td><p>Re-push the group
in the IdP</p></td>
</tr>
<tr class="row-odd"><td><p>Authentication errors</p></td>
<td><p>Exception - UnAuthorized:
Authentication
credentials were not
provided</p>
<p>Exception - UnAuthorized:
Authentication Failed
for user &lt;user&gt; Incorrect
username or password</p>
</td>
<td><p>Username and password
set up in Alation for
the SCIM client and
the credentials
provided for SCIM
Basic Auth in the IdP
do not match</p></td>
<td><p>Check the SCIM client
credentials in both
Alation and the IdP.
Make sure they match</p></td>
</tr>
<tr class="row-even"><td><p>Bad API request errors</p></td>
<td><p>Sync from directory
provider flag is off or
protocol flag is not
SCIM on the Alation
server. Please make sure
enable sync from
directory provider flag
and choose SCIM as
protocol</p>
<p>SAML authentication mode
is disabled at Service
Provider (Alation).
Please use SAML
authentication method
in Alation</p>
</td>
<td><p>SCIM sync is not
enabled</p></td>
<td><p>Enable SCIM sync in
the Alation Django
shell</p></td>
</tr>
<tr class="row-odd"><td><p>Filter query errors</p></td>
<td><p>Exception - InvalidFilter:
Incorrect filtering
format. More info &lt;…&gt;</p>
<p>Exception - InvalidFilter:
Invalid filter operation
or unsupported operator.
Supported operation:
[‘eq’]</p>
<p>Exception - InvalidFilter:
Invalid filter attribute.
Only support userName
for users and displayName
for groups.</p>
</td>
<td><p>Filtering users or
groups resource format
is incorrect</p></td>
<td><p>Verify the resource
format set in the IdP
or raise a Support
ticket for Alation
to review the errors
and propose a solution</p></td>
</tr>
<tr class="row-even"><td><p>PATCH method Bad request</p></td>
<td><p>Exception - BadRequest:
PATCH call made without
operations array</p>
<p>Exception - InvalidFilter:
Unknown PATCH op</p>
<p>Exception - InvalidFilter:
“value” must be specified
during “add” PATCH calls</p>
<p>Exception - NoTarget:
“path” must be specified
during “remove” PATCH
calls</p>
</td>
<td><p>The patch request does
not follow the SCIM
specification or
is not supported by
Alation</p></td>
<td><p>Verify the IdP
settings
or raise a Support
ticket for Alation
to review the errors
and propose a solution</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
</section>


           </div>
          </div>
          <footer>

  
<div class="navigation-bar">

    <div class="navigation navigation--prev">
        
        <a class="navigation__link" href="ViewSCIMConfiguration.html">
            <button class="navigation__button">
                <i class="icon icon-left"></i>
            </button>
            <div class="navigation__title">
                <span class="heading">Previous</span> <br />View SCIM Configuration in alation_conf
            </div>
        </a>
        
    </div>

    <div class="navigation navigation--next">
        
        <a class="navigation__link" title="Accesskey Alt(+Shift)+p" accesskey="p" href="SetUpSCIMIntegrationInOkta.html">
            <div class="navigation__title">
                <span class="heading">Next</span> <br />Set Up SCIM Integration in Okta
            </div>
            <button class="navigation__button" title="Accesskey Alt(+Shift)+n" accesskey="n">
                <i class="icon icon-right"></i>
            </button>
        </a>
        
    </div>

</div>


</footer>

        </div>
      </div>

    </section>

    <div class="wy-nav-side wy-nav-secondary">
      <div class="wy-side-scroll">
        <div class="wy-side-scroll__content">
          <div class="wy-menu-secondary">
              <div class="comments">
    <a href="mailto:no-reply-docs-feedback@alation.com?subject=Documentation Feedback on installconfig/ServerInstallation/UserAuthenticationSetup/TroubleshootingSCIMConfiguration&body=Alation%20welcomes%20your%20comments%20on%20typos,%20content%20accuracy%20and%20completeness,%20and%20whether%20you%20found%20this%20page%20helpful.%20You%20will%20not%20receive%20a%20reply%20to%20this%20email.">
        <i class="icon icon-envelope" aria-hidden="true"></i>Request docs changes
    </a>
    <a href="#open-modal-pdf">
        <i class="icon icon-pdf" aria-hidden="true"></i>Download PDF
    </a>
</div>
              
                <p class="wy-menu-secondary-header">On this page</p>
                <ul>
<li><a class="reference internal" href="#">Troubleshoot SCIM Configuration</a><ul>
<li><a class="reference internal" href="#logs">Logs</a></li>
<li><a class="reference internal" href="#checking-the-configuration">Checking the Configuration</a><ul>
<li><a class="reference internal" href="#view-scim-credentials">View SCIM Credentials</a></li>
<li><a class="reference internal" href="#view-scim-configuration">View SCIM Configuration</a></li>
</ul>
</li>
<li><a class="reference internal" href="#allowing-okta-ip-addresses">Allowing Okta IP Addresses</a><ul>
<li><a class="reference internal" href="#issue-in-okta">Issue in Okta</a><ul>
<li><a class="reference internal" href="#solution">Solution</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#allowing-azure-ad-ip-addresses">Allowing Azure AD IP Addresses</a><ul>
<li><a class="reference internal" href="#issue-in-azure-ad">Issue in Azure AD</a></li>
<li><a class="reference internal" href="#id1">Solution</a><ul>
<li><a class="reference internal" href="#find-the-azure-ad-ip-range">Find the Azure AD IP Range</a></li>
<li><a class="reference internal" href="#add-azure-ips-to-the-security-group-of-the-load-balancer">Add Azure IPs to the Security Group of the Load Balancer</a></li>
<li><a class="reference internal" href="#check-if-azure-ad-can-access-alation">Check if Azure AD Can Access Alation</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#error-messages">Error Messages</a></li>
</ul>
</li>
</ul>

              
            </div>
          </div>
      </div>
    </div>

  </div>

  
  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->

  
    <script id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../../_static/clipboard.min.js"></script>
      <script type="text/javascript" src="../../../_static/copybutton.js"></script>
      <script type="text/javascript" src="../../../_static/js/rtd_sphinx_search.min.js"></script>
  
  <script type="text/javascript" src="../../../_static/searchtools.js"></script> <script type="text/javascript" id="idPiwikScriptPlaceholder"></script><script type="text/javascript" src="../../../_static/js/main.bundle.js"></script>
  <script type="text/javascript" src="../../../_static/js/runtime.bundle.js"></script>

  
  

  
    <div id="open-modal-pdf" class="modal-window">
<div>
  <a href="#" title="Close" class="modal-close">Close</a>
  <h4>Alation Documentation PDF</h4>
  <p>This PDF contains all our documentation and is more than <b>120 MB</b> in size. We recommend using an ethernet or Wi-Fi connection for downloading.</p>
  <br>
  <div class="modal-buttons">
    <a href="https://pdf-docs.alation.com/AlationUserDocs.pdf" class="btn-cta btn-cta--primary" target="_blank">
      Download PDF
    </a>
    <a href="#" title="Close" class="btn-cta">Cancel</a>
  </div>
</div>
  

</body>
</html>
<!--3.6.17-->