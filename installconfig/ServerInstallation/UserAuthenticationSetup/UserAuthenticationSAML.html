
<!DOCTYPE html>
<html lang="" >
<head>
  <meta charset="utf-8"/>
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="book-version"      content=""/>
  <meta name="book-release"      content=""/>
  <meta name="docsearch:name"    content="Alation User Guide" />
  <meta name="docsearch:version" content="" />
  <meta name="docsearch:package_type" content="" />
	<meta name="robots" content="noindex" />

  
  <title>Configure Authentication with SAML from Alation Shell &mdash; Alation User Guide</title>
  

  
  
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
  

  

  
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/css/main.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/sphinx_collapse.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/copybutton.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/css/rtd_sphinx_search.min.css" type="text/css" />
        <link rel="search" title="Search" href="../../../search.html"/>
    <link rel="top" title="Alation User Guide" href="#"/>
        <link rel="up" title="User Authentication Setup" href="index.html"/>
        <link rel="next" title="Configure Authentication with SAML from Admin Settings" href="UserAuthenticationSAMLUI.html"/>
        <link rel="prev" title="User Authentication with LDAP" href="UserAuthenticationLDAP.html"/>

	

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-67846571-1"></script>
	<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());

	gtag('config', 'UA-67846571-1');
	</script>

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<!-- Second Google Analytics tag to assist mapping with mattermost.com visits --> 
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-120238482-1"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'UA-120238482-1');
	</script>


</head>

<body class="wy-body-for-nav" role="document">

  <header>
    <div class="header__container wy-max-content-width">
        <a href="/" class="header__logo">
            <img width="176" src="../../../_static/img/logo-alation.svg" alt="Alation" />
        </a>
        <ul class="header__links">
            <li><a href="https://help.alation.com/s/">Alation Help Center</a></li>
        </ul>
    </div>
</header>

  <div class="wy-grid-for-nav wy-max-content-width">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-scroll__content">
          <div class="wy-side-nav-search">
            

            <ul class="sidebartop">
              <li class="nolink search"><div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search this project" aria-label="Search this project" id="searchinput" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
</li>

            </ul>

            
          </div>

          <div class="wy-menu wy-sidebar wy-sidebar--hidden" data-spy="affix" role="navigation" aria-label="main navigation">
            
              
              
              
                  <p class="caption" role="heading"><span class="caption-text">Welcome to Alation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../welcome/About/index.html">About Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../welcome/CloudAndOnPrem/index.html">Alation Cloud and On-Premise</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../welcome/UserProfileandPreferences/index.html">User Profile and Preferences</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../welcome/CatalogBasics/index.html">Catalog Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../welcome/CatalogPages/index.html">Catalog Pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../welcome/Conversations/index.html">Conversations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../welcome/Domains/index.html">Domains</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../welcome/BestPractices/index.html">Best Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../welcome/Glossary/index.html">Alation Glossary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation Cloud Service</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../cloud/StatusPage/index.html">Status Page</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cloud/CloudOverview/index.html">Cloud Service Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cloud/CloudConfiguration/index.html">Configuration for Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cloud/AlationAgent/index.html">Alation Agent</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation Integration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../integration/AlationAnywhere/index.html">Alation Anywhere</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../integration/AlationConnectedSheets/index.html">Alation Connected Sheets</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installation &amp; Configuration</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Install Alation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../PrepforInstallation.html">Preparing for Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SystemRequirements.html">System Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../NetworkRequirements.html">Network Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../InstallationReadiness.html">Installation Readiness</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation.html">Installation Process</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">User Authentication Setup</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="UserAuthenticationLDAP.html">User Authentication with LDAP</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Configure Authentication with SAML from Alation Shell</a></li>
<li class="toctree-l3"><a class="reference internal" href="UserAuthenticationSAMLUI.html">Configure Authentication with SAML from Admin Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="UserAuthenticationOIDC.html">Configure Authentication with OpenID Connect</a></li>
<li class="toctree-l3"><a class="reference internal" href="EnableSCIMIntegration.html">Enable SCIM Integration for User and Group Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="TokenAuthForSCIMSync.html">Manage Token Authentication for SCIM Sync</a></li>
<li class="toctree-l3"><a class="reference internal" href="TestingSCIMConfiguration.html">Test SCIM Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="ViewSCIMConfiguration.html">View SCIM Configuration in alation_conf</a></li>
<li class="toctree-l3"><a class="reference internal" href="TroubleshootingSCIMConfiguration.html">Troubleshoot SCIM Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="SetUpSCIMIntegrationInOkta.html">Set Up SCIM Integration in Okta</a></li>
<li class="toctree-l3"><a class="reference internal" href="SetUpSAMLandSCIMIntegrationInPingFederate.html">Set Up SAML and SCIM Integration in PingFederate</a></li>
<li class="toctree-l3"><a class="reference internal" href="SetUpSAMLandSCIMwithAAD.html">Set Up SAML and SCIM Integration in Azure AD</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ConfigureEmailServer.html">Email Server Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../HTTPS.html">HTTPS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../HighAvailability.html">Installing on High Availability (HA) Pair</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SizingGuidelines.html">Sizing Guidelines Detail</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ConfigureHTTPProxyforWebboundTraffic.html">How to Configure Alation to Use HTTP Proxy for All Web-bound Traffic</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ChangeBaseURL.html">How to Change the Base URL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../UpdateaLicenseFile.html">How to Update a License File</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../HighAvailability/index.html">High Availability</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Update/index.html">Update Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../BackupandRestore/index.html">Back Up and Restore</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../LineageV2/index.html">Lineage V2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../LineageV3/index.html">Lineage V3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../AlationAnalyticsV2/index.html">Alation Analytics V2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../AlationContainerService/index.html">Alation Container Service</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../sources/CatalogSources/index.html">Catalog Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sources/VirtualDataSources/index.html">Virtual Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sources/Lineage/index.html">Lineage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sources/APIResources/index.html">API Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sources/WorkwithCatalogData/index.html">Working with Catalog Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sources/OpenConnectorFramework/index.html">Open Connector Framework</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Data Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../datasources/DSConfiguration/index.html">Data Source Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../datasources/AddDataSources/index.html">Adding Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../datasources/ComposeSSOAWSDataSources/index.html">Compose SSO for Amazon Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../datasources/ComposeSSOAzureDataSources/index.html">Compose SSO for Azure Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../datasources/AuthenticationForExtraction/index.html">Authentication for Extraction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../datasources/CustomDB/index.html">Custom DB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../datasources/GBQ/index.html">Google BigQuery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../datasources/Hive/index.html">Hive</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">BI Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../bisources/AddBISources/index.html">Add BI Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../bisources/AddTableauServer/index.html">Add Tableau Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../bisources/WorkwithBISources/index.html">Working with BI Sources</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">File System Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../filesystems/FileSystems/index.html">Add File Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../filesystems/VirtualFileSystems/index.html">Virtual File Systems</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Analysts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../analyst/UserAuthenticationForDataSources/index.html">User Authentication for Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../analyst/ShareAndAccessQueries/index.html">Share and Access Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../analyst/WriteQueries/index.html">Write Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../analyst/DevelopQueries/index.html">Develop Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../analyst/WorkwithQueryResults/index.html">Work with Query Results</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Data Stewards</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../steward/GovernanceApp/index.html">Governance App</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../steward/PolicyCenter/index.html">Policy Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../steward/Workflow/index.html">Workflow Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../steward/GovernanceDashboard/index.html">Governance Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../steward/StewardshipWorkbench/index.html">Stewardship Workbench</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../steward/AnalyticsStewardship/index.html">Analytics Stewardship</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../steward/Glossary/index.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../steward/ArticlesAndTags/index.html">Articles and Tags</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../steward/ArticleGroups/index.html">Article Groups</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../steward/DataCatalogCustomization/index.html">Customize Your Data Catalog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../steward/DataDocumentation/index.html">Data Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../steward/AutoTitlingandLexicon/index.html">Auto-titling and Lexicon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../steward/SnowflakeTags/index.html">Snowflake Tags</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Server Administrators</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../admins/CustomizableHomePage/index.html">Customizable Homepage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../admins/AdminSettings/index.html">Administrator Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../admins/AdditionalConfiguration/index.html">Additional Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../admins/RunbookForAdministrators/index.html">Runbook for Administrators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../admins/AlationAPIs/index.html">Alation APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../admins/How-tos/index.html">How-tos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../admins/Troubleshooting/index.html">Troubleshooting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Release Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../releases/releasenotes/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../releases/supportmatrices/index.html">Support Matrices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../releases/endofsupport/index.html">End Of Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../releases/snowflakeclladdon/index.html">Snowflake Parser Add-On</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../releases/fieldnotices/index.html">Important Notices and Security Alerts</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Archived Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../archive/About/index.html">About the Documentation Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../archive/AdminConfig/index.html">Administration and Update Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../archive/ReleaseNotes/index.html">Release Notes Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../archive/Usage/index.html">Usage and Customization Archive</a></li>
</ul>

              
            
          </div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="wy-nav-top-icon"></i>
        <a href="../../../index.html">Alation User Guide</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">

          <div role="navigation" aria-label="breadcrumbs" class="breadcrumbs">
    <a href="../../../index.html">Docs</a>
    <span class="separator">&gt;</span>
    <a href="../index.html">Install Alation</a>
    <span class="separator">&gt;</span>
    <a href="index.html">User Authentication Setup</a>
    <span class="separator">&gt;</span>
    <span>Configure Authentication with SAML from Alation Shell</span>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody" class="toBeIndexed">
            
  <section id="configure-authentication-with-saml-from-alation-shell">
<h1>Configure Authentication with SAML from Alation Shell<a class="headerlink" href="#configure-authentication-with-saml-from-alation-shell" title="Permalink to this headline">¶</a></h1>
<p>Alation supports SAML authentication, and your data catalog can be one of the applications accessible with single sign-on (SSO). With SSO, users log in into their SSO provider in order to access multiple other authorized apps.</p>
<p>This page describes configuring authentication with SAML <strong>on the backend of the Alation server</strong>. This configuration requires SSH access to the Alation host.</p>
<p>Alternatively, <em>from version 2022.1</em>, users with the Server Admin role can configure SAML authentication in the Alation user interface. Refer to <a class="reference internal" href="UserAuthenticationSAMLUI.html"><span class="doc">Configure Authentication with SAML from Admin Settings</span></a> for details.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p><em>From version 2021.3</em>, Alation supports automatic group management using SCIM 2.0 APIs. If you are going to manage groups via the IdP, you will need to configure SCIM in addition to SAML in both your IdP and Alation. See <a class="reference internal" href="#sync-groups-between-alation-and-idp-using-scim">Sync Groups Between Alation and IdP Using SCIM</a> below.</p>
</div>
</div></blockquote>
<section id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Your company uses corporate authentication using either a native SAML server or a third party SAML Identity Provider (IdP), such as Okta, OneLogin, or other.</p></li>
<li><p>You have SSH access to your Alation host and can use the Alation shell.</p></li>
<li><p>You will need to get the file <strong>idp_metadata.xml</strong> after configuring the IdP side. This file must be placed on the Alation server as part of the configuration on the Alation side.</p></li>
</ul>
</section>
<section id="step-1-generate-saml-keys-in-alation">
<h2>Step 1: Generate SAML Keys in Alation<a class="headerlink" href="#step-1-generate-saml-keys-in-alation" title="Permalink to this headline">¶</a></h2>
<p>To generate the keys:</p>
<ol class="arabic">
<li><p>Use SSH to connect to the Alation host.</p></li>
<li><p>Enter the Alation shell:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>/etc/init.d/alation<span class="w"> </span>shell
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Run the following command to generate the keys:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>alation_action<span class="w"> </span>create_saml_keys
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Verify that SAML keys have been successfully generated: check the directory <strong>opt/alation/site/saml</strong> (path inside the Alation shell). There should be two key files in this directory:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>private.pem</strong></p></li>
<li><p><strong>public.pem</strong></p></li>
</ul>
</div></blockquote>
</li>
</ol>
</section>
<section id="step-2-add-alation-to-your-idp">
<h2>Step 2: Add Alation to Your IdP<a class="headerlink" href="#step-2-add-alation-to-your-idp" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p>By default, Alation sends <strong>signed</strong> SAML authentication requests to the IdP. If your IdP requires service provider request signatures to be verified, copy and upload the <strong>public.pem</strong> file generated in the previous step from the Alation host to your IdP.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>This setting is controlled by the <strong>alation_conf</strong> parameter <code class="docutils literal notranslate"><span class="pre">alation.authentication.saml.authn_requests_signed</span></code> which is <code class="docutils literal notranslate"><span class="pre">True</span></code> by default.</p>
</div>
</div></blockquote>
</li>
<li><p>Register an application for Alation in your IdP. Use the table <a class="reference internal" href="#saml-parameters">SAML Parameters</a> below for SAML parameter values expected by Alation.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can use section <a class="reference internal" href="#example-idp-configuration-okta-2018-42-as-sso-provider">Example IdP Configuration: Okta (2018.42) as SSO Provider</a> as an example.</p>
</div>
</div></blockquote>
</li>
</ol>
<section id="saml-parameters">
<h3>SAML Parameters<a class="headerlink" href="#saml-parameters" title="Permalink to this headline">¶</a></h3>
<p>To add Alation to your IdP, you will need to provide a number of required SAML parameters and configure SAML attributes for attribute assertion.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 21%" />
<col style="width: 79%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>IdP Parameter</p></th>
<th class="head"><p>Value required by Alation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Assertion Consumer Service (ACS)
URL</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">BASE_URL/saml2/acs/</span></code></p>
<p>(Replace <code class="docutils literal notranslate"><span class="pre">BASE_URL</span></code> with the
URL of your Alation instance).</p>
</td>
</tr>
<tr class="row-odd"><td><p>Recipient URL</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">BASE_URL/saml2/acs/</span></code></p>
<p>(Replace <code class="docutils literal notranslate"><span class="pre">BASE_URL</span></code> with the
URL of your Alation instance).</p>
</td>
</tr>
<tr class="row-even"><td><p>Audience URI</p>
<p>(Audience Restriction)</p>
</td>
<td><p><code class="docutils literal notranslate"><span class="pre">http://alation.com/</span></code></p>
<p>Note that this is the default
value. It matches the default
value of the <strong>Entity ID</strong> property for
Alation application.</p>
</td>
</tr>
<tr class="row-odd"><td><p>(Optional) Single Logout (SLO)
URL</p>
<p>Confirm that you want to
enable SLO. All users will be
logged out of your SSO system
upon logout from Alation if SLO
is enabled.</p>
</td>
<td><p>SLO URL for HTTP-Redirect (GET based):  <code class="docutils literal notranslate"><span class="pre">BASE_URL/saml2/ls/</span></code></p>
<p>SLO URL for HTTP-POST: <code class="docutils literal notranslate"><span class="pre">BASE_URL/saml2/ls/post/</span></code></p>
<p>(Replace BASE_URL with the URL of
your Alation instance).</p>
<p>Note that to complete enabling
SLO, you will need to set the
dedicated parameter in Alation,
too. This step is described
in step 4 below.</p>
</td>
</tr>
<tr class="row-even"><td><p>Metadata</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">BASE_URL/saml2/metadata/</span></code></p>
<p>(Replace BASE_URL with the URL of
your Alation instance).</p>
<p>Note that to access metadata at
this URL, it is required to
temporarily enable SAML
authentication, after
accessing the metadata file,
disable it and proceed with
configuration.</p>
<p>To enable SAML,</p>
<ol class="arabic">
<li><p>Set the <strong>alation_conf</strong> parameter <code class="docutils literal notranslate"><span class="pre">alation.authentication.saml.enabled</span></code> to <code class="docutils literal notranslate"><span class="pre">True</span></code> and restart the uWSGI component:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">alation_conf</span> <span class="n">alation</span><span class="o">.</span><span class="n">authentication</span><span class="o">.</span><span class="n">saml</span><span class="o">.</span><span class="n">enabled</span> <span class="o">-</span><span class="n">s</span> <span class="kc">True</span>
<span class="n">alation_supervisor</span> <span class="n">restart</span> <span class="n">web</span><span class="p">:</span><span class="n">uwsgi</span>
</pre></div>
</div>
</li>
<li><p>Now you can access the metadata at <code class="docutils literal notranslate"><span class="pre">BASE_URL/saml2/metadata/</span></code></p></li>
<li><p>Disable SAML and restart uWSGI to continue with configuration:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">alation_conf</span> <span class="n">alation</span><span class="o">.</span><span class="n">authentication</span><span class="o">.</span><span class="n">saml</span><span class="o">.</span><span class="n">enabled</span> <span class="o">-</span><span class="n">s</span> <span class="kc">False</span>
<span class="n">alation_supervisor</span> <span class="n">restart</span> <span class="n">web</span><span class="p">:</span><span class="n">uwsgi</span>
</pre></div>
</div>
</li>
</ol>
</td>
</tr>
<tr class="row-odd"><td><p>(Optional) Response Signed</p></td>
<td><p>If you choose to use the signed response,
set the corresponding <strong>alation_conf</strong>
parameter to
<code class="docutils literal notranslate"><span class="pre">True</span></code>. See <a class="reference internal" href="#step-3-configure-the-response-and-assertion-signatures">STEP 3: Configure the Response and Assertion Signatures</a></p></td>
</tr>
<tr class="row-even"><td><p>(Optional) Assertion Signed</p></td>
<td><p>If you choose to use the signed assertion, you set the corresponding <strong>alation_conf</strong>
parameter to
<code class="docutils literal notranslate"><span class="pre">True</span></code>. See <a class="reference internal" href="#step-3-configure-the-response-and-assertion-signatures">STEP 3: Configure the Response and Assertion Signatures</a></p></td>
</tr>
</tbody>
</table>
</section>
<section id="configure-saml-attributes">
<span id="user-authentication-configure-saml-attributes"></span><h3>Configure SAML Attributes<a class="headerlink" href="#configure-saml-attributes" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>If your IdP does not offer a way to map attributes, you can use a custom attribute map to configure them. See <a class="reference internal" href="../../../admins/AdditionalConfiguration/CustomAttributeMapforSAMLConfiguration.html"><span class="doc">Use a Custom Attribute map for SAML Configuration</span></a> for more details.</p>
</div>
</div></blockquote>
<p>Alation supports two name formats for SAML attributes: <strong>URI</strong> and <strong>Basic</strong>. It is recommended to use the name format <strong>URI</strong>. To use URI, for all attributes your IdP will include in the assertion response, make sure to set the name format to:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">urn:oasis:names:tc:SAML:2.0:attrname-format:uri</span></code></p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>If you do not have an option to configure the name format in your IdP settings, use the URI attribute name format as Alation defaults to using URI.</p>
</div>
</div></blockquote>
<p>To configure the attributes:</p>
<ol class="arabic">
<li><p>Map the SAML attributes for the Assertion Response.</p>
<blockquote>
<div><p>The attributes listed in the table below are required by Alation. These attributes should be sent as part of the <code class="docutils literal notranslate"><span class="pre">AttributeStatement</span></code> part of the SAML response. The table below lists the attributes in  the URI format: <code class="docutils literal notranslate"><span class="pre">NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:uri&quot;</span></code>:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 54%" />
<col style="width: 46%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Attribute Name: URI</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">urn:oid:0.9.2342.19200300.100.1.1</span></code></p></td>
<td><p>The user ID for a user (can be
Employee ID, Username, Email,
etc. This is the attribute that
identifies a user.
If you cannot provide the user
ID attribute, see
<a class="reference internal" href="#using-name-id-as-user-id">Using name id as User ID</a>
below.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">urn:oid:0.9.2342.19200300.100.1.3</span></code></p></td>
<td><p>The user’s email address</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">urn:oid:2.5.4.42</span></code></p></td>
<td><p>The user’s first/given name</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">urn:oid:2.5.4.4</span></code></p></td>
<td><p>The user’s last name/surname</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">urn:oid:2.5.4.12</span></code></p></td>
<td><p>The user’s title (optional)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">urn:oid:0.9.2342.19200300.100.1.60</span></code></p></td>
<td><p>The user’s profile photo
(optional)</p></td>
</tr>
</tbody>
</table>
<p>You can alternatively use the name format <code class="docutils literal notranslate"><span class="pre">Basic</span></code> if your IdP does not support <code class="docutils literal notranslate"><span class="pre">URI</span></code>:</p>
<p><code class="docutils literal notranslate"><span class="pre">NameFormat=&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:basic&quot;</span></code></p>
<p>The SAML attribute names using the format <code class="docutils literal notranslate"><span class="pre">Basic</span></code> are listed in the table below.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 56%" />
<col style="width: 44%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Attribute Name: Basic</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">urn:mace:dir:attribute-def:uid</span></code></p></td>
<td><p>The user ID for a user (Employee
ID, Username, Email, etc.).
If you cannot provide the user
ID attribute, see
<a class="reference internal" href="#using-name-id-as-user-id">Using name id as User ID</a>
below.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">urn:mace:dir:attribute-def:mail</span></code></p></td>
<td><p>The user’s email address</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">urn:mace:dir:attribute-def:givenName</span></code></p></td>
<td><p>The user’s first/given name</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">urn:mace:dir:attribute-def:sn</span></code></p></td>
<td><p>The user’s last name/surname</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">urn:mace:dir:attribute-def:title</span></code></p></td>
<td><p>The user’s title (optional)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">urn:mace:dir:attribute-def:jpegPhoto</span></code></p></td>
<td><p>The user’s profile photo
(optional)</p></td>
</tr>
</tbody>
</table>
<p>Example: When correctly configured, the attributes in your assertion response will look similar to the following:</p>
<a class="reference internal image-reference" href="../../../_images/SAML_attributes.png"><img alt="../../../_images/SAML_attributes.png" class="align-center" src="../../../_images/SAML_attributes.png" style="width: 5.5in;" /></a>
</div></blockquote>
</li>
</ol>
</section>
<section id="using-name-id-as-user-id">
<h3>Using name id as User ID<a class="headerlink" href="#using-name-id-as-user-id" title="Permalink to this headline">¶</a></h3>
<p><em>Available from release 2021.2</em></p>
<p>By default, Alation requires that a user ID attribute should be present in the assertion response. However, sometimes an admin cannot provide this attribute from their IdP configuration due to security policy restrictions or other reasons.</p>
<p>If this is your case, you can set the <strong>alation_conf</strong> parameter <strong>alation.authentication.saml.use_name_id_as_username</strong>
to <code class="docutils literal notranslate"><span class="pre">True</span></code> on the Alation server. When it is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, the <strong>uid</strong> attribute or any other custom unique attribute for identifying users does not need to be included into the SAML assertion response. Instead, the <strong>name id</strong> attribute from the SAML response will be used as the unique attribute for looking up a user.</p>
<p>It is recommended to set this parameter during the initial setup of SAML authentication. Making this change later to switch from using the <strong>uid</strong> attribute to the <strong>name id</strong> attribute will result in Alation creating duplicate accounts for existing users.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>To troubleshoot duplication, the existing accounts need to be converted to the new accounts. Contact Alation Support to guide you through this process.</p>
</div>
</div></blockquote>
<p>To set the parameter:</p>
<ol class="arabic">
<li><p>From the Alation shell, run:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>alation_conf<span class="w"> </span>alation.authentication.saml.use_name_id_as_username<span class="w"> </span>-s<span class="w"> </span>True
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>In versions 2022.1 and newer, no restart is required. In versions before 2022.1, restart the Web service:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>alation_supervisor<span class="w"> </span>restart<span class="w"> </span>web:*
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>On the IdP side, make sure that the <strong>Name ID Format</strong> attribute in the integration application you are using for Alation is set to either <code class="docutils literal notranslate"><span class="pre">persistent</span></code> or <code class="docutils literal notranslate"><span class="pre">EmailAddress</span></code>. The value must not be <code class="docutils literal notranslate"><span class="pre">transient</span></code> as <code class="docutils literal notranslate"><span class="pre">transient</span></code> is incompatible with this configuration on the Alation server.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the parameter <code class="docutils literal notranslate"><span class="pre">alation.authentication.saml.use_name_id_as_username</span></code> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code> on the Alation server, but at the same time, the Name ID Format attribute is set to <code class="docutils literal notranslate"><span class="pre">transient</span></code> on the IdP side, Alation may create duplicate accounts when users log in.</p>
</div>
</div></blockquote>
</li>
<li><p>Perform this step in <strong>release 2022.1 and newer</strong>. In older releases, skip this step.</p>
<blockquote>
<div><p>After verifying the Name ID Format on the IdP side, make sure that on the Alation side, you have the same setting. Check the value of the <strong>alation_conf</strong> parameter <code class="docutils literal notranslate"><span class="pre">alation.authentication.saml.name_id_policy_format</span></code>. The default value is <code class="docutils literal notranslate"><span class="pre">urn:oasis:names:tc:SAML:2.0:nameid-format:persistent</span></code>. This value is valid if on the IdP side you have selected <code class="docutils literal notranslate"><span class="pre">persistent</span></code>. If on the IdP side you have selected <code class="docutils literal notranslate"><span class="pre">emailAddress</span></code>, then set this parameter to <code class="docutils literal notranslate"><span class="pre">emailAddress</span></code>. From the Alation shell, run:</p>
<div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>alation_conf<span class="w"> </span>alation.authentication.saml.name_id_policy_format<span class="w"> </span>-s<span class="w"> </span>urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress
</pre></div>
</div>
<p>No restart is required.</p>
</div></blockquote>
</li>
</ol>
</section>
</section>
<section id="step-3-configure-the-response-and-assertion-signatures">
<h2>Step 3: Configure the Response and Assertion Signatures<a class="headerlink" href="#step-3-configure-the-response-and-assertion-signatures" title="Permalink to this headline">¶</a></h2>
<p>This step applies if you have enabled the <em>Response Signed</em> or <em>Assertion Signed</em> signatures in your IdP application settings for Alation. Alation has two dedicated parameters in <strong>alation_conf</strong> that need to be set to <code class="docutils literal notranslate"><span class="pre">True</span></code> for the signed response or assertion or both to be required.</p>
<p>If you have only enabled the signed response, you need to set <code class="docutils literal notranslate"><span class="pre">alation.authentication.saml.want_response_signed</span></code> to <code class="docutils literal notranslate"><span class="pre">True</span></code>.  In versions 2022.1 and newer, no restart is required. In versions before 2022.1, restart the Web service:</p>
<blockquote>
<div><ol class="arabic">
<li><p>In the Alation shell, run</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>alation_conf<span class="w"> </span>alation.authentication.saml.want_response_signed<span class="w"> </span>-s<span class="w"> </span>True
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Restart Web:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>alation_supervisor<span class="w"> </span>restart<span class="w"> </span>web:uwsgi
</pre></div>
</div>
</div></blockquote>
</li>
</ol>
</div></blockquote>
<p>If you have only enabled the signed assertion, you need to set <code class="docutils literal notranslate"><span class="pre">alation.authentication.saml.want_assertions_signed</span></code> to <code class="docutils literal notranslate"><span class="pre">True</span></code>.  In versions 2022.1 and newer, no restart is required. In versions before 2022.1, restart the Web service:</p>
<blockquote>
<div><ol class="arabic">
<li><p>In the Alation shell, run</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>alation_conf<span class="w"> </span>alation.authentication.saml.want_assertions_signed<span class="w"> </span>-s<span class="w"> </span>True
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Restart Web:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>alation_supervisor<span class="w"> </span>restart<span class="w"> </span>web:uwsgi
</pre></div>
</div>
</div></blockquote>
</li>
</ol>
</div></blockquote>
<p>If you have enabled both, both parameters should be set to <code class="docutils literal notranslate"><span class="pre">True</span></code>. In versions 2022.1 and newer, no restart is required. In versions before 2022.1, restart the Web service:</p>
<blockquote>
<div><ol class="arabic">
<li><p>In the Alation shell, run:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>alation_conf<span class="w"> </span>alation.authentication.saml.want_assertions_signed<span class="w"> </span>-s<span class="w"> </span>True
alation_conf<span class="w"> </span>alation.authentication.saml.want_response_signed<span class="w"> </span>-s<span class="w"> </span>True
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Restart Web:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>alation_supervisor<span class="w"> </span>restart<span class="w"> </span>web:uwsgi
</pre></div>
</div>
</div></blockquote>
</li>
</ol>
</div></blockquote>
<section id="configuring-the-encryption-algorithm">
<h3>Configuring the Encryption Algorithm<a class="headerlink" href="#configuring-the-encryption-algorithm" title="Permalink to this headline">¶</a></h3>
<p><em>Available from version 2022.1</em></p>
<p>In version 2022.1 and newer, perform this step if you have enabled any of the signatures (signed response, signed assertion, or both) in your IdP application settings. You can further specify the encryption algorithm of the SAML signature method (<code class="docutils literal notranslate"><span class="pre">SignatureMethod</span></code>) and SAML digest method (<code class="docutils literal notranslate"><span class="pre">DigestMethod</span></code>). The default is <code class="docutils literal notranslate"><span class="pre">SHA1</span></code>. The encryption algorithms you set in Alation using <strong>alation_conf</strong> should correspond to the encryption algorithms you have selected on the IdP side. Make sure you are setting the same signature (<code class="docutils literal notranslate"><span class="pre">SignatureMethod</span></code>) and digest (<code class="docutils literal notranslate"><span class="pre">DigestMethod</span></code>) algorithm as in the IdP.</p>
<section id="saml-signaturemethod">
<h4>SAML SignatureMethod<a class="headerlink" href="#saml-signaturemethod" title="Permalink to this headline">¶</a></h4>
<p>By default, Alation uses <code class="docutils literal notranslate"><span class="pre">SHA1</span></code> as the signature algorithm. It is possible to change it to <code class="docutils literal notranslate"><span class="pre">SHA256</span></code> using <strong>alation_conf</strong>:</p>
<blockquote>
<div><ol class="arabic">
<li><p>From the Alation shell, run the following command:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>alation_conf<span class="w"> </span>alation.authentication.saml.authn_requests_sign_algo<span class="w"> </span>-s<span class="w"> </span>sha256
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>No restart is required.</p></li>
</ol>
</div></blockquote>
</section>
<section id="saml-digestmethod">
<h4>SAML DigestMethod<a class="headerlink" href="#saml-digestmethod" title="Permalink to this headline">¶</a></h4>
<p>By default, Alation uses <code class="docutils literal notranslate"><span class="pre">SHA1</span></code> as the digest algorithm. It is possible to change it to <code class="docutils literal notranslate"><span class="pre">SHA</span> <span class="pre">256</span></code> using <strong>alation_conf</strong>.</p>
<blockquote>
<div><ol class="arabic">
<li><p>From the Alation shell, run the following command:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>alation_conf<span class="w"> </span>alation.authentication.saml.authn_requests_digest_algo<span class="w"> </span>-s<span class="w"> </span>sha256
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>No restart is required.</p></li>
</ol>
</div></blockquote>
</section>
</section>
</section>
<section id="step-4-place-the-idp-metadata-file-on-the-alation-server">
<h2>Step 4. Place the IdP Metadata File on the Alation Server<a class="headerlink" href="#step-4-place-the-idp-metadata-file-on-the-alation-server" title="Permalink to this headline">¶</a></h2>
<p>You will need the metadata file <code class="docutils literal notranslate"><span class="pre">idp_metadata.xml</span></code> from your IdP in the SAML XML format.</p>
<p>Make sure the file has the following information:</p>
<blockquote>
<div><ul class="simple">
<li><p>Entity ID</p></li>
<li><p>X509 certificate for signature verification</p></li>
<li><p>SingleSignOnService Location (the Remote Login URL for the SAML server)</p></li>
<li><p>HTTP binding: <code class="docutils literal notranslate"><span class="pre">Redirect</span></code> or <code class="docutils literal notranslate"><span class="pre">POST</span></code> (optional; if not defined, will default to <code class="docutils literal notranslate"><span class="pre">Redirect</span></code>)</p></li>
</ul>
</div></blockquote>
<section id="protocol-binding">
<h3>Protocol Binding<a class="headerlink" href="#protocol-binding" title="Permalink to this headline">¶</a></h3>
<p>Alation supports both HTTP POST and HTTP Redirect binding for SAML SSO. The protocol binding defaults to <strong>Redirect</strong> and is controlled by the <strong>alation_conf</strong> parameter  <code class="docutils literal notranslate"><span class="pre">alation.authentication.saml.force_redirect_binding</span></code>.</p>
<p>If you are using Redirect binding, leave the default value.</p>
<p>If you are using POST, set this parameter to <code class="docutils literal notranslate"><span class="pre">False</span></code>:</p>
<ol class="arabic">
<li><p>From the Alation shell, run:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>alation_conf<span class="w"> </span>alation.authentication.saml.force_redirect_binding<span class="w"> </span>-s<span class="w"> </span>False
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Restart uWSGI:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>alation_supervisor<span class="w"> </span>restart<span class="w"> </span>web:uwsgi
</pre></div>
</div>
</div></blockquote>
</li>
</ol>
</section>
<section id="providing-the-idp-metadata-xml-to-alation">
<h3>Providing the idp_metadata.xml to Alation<a class="headerlink" href="#providing-the-idp-metadata-xml-to-alation" title="Permalink to this headline">¶</a></h3>
<p>To place the <strong>idp_metadata.xml</strong> file to the Alation server:</p>
<ol class="arabic">
<li><p>Copy the <strong>idp_metadata.xml</strong> file to a directory on the Alation host, for example <strong>/tmp</strong>.</p></li>
<li><p>SSH to the host.</p></li>
<li><p>Move the file from <strong>/tmp</strong> (or from the location you copied it to) to <strong>/opt/alation/alation/data1/site_data/saml/</strong> (path outside the Alation shell). From inside the Alation shell, this file will now be accessible at <strong>/opt/alation/site/saml/idp_metadata.xml</strong></p></li>
<li><p>If you do not have a shell session open, enter the Alation shell:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>/etc/init.d/alation<span class="w"> </span>shell
</pre></div>
</div>
</li>
<li><p>Make sure the <strong>idp_metadata.xml</strong> file is present at <strong>/opt/alation/site/saml/idp_metadata.xml</strong>.</p></li>
</ol>
</section>
</section>
<section id="step-5-configure-additional-parameters-and-enable-saml-authentication">
<h2>Step 5. Configure Additional Parameters and Enable SAML Authentication<a class="headerlink" href="#step-5-configure-additional-parameters-and-enable-saml-authentication" title="Permalink to this headline">¶</a></h2>
<p>Perform these steps in the Alation shell.</p>
<ol class="arabic">
<li><p>If you are using an Entity ID value other than default, then provide the Entity ID using the <strong>alation_conf</strong> command:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>alation_conf<span class="w"> </span>alation.authentication.saml.entity_id<span class="w"> </span>-s<span class="w"> </span>&lt;globally_unique_entity_id&gt;
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">&lt;globally_unique_entity_id&gt;</span></code> should be replaced with a valid, globally unique Entity ID.</p>
<p>If you are using Audience Restriction in your IdP, the Entity ID should match the Audience Restriction value for the server you are configuring.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The default Entity ID is <code class="docutils literal notranslate"><span class="pre">http://alation.com/</span></code>.</p>
<p>Entity ID can be any URI that can be considered unique in your network. In most cases, only one instance of Alation runs in the production environment, authenticating against the production IdP. Usually, the assumption is that there is no other application with the Entity ID set to <code class="docutils literal notranslate"><span class="pre">http://alation.com/</span></code> in the IdP, and so this value is unique and can identify the Alation application.</p>
<p>However, if you are not using the default value, provide the value that will uniquely identify the server you are configuring and make sure to set the same value in the parameter <code class="docutils literal notranslate"><span class="pre">alation.authentication.saml.entity_id</span></code>.</p>
</div>
</div></blockquote>
</li>
<li><p>To allow users to log in to Alation from the application dashboard in the IdP, set the parameter <code class="docutils literal notranslate"><span class="pre">alation.authentication.saml.allow_unsolicited</span></code> to <code class="docutils literal notranslate"><span class="pre">True</span></code>. This parameter ensures that:</p>
<blockquote>
<div><ul class="simple">
<li><p>Users can log in to Alation directly from the IdP dashboard</p></li>
<li><p>Users can successfully log in from the Chrome browser</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>alation_conf<span class="w"> </span>alation.authentication.saml.allow_unsolicited<span class="w"> </span>-s<span class="w"> </span>True
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>(Optional) To enable SLO, set:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>alation_conf<span class="w"> </span>alation.authentication.saml.logout_supported<span class="w"> </span>-s<span class="w"> </span>True
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Enable SAML authentication:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>alation_conf<span class="w"> </span>alation.authentication.saml.enabled<span class="w"> </span>-s<span class="w"> </span>True
alation_conf<span class="w"> </span>alation.authentication.builtin.enabled<span class="w"> </span>-s<span class="w"> </span>False
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Restart the Web service:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>alation_supervisor<span class="w"> </span>restart<span class="w"> </span>web:*
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Exit the Alation shell:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">exit</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ol>
</section>
<section id="step-6-verify-your-saml-configuration">
<h2>Step 6. Verify Your SAML Configuration<a class="headerlink" href="#step-6-verify-your-saml-configuration" title="Permalink to this headline">¶</a></h2>
<p>Visit your Alation server in the browser of your choice and make sure that:</p>
<blockquote>
<div><ul class="simple">
<li><p>You are redirected to your IdP login page correctly</p></li>
<li><p>After you authenticate with your IdP (log in using the corporate username and password), you are then redirected to Alation, and logged in.</p></li>
</ul>
</div></blockquote>
</section>
<section id="sync-groups-between-alation-and-idp-using-scim">
<h2>Sync Groups Between Alation and IdP Using SCIM<a class="headerlink" href="#sync-groups-between-alation-and-idp-using-scim" title="Permalink to this headline">¶</a></h2>
<p><em>Available from version 2021.3</em></p>
<p>When the authentication method on the Alation instance is SAML, it is possible to also enable SCIM integration in order to synchronize Groups between Alation and the IdP. With Groups pushed from the IdP over SCIM APIs, Server Admins do not have to manually create Custom Groups and manually maintain consistency of group membership when new users are added or users are removed from groups in the company directory.</p>
<p>If you choose to use SCIM integration to sync groups, you will first need to configure SAML authentication and then configure SCIM sync for groups and users. See <a class="reference internal" href="EnableSCIMIntegration.html"><span class="doc">Enable SCIM Integration for User and Group Management</span></a> for details.</p>
</section>
<section id="example-idp-configuration-okta-2018-42-as-sso-provider">
<h2>Example IdP Configuration: Okta (2018.42) as SSO Provider<a class="headerlink" href="#example-idp-configuration-okta-2018-42-as-sso-provider" title="Permalink to this headline">¶</a></h2>
<p>This section contains parameter values for adding Alation to the SSO application cluster via Okta. Use this information if your SSO Provider is Okta (this description is based on Okta version 2018.42).</p>
<p>To provide parameters for Alation in Okta,</p>
<ol class="arabic simple">
<li><p>Log in to Okta and navigate to Administrator’s dashboard, then click <strong>Add Applications</strong>.</p></li>
<li><p>On the Applications page, click <strong>Create New Application</strong>.</p></li>
<li><p>In the <strong>Create a New Application Integration</strong> dialog, select <strong>SAML 2.0</strong> and click <strong>Create</strong>.</p></li>
<li><p>On the settings screen that opens, provide the values for the SSO parameters (see below). Note that Okta UI provides explanations for each required parameter in a tooltip opened from the “question” icon.</p></li>
<li><p>After you have provided the parameters, proceed to the <strong>Feedback</strong> tab of the settings screen, provide the required information, and click <strong>Finish</strong>.</p></li>
</ol>
<section id="parameters-for-alation-in-okta">
<h3>Parameters for Alation in Okta<a class="headerlink" href="#parameters-for-alation-in-okta" title="Permalink to this headline">¶</a></h3>
<p><strong>General Tab</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 41%" />
<col style="width: 59%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>App Name</p></td>
<td><p>For example, <em>Alation</em></p></td>
</tr>
<tr class="row-even"><td><p>App logo (optional)</p></td>
<td><p>Add the logo if desired</p></td>
</tr>
<tr class="row-odd"><td><p>App visibility</p></td>
<td><p>Select or leave clear the checkboxes as
required</p></td>
</tr>
</tbody>
</table>
<p><strong>Configure SAML</strong> tab (Replace <code class="docutils literal notranslate"><span class="pre">BASE_URL</span></code> with the URL of your Alation instance)</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 41%" />
<col style="width: 59%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Single Sign On URL</p></td>
<td><p>BASE_URL/saml2/acs/</p></td>
</tr>
<tr class="row-even"><td><p>Use this for Recipient URL
and Destination URL (checkbox)</p></td>
<td><p>selected</p></td>
</tr>
<tr class="row-odd"><td><p>Audience URI (SP Entity ID)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">http://alation.com/</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Default RelayState</p></td>
<td><p>Leave blank</p></td>
</tr>
<tr class="row-odd"><td><p>Name ID Format</p></td>
<td><p>EmailAddress</p></td>
</tr>
<tr class="row-even"><td><p>Application username</p></td>
<td><p>Okta username</p></td>
</tr>
<tr class="row-odd"><td colspan="2"><p><strong>Advanced Settings</strong></p></td>
</tr>
<tr class="row-even"><td><p>Response</p></td>
<td><p>Signed</p></td>
</tr>
<tr class="row-odd"><td><p>Assertion Signature</p></td>
<td><p>Signed</p></td>
</tr>
<tr class="row-even"><td><p>Signature Algorithm</p></td>
<td><p>RSA-SHA256</p></td>
</tr>
<tr class="row-odd"><td><p>Digest Algorithm</p></td>
<td><p>SHA256</p></td>
</tr>
<tr class="row-even"><td><p>Assertion Encryption</p></td>
<td><p>Unencrypted</p></td>
</tr>
<tr class="row-odd"><td><p>Enable Single Logout</p></td>
<td><p>Verify with your organization if you want
to use SLO for Alation.
If SLO is required, then select checkbox
<strong>Allow application to initiate Single Logout</strong></p></td>
</tr>
<tr class="row-even"><td><p>Single Logout URL
(only applies if SLO is enabled)</p></td>
<td><p>BASE_URL/saml2/ls/post/</p></td>
</tr>
<tr class="row-odd"><td><p>SP Issuer</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">http://alation.com/</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Signature Certificate</p></td>
<td><p>Leave blank</p></td>
</tr>
<tr class="row-odd"><td><p>Authentication context class</p></td>
<td><p>PasswordProtectedTransport</p></td>
</tr>
<tr class="row-even"><td><p>Honor Force Authentication</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>SAML Issuer ID</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">http://www.okta.com/${org.externalKey}</span></code></p></td>
</tr>
</tbody>
</table>
<p><strong>Attribute Statements in URI</strong></p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>See <a class="reference internal" href="#configure-saml-attributes">Configure SAML Attributes</a> for reference.</p>
</div>
</div></blockquote>
<table class="docutils align-default">
<colgroup>
<col style="width: 52%" />
<col style="width: 21%" />
<col style="width: 27%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Name Format</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">urn:oid:0.9.2342.19200300.100.1.3</span></code></p></td>
<td><p>URI Reference</p></td>
<td><p>user.email</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">urn:oid:0.9.2342.19200300.100.1.1</span></code></p></td>
<td><p>URI Reference</p></td>
<td><p>user.login</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">urn:oid:2.5.4.42</span></code></p></td>
<td><p>URI Reference</p></td>
<td><p>user.firstName</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">urn:oid:2.5.4.4</span></code></p></td>
<td><p>URI Reference</p></td>
<td><p>user.lastName</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">urn:oid:2.5.4.12</span></code></p></td>
<td><p>URI Reference</p></td>
<td><p>user.title</p></td>
</tr>
</tbody>
</table>
<p>Leave <strong>Group Attribute Statements (Optional)</strong> blank.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer>

  
<div class="navigation-bar">

    <div class="navigation navigation--prev">
        
        <a class="navigation__link" href="UserAuthenticationLDAP.html">
            <button class="navigation__button">
                <i class="icon icon-left"></i>
            </button>
            <div class="navigation__title">
                <span class="heading">Previous</span> <br />User Authentication with LDAP
            </div>
        </a>
        
    </div>

    <div class="navigation navigation--next">
        
        <a class="navigation__link" title="Accesskey Alt(+Shift)+p" accesskey="p" href="UserAuthenticationSAMLUI.html">
            <div class="navigation__title">
                <span class="heading">Next</span> <br />Configure Authentication with SAML from Admin Settings
            </div>
            <button class="navigation__button" title="Accesskey Alt(+Shift)+n" accesskey="n">
                <i class="icon icon-right"></i>
            </button>
        </a>
        
    </div>

</div>


</footer>

        </div>
      </div>

    </section>

    <div class="wy-nav-side wy-nav-secondary">
      <div class="wy-side-scroll">
        <div class="wy-side-scroll__content">
          <div class="wy-menu-secondary">
              <div class="comments">
    <a href="mailto:no-reply-docs-feedback@alation.com?subject=Documentation Feedback on installconfig/ServerInstallation/UserAuthenticationSetup/UserAuthenticationSAML&body=Alation%20welcomes%20your%20comments%20on%20typos,%20content%20accuracy%20and%20completeness,%20and%20whether%20you%20found%20this%20page%20helpful.%20You%20will%20not%20receive%20a%20reply%20to%20this%20email.">
        <i class="icon icon-envelope" aria-hidden="true"></i>Request docs changes
    </a>
    <a href="#open-modal-pdf">
        <i class="icon icon-pdf" aria-hidden="true"></i>Download PDF
    </a>
</div>
              
                <p class="wy-menu-secondary-header">On this page</p>
                <ul>
<li><a class="reference internal" href="#">Configure Authentication with SAML from Alation Shell</a><ul>
<li><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li><a class="reference internal" href="#step-1-generate-saml-keys-in-alation">Step 1: Generate SAML Keys in Alation</a></li>
<li><a class="reference internal" href="#step-2-add-alation-to-your-idp">Step 2: Add Alation to Your IdP</a><ul>
<li><a class="reference internal" href="#saml-parameters">SAML Parameters</a></li>
<li><a class="reference internal" href="#configure-saml-attributes">Configure SAML Attributes</a></li>
<li><a class="reference internal" href="#using-name-id-as-user-id">Using name id as User ID</a></li>
</ul>
</li>
<li><a class="reference internal" href="#step-3-configure-the-response-and-assertion-signatures">Step 3: Configure the Response and Assertion Signatures</a><ul>
<li><a class="reference internal" href="#configuring-the-encryption-algorithm">Configuring the Encryption Algorithm</a><ul>
<li><a class="reference internal" href="#saml-signaturemethod">SAML SignatureMethod</a></li>
<li><a class="reference internal" href="#saml-digestmethod">SAML DigestMethod</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#step-4-place-the-idp-metadata-file-on-the-alation-server">Step 4. Place the IdP Metadata File on the Alation Server</a><ul>
<li><a class="reference internal" href="#protocol-binding">Protocol Binding</a></li>
<li><a class="reference internal" href="#providing-the-idp-metadata-xml-to-alation">Providing the idp_metadata.xml to Alation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#step-5-configure-additional-parameters-and-enable-saml-authentication">Step 5. Configure Additional Parameters and Enable SAML Authentication</a></li>
<li><a class="reference internal" href="#step-6-verify-your-saml-configuration">Step 6. Verify Your SAML Configuration</a></li>
<li><a class="reference internal" href="#sync-groups-between-alation-and-idp-using-scim">Sync Groups Between Alation and IdP Using SCIM</a></li>
<li><a class="reference internal" href="#example-idp-configuration-okta-2018-42-as-sso-provider">Example IdP Configuration: Okta (2018.42) as SSO Provider</a><ul>
<li><a class="reference internal" href="#parameters-for-alation-in-okta">Parameters for Alation in Okta</a></li>
</ul>
</li>
</ul>
</li>
</ul>

              
            </div>
          </div>
      </div>
    </div>

  </div>

  
  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->

  
    <script id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../../_static/clipboard.min.js"></script>
      <script type="text/javascript" src="../../../_static/copybutton.js"></script>
      <script type="text/javascript" src="../../../_static/js/rtd_sphinx_search.min.js"></script>
  
  <script type="text/javascript" src="../../../_static/searchtools.js"></script> <script type="text/javascript" id="idPiwikScriptPlaceholder"></script><script type="text/javascript" src="../../../_static/js/main.bundle.js"></script>
  <script type="text/javascript" src="../../../_static/js/runtime.bundle.js"></script>

  
  

  
    <div id="open-modal-pdf" class="modal-window">
<div>
  <a href="#" title="Close" class="modal-close">Close</a>
  <h4>Alation Documentation PDF</h4>
  <p>This PDF contains all our documentation and is more than <b>120 MB</b> in size. We recommend using an ethernet or Wi-Fi connection for downloading.</p>
  <br>
  <div class="modal-buttons">
    <a href="https://pdf-docs.alation.com/AlationUserDocs.pdf" class="btn-cta btn-cta--primary" target="_blank">
      Download PDF
    </a>
    <a href="#" title="Close" class="btn-cta">Cancel</a>
  </div>
</div>
  

</body>
</html>
<!--3.6.17-->