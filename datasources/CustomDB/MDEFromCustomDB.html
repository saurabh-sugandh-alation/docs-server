
<!DOCTYPE html>
<html lang="" >
<head>
  <meta charset="utf-8"/>
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="book-version"      content=""/>
  <meta name="book-release"      content=""/>
  <meta name="docsearch:name"    content="Alation User Guide" />
  <meta name="docsearch:version" content="" />
  <meta name="docsearch:package_type" content="" />
	<meta name="robots" content="noindex" />

  
  <title>Metadata Extraction From Custom DB &mdash; Alation User Guide</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  

  

  
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/main.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/sphinx_collapse.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/rtd_sphinx_search.min.css" type="text/css" />
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="Alation User Guide" href="#"/>
        <link rel="up" title="Custom DB" href="index.html"/>
        <link rel="next" title="Guidelines for Creating Queries for MDE" href="GuidelinesForMDEQueries.html"/>
        <link rel="prev" title="Add Custom DB to Alation" href="AddCustomDBtoAlation.html"/>

	

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-67846571-1"></script>
	<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());

	gtag('config', 'UA-67846571-1');
	</script>

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<!-- Second Google Analytics tag to assist mapping with mattermost.com visits --> 
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-120238482-1"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'UA-120238482-1');
	</script>


</head>

<body class="wy-body-for-nav" role="document">

  <header>
    <div class="header__container wy-max-content-width">
        <a href="/" class="header__logo">
            <img width="176" src="../../_static/img/logo-alation.svg" alt="Alation" />
        </a>
        <ul class="header__links">
            <li><a href="https://help.alation.com/s/">Alation Help Center</a></li>
        </ul>
    </div>
</header>

  <div class="wy-grid-for-nav wy-max-content-width">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-scroll__content">
          <div class="wy-side-nav-search">
            

            <ul class="sidebartop">
              <li class="nolink search"><div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search this project" aria-label="Search this project" id="searchinput" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
</li>

            </ul>

            
          </div>

          <div class="wy-menu wy-sidebar wy-sidebar--hidden" data-spy="affix" role="navigation" aria-label="main navigation">
            
              
              
              
                  <p class="caption" role="heading"><span class="caption-text">Welcome to Alation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/About/index.html">About Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/CloudAndOnPrem/index.html">Alation Cloud and On-Premise</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/QuickStart/index.html">Quick Start Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/UserProfileandPreferences/index.html">User Profile and Preferences</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/CatalogBasics/index.html">Catalog Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Conversations/index.html">Conversations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Domains/index.html">Domains</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/BestPractices/index.html">Best Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Glossary/index.html">Alation Glossary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation Cloud Service</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/StatusPage/index.html">Status Page</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/CloudOverview/index.html">Cloud Service Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/CloudConfiguration/index.html">Configuration for Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/AlationAgent/index.html">Alation Agent</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation Integration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../integration/AlationAnywhere/index.html">Alation Anywhere</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../integration/AlationConnectedSheets/index.html">Alation Connected Sheets</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installation &amp; Configuration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/ServerInstallation/index.html">Install Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/HighAvailability/index.html">High Availability</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/Runbook/index.html">Runbook for Administrators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/Update/index.html">Update Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/BackupandRestore/index.html">Back Up and Restore</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/LineageV2/index.html">Lineage V2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/LineageV3/index.html">Lineage V3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/AlationAnalyticsV2/index.html">Alation Analytics V2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/AlationContainerService/index.html">Alation Container Service</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../sources/CatalogSources/index.html">Catalog Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/VirtualDataSources/index.html">Virtual Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/Lineage/index.html">Lineage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/APIResources/index.html">API Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/WorkwithCatalogData/index.html">Working with Catalog Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/OpenConnectorFramework/index.html">Open Connector Framework</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Data Sources</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../DSConfiguration/index.html">Data Source Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../AddDataSources/index.html">Adding Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ComposeSSOAWSDataSources/index.html">Compose SSO for Amazon Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ComposeSSOAzureDataSources/index.html">Compose SSO for Azure Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../AuthenticationForExtraction/index.html">Authentication for Extraction</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Custom DB</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="AddCustomDrivers.html">Add Custom Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="CDataDrivers.html">CData Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="DriverFixer.html">Driver Fixer</a></li>
<li class="toctree-l2"><a class="reference internal" href="AddCustomDBtoAlation.html">Add Custom DB to Alation</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Metadata Extraction From Custom DB</a></li>
<li class="toctree-l2"><a class="reference internal" href="GuidelinesForMDEQueries.html">Guidelines for Creating Queries for MDE</a></li>
<li class="toctree-l2"><a class="reference internal" href="ProfilingForCustomDB.html">Sampling and Profiling</a></li>
<li class="toctree-l2"><a class="reference internal" href="QLIFromCustomDB.html">QLI From Custom DB</a></li>
<li class="toctree-l2"><a class="reference internal" href="FileBasedQLICustomDB.html">File-Based Query Log Ingestion</a></li>
<li class="toctree-l2"><a class="reference internal" href="ViewBasedQLICustomDB.html">View-Based QLI</a></li>
<li class="toctree-l2"><a class="reference internal" href="SQLQueryBasedQLICustomDB.html">SQL Query QLI</a></li>
<li class="toctree-l2"><a class="reference internal" href="AWSAthena.html">Amazon Athena</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpdateSimbaJDBCDriverForAthenaToSupportSSO.html">Update Simba JDBC Driver for Amazon Athena to Support SSO</a></li>
<li class="toctree-l2"><a class="reference internal" href="AWSDynamoDB.html">Amazon DynamoDB</a></li>
<li class="toctree-l2"><a class="reference internal" href="AzureCosmosDB.html">Azure Cosmos DB</a></li>
<li class="toctree-l2"><a class="reference internal" href="AzureDW.html">Azure Data Warehouse (Azure SQL DW)</a></li>
<li class="toctree-l2"><a class="reference internal" href="ConfluentKafka.html">Confluent Kafka</a></li>
<li class="toctree-l2"><a class="reference internal" href="DatabricksforCustomDB.html">Databricks for Custom DB</a></li>
<li class="toctree-l2"><a class="reference internal" href="DatabricksAzure.html">Databricks Azure</a></li>
<li class="toctree-l2"><a class="reference internal" href="DatabricksAzureOAuthForCompose.html">Azure Databricks: Configure SSO through OAuth for Compose</a></li>
<li class="toctree-l2"><a class="reference internal" href="Denodo.html">Denodo</a></li>
<li class="toctree-l2"><a class="reference internal" href="Elasticsearch.html">Elasticsearch</a></li>
<li class="toctree-l2"><a class="reference internal" href="EMRSparkSQL.html">EMR SparkSQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="EMRPrestoWithAWSGlueAsMetastore.html">EMR Presto on Hive with AWS Glue as Metastore</a></li>
<li class="toctree-l2"><a class="reference internal" href="GCPDatabricks.html">GCP Databricks</a></li>
<li class="toctree-l2"><a class="reference internal" href="GitHub.html">GitHub</a></li>
<li class="toctree-l2"><a class="reference internal" href="MariaDB.html">MariaDB</a></li>
<li class="toctree-l2"><a class="reference internal" href="MarkLogic.html">MarkLogic</a></li>
<li class="toctree-l2"><a class="reference internal" href="MongoDB.html">MongoDB</a></li>
<li class="toctree-l2"><a class="reference internal" href="MongoDBAtlas.html">MongoDB Atlas</a></li>
<li class="toctree-l2"><a class="reference internal" href="NetSuite.html">NetSuite</a></li>
<li class="toctree-l2"><a class="reference internal" href="Parquet.html">Parquet (Amazon S3)</a></li>
<li class="toctree-l2"><a class="reference internal" href="Salesforce.html">Salesforce</a></li>
<li class="toctree-l2"><a class="reference internal" href="Servicenow.html">ServiceNow</a></li>
<li class="toctree-l2"><a class="reference internal" href="Splunk.html">Splunk</a></li>
<li class="toctree-l2"><a class="reference internal" href="SSAS.html">SQL Server Analysis Service (SSAS)</a></li>
<li class="toctree-l2"><a class="reference internal" href="StarburstEnterprisePresto.html">Starburst Enterprise (Presto)</a></li>
<li class="toctree-l2"><a class="reference internal" href="StarburstEnterpriseTrino.html">Starburst Enterprise (Trino)</a></li>
<li class="toctree-l2"><a class="reference internal" href="ReferenceForQueryBasedMDE.html">Example Queries for Query-Based MDE</a></li>
<li class="toctree-l2"><a class="reference internal" href="ReferenceFileBasedQLI.html">Example JSONs for File-Based QLI</a></li>
<li class="toctree-l2"><a class="reference internal" href="ToubleshootingForCDataDataSources.html">Troubleshooting for CData Data Sources</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../GBQ/index.html">Google BigQuery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Hive/index.html">Hive</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">BI Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/AddBISources/index.html">Add BI Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/AddTableauServer/index.html">Add Tableau Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/WorkwithBISources/index.html">Working with BI Sources</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">File System Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../filesystems/FileSystems/index.html">Add File Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../filesystems/VirtualFileSystems/index.html">Virtual File Systems</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Analysts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/UserAuthenticationForDataSources/index.html">User Authentication for Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/ShareAndAccessQueries/index.html">Share and Access Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/WriteQueries/index.html">Write Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/DevelopQueries/index.html">Develop Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/WorkwithQueryResults/index.html">Work with Query Results</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Data Stewards</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../steward/GovernanceApp/index.html">Governance App</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/PolicyCenter/index.html">Policy Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/Workflow/index.html">Workflow Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/GovernanceDashboard/index.html">Governance Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/StewardshipWorkbench/index.html">Stewardship Workbench</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/AnalyticsStewardship/index.html">Analytics Stewardship</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/Glossary/index.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/ArticlesAndTags/index.html">Articles and Tags</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/ArticleGroups/index.html">Article Groups</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/DataCatalogCustomization/index.html">Customize Your Data Catalog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/DataDocumentation/index.html">Data Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/AutoTitlingandLexicon/index.html">Auto-titling and Lexicon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/SnowflakeTags/index.html">Snowflake Tags</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Server Administrators</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../admins/CustomizableHomePage/index.html">Customizable Homepage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AdminSettings/index.html">Administrator Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AdditionalConfiguration/index.html">Additional Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/RunbookForAdministrators/index.html">Runbook for Administrators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AlationAPIs/index.html">Alation APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/How-tos/index.html">How-tos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/Troubleshooting/index.html">Troubleshooting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Release Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../releases/releasenotes/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/supportmatrices/index.html">Support Matrices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/endofsupport/index.html">End Of Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/snowflakeclladdon/index.html">Snowflake Parser Add-On</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/fieldnotices/index.html">Important Notices and Security Alerts</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Archived Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../archive/About/index.html">About the Documentation Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/AdminConfig/index.html">Administration and Update Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/ReleaseNotes/index.html">Release Notes Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/Usage/index.html">Usage and Customization Archive</a></li>
</ul>

              
            
          </div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="wy-nav-top-icon"></i>
        <a href="../../index.html">Alation User Guide</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">

          <div role="navigation" aria-label="breadcrumbs" class="breadcrumbs">
    <a href="../../index.html">Docs</a>
    <span class="separator">&gt;</span>
    <a href="index.html">Custom DB</a>
    <span class="separator">&gt;</span>
    <span>Metadata Extraction From Custom DB</span>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody" class="toBeIndexed">
            
  <section id="metadata-extraction-from-custom-db">
<h1>Metadata Extraction From Custom DB<a class="headerlink" href="#metadata-extraction-from-custom-db" title="Permalink to this headline">¶</a></h1>
<p>Custom DB supports regular MDE (both full and selective) and query-based MDE.</p>
<section id="regular-mde">
<span id="metadata-extraction-from-custom-db-regular-mde"></span><h2>Regular MDE<a class="headerlink" href="#regular-mde" title="Permalink to this headline">¶</a></h2>
<p>Regular MDE can be used if you do not want to customize extraction from this source. Alation will try to fetch all the metadata it can access with the service account you provided using the driver selected in <strong>General Settings</strong>.</p>
<p>Before performing regular MDE, consider setting the <strong>Catalog Object Definition</strong> for your data source on the <strong>Custom Settings</strong> tab of the <strong>Settings</strong> page (available from version <em>2020.3</em>). Catalog Object Definition is an optional setting and is not required to be configured if the driver-based methods correctly determine the object definition for your data source.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The Catalog Object Definition setting only applies to regular MDE and does not impact custom query-based type of extraction. Query-based MDE depends only on the custom queries.</p>
</div>
<p>If the catalog object definition determined <strong>based on the driver methods</strong> is not correct for your data source, then you can explicitly choose an option on the <strong>Settings &gt; Custom Settings</strong> tab.</p>
</section>
<section id="set-the-catalog-object-definition">
<span id="metadata-extraction-from-custom-db-set-the-catalog-object-definition"></span><h2>Set the Catalog Object Definition<a class="headerlink" href="#set-the-catalog-object-definition" title="Permalink to this headline">¶</a></h2>
<p><strong>Available from 2020.3</strong></p>
<p>Select a <strong>Catalog Object Definition</strong> that applies to your database type to ensure that Alation does not depend on driver-specific methods to determine if the connected data source follows the single part or multipart database object definition:</p>
<img alt="../../_images/DS_CustomDB24.png" src="../../_images/DS_CustomDB24.png" />
<p>To select an option, click the appropriate radio button under <strong>Custom Settings</strong> &gt; <strong>Catalog Object Definition</strong>. The selected option will be used to represent objects in the Catalog during the next metadata extraction:</p>
<ul class="simple">
<li><p><strong>Catalog.Schema.Table</strong>: choose this format if your data source uses such object hierarchy as Database/Catalog &gt; Schema &gt; Tables</p></li>
<li><p><strong>Schema.Table</strong>: choose this format if your data source uses such hierarchy as Schema &gt; Tables</p></li>
<li><p><strong>Catalog.Table</strong>:  choose this format if the hierarchy is Catalog &gt; Tables. This format is not widely used and needed only if your system tables store the catalog information in the <strong>TABLE_CAT</strong> field and the <strong>TABLE_SCHEM</strong> field is empty.</p></li>
</ul>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>When set, the Catalog Object Definition cannot be cleared. The data source is expected to fall into one of the three categories, and the right format has to be selected.</p>
</div>
<section id="test-the-selected-format">
<h3>Test the Selected Format<a class="headerlink" href="#test-the-selected-format" title="Permalink to this headline">¶</a></h3>
<p>After selecting an option, check if the selected format is correct for the data source.
Go to the <strong>Metadata Extraction</strong> tab and under <strong>Selective Extraction</strong>, click the <strong>Refresh</strong> button. You should see the list of schemas in the expected format in the Schemas list.</p>
<p>The Catalog Object Definition-related logs are captured in the <strong>alation-info.log</strong> during MDE. In the UI, the selected format is captured in the Job History table when MDE is progress.</p>
<img alt="../../_images/DS_CustomDB25.png" src="../../_images/DS_CustomDB25.png" />
</section>
<section id="change-the-catalog-object-definition-after-mde">
<h3>Change the Catalog Object Definition After MDE<a class="headerlink" href="#change-the-catalog-object-definition-after-mde" title="Permalink to this headline">¶</a></h3>
<p>You can set or change the Catalog Object Definition after performing MDE; however, this may have implications for the existing catalog objects, such as articles and tags that reference objects extracted with the previously set Object Definition. Re-running MDE with the new Object Definition also has an impact on query history and lineage generated before it was rerun as the objects extracted with different Catalog Object Definitions are considered as different objects by Alation.</p>
<p>To change the Catalog Object Definition,</p>
<ol class="arabic simple">
<li><p>Open <strong>Settings</strong> &gt; <strong>Custom Settings</strong> and select an option under the Catalog Object Definition section.</p></li>
<li><p>Go to the <strong>Metadata Extraction</strong> tab.</p></li>
<li><p>Under <strong>Selective Extraction</strong>, select the option <strong>Remove schemas from the catalog not captured by the lists below</strong> and rerun MDE to extract the metadata with the newly selected Object Definition. All objects extracted with the previous format will be cleared from the catalog.</p></li>
<li><p>Update any existing tags or articles that reference the objects in the previous format with references to the objects with the new format. Alation considers the objects extracted with different Catalog Object Definitions as different objects and does not update the references automatically.</p></li>
</ol>
</section>
</section>
<section id="perform-mde">
<span id="metadata-extraction-from-custom-db-perform-mde"></span><h2>Perform MDE<a class="headerlink" href="#perform-mde" title="Permalink to this headline">¶</a></h2>
<p>To perform regular MDE,</p>
<ol class="arabic">
<li><p>On the <strong>Metadata Extraction</strong> tab, click <strong>Fetch from DB Now</strong>. Alation will fetch schemas from your data source:</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/DS_CustomDB09.png"><img alt="../../_images/DS_CustomDB09.png" class="align-center" src="../../_images/DS_CustomDB09.png" style="width: 5.5in;" /></a>
</div></blockquote>
</li>
</ol>
<ol class="arabic" start="2">
<li><p>You can now extract the metadata for all the schemas that Alation fetched (full extraction) or you can specify the schemas to be extracted from the list of fetched schemas (selective extraction). To perform full extraction, click <strong>Launch Job</strong>. To perform selective extraction, first select the schemas you want to extract, click <strong>Launch Job</strong>:</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/DS_CustomDB10.png"><img alt="../../_images/DS_CustomDB10.png" class="align-center" src="../../_images/DS_CustomDB10.png" style="width: 5.5in;" /></a>
</div></blockquote>
</li>
</ol>
<p>Your MDE job will be queued. You can monitor the job status in the Job History table at the bottom of the page:</p>
<a class="reference internal image-reference" href="../../_images/DS_CustomDB11.png"><img alt="../../_images/DS_CustomDB11.png" class="align-center" src="../../_images/DS_CustomDB11.png" style="width: 5.5in;" /></a>
<p>After MDE is completed, you should be able to see the extracted metadata in your Alation catalog.</p>
</section>
<section id="query-based-mde">
<span id="metadata-extraction-from-custom-db-query-based-mde"></span><h2>Query-Based MDE<a class="headerlink" href="#query-based-mde" title="Permalink to this headline">¶</a></h2>
<p>Starting with release <em>V R5 (5.9.x)</em>, Alation supports query-based metadata extraction from Custom DB. This feature allows you to customize metadata extraction from the source down to the level of specific metadata types, such as tables, columns, views, and some other.</p>
<p>To use this feature, you will need to write several custom queries to extract the metadata. Alation expects that these queries conform to a specific structure and use the expected reserved identifiers.</p>
<p>See <a class="reference internal" href="GuidelinesForMDEQueries.html"><span class="doc">Guidelines for Creating Custom Queries for MDE</span></a>.</p>
<p>When you have the queries, you can configure query-based MDE in Alation:</p>
<ol class="arabic">
<li><p>Open the <strong>Metadata Extraction</strong> tab of your Custom DB source Settings page and under <strong>Enter Custom Query for Metadata Extraction</strong>, select the checkbox <strong>Enable custom query-based extraction</strong>. This will reveal input fields for your custom queries:</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/DS_CustomDB12.png"><img alt="../../_images/DS_CustomDB12.png" class="align-center" src="../../_images/DS_CustomDB12.png" style="width: 5.5in;" /></a>
</div></blockquote>
</li>
</ol>
<ol class="arabic" start="2">
<li><p>You will see the list of metadata types available from extraction. These are:</p>
<blockquote>
<div><ul class="simple">
<li><p>Schema</p></li>
<li><p>Table</p></li>
<li><p>Column</p></li>
<li><p>View</p></li>
<li><p>Primary Key</p></li>
<li><p>Foreign Key</p></li>
<li><p>Index</p></li>
<li><p>Partition</p></li>
<li><p>Function</p></li>
<li><p>Synonym</p></li>
</ul>
<p>The first three, <strong>Schema</strong>, <strong>Table</strong>, and <strong>Column</strong>, are mandatory and pre-selected. You can select other (optional) metadata types to additionally extract them too. As you select the checkboxes, the corresponding input fields will appear on the page.</p>
</div></blockquote>
</li>
<li><p>Add your queries into the corresponding query input boxes.</p></li>
<li><p>After entering a query, click <strong>Preview</strong> under the query field to see a preview of the result set. This will validate the syntax and show errors if the syntax is not as expected by Alation. Refer to  <a class="reference internal" href="GuidelinesForMDEQueries.html#guidelines-for-mde-queries-troubleshooting"><span class="std std-ref">Troubleshooting Query-Based MDE</span></a> for details about potential error messages. If the query is valid, the preview will show two random rows from your database that match the result columns included in the query:</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/DS_CustomDB13.png"><img alt="../../_images/DS_CustomDB13.png" class="align-center" src="../../_images/DS_CustomDB13.png" style="width: 5.5in;" /></a>
</div></blockquote>
</li>
<li><p>Click <strong>Save Queries</strong> to store the queries that you have entered or modified.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>When you want to remove a saved query or un-select a metadata type, remove the query that you have entered and clear the metadata type checkbox. Click <strong>Save Queries</strong> to apply the change.</p>
</div>
</div></blockquote>
</li>
<li><p>If MDE is performed for the first time, click <strong>Fetch from DB Now</strong> to fetch the metadata then click <strong>Launch Job Now</strong> to perform extraction. If MDE is performed previously, the button will be called <strong>Relaunch Job</strong>:</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/DS_CustomDB14.png"><img alt="../../_images/DS_CustomDB14.png" class="align-center" src="../../_images/DS_CustomDB14.png" style="width: 5.5in;" /></a>
</div></blockquote>
</li>
</ol>
<p>Selective extraction will not be available when you opt for query-based extraction. However, users can perform selective extraction by adding a filter condition to the query.</p>
<p><strong>Example (MySQL)</strong>:</p>
<blockquote>
<div><div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span>
<span class="w">  </span><span class="k">null</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="o">`</span><span class="k">CATALOG</span><span class="o">`</span><span class="p">,</span>
<span class="w">  </span><span class="n">table_schema</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="o">`</span><span class="k">SCHEMA</span><span class="o">`</span><span class="p">,</span>
<span class="w">  </span><span class="k">table_name</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="o">`</span><span class="k">TABLE</span><span class="o">`</span><span class="p">,</span>
<span class="w">  </span><span class="k">CASE</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="n">table_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;BASE TABLE&#39;</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="s1">&#39;TABLE&#39;</span><span class="w"> </span><span class="k">ELSE</span><span class="w"> </span><span class="s1">&#39;VIEW&#39;</span><span class="w"> </span><span class="k">END</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="s1">&#39;TABLE_TYPE&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="n">table_comment</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">REMARKS</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">information_schema</span><span class="p">.</span><span class="n">tables</span>
<span class="w">  </span><span class="k">WHERE</span>
<span class="w">    </span><span class="n">table_schema</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;FDA&#39;</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="k">table_name</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;drug_packaging&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
</section>
<section id="scheduling-mde">
<h2>Scheduling MDE<a class="headerlink" href="#scheduling-mde" title="Permalink to this headline">¶</a></h2>
<p>After you have successfully performed MDE, you can set this process to run on an automatic schedule.
By default, automated MDE is disabled. If you enable it, Alation will schedule a background job to periodically fetch the metadata to keep the catalog representation of your source database up to date. You can schedule this job according to how frequently the database changes its structure.</p>
<p>To schedule MDE,</p>
<ol class="arabic">
<li><p>On the <strong>Metadata Extraction</strong> tab, on top, find section <strong>Automated Extraction</strong> and clear the checkbox Disable automatic extraction. This will reveal the controls for scheduling the extraction process:</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/DS_CustomDB15.png"><img alt="../../_images/DS_CustomDB15.png" class="align-center" src="../../_images/DS_CustomDB15.png" style="width: 5.5in;" /></a>
</div></blockquote>
</li>
</ol>
<ol class="arabic" start="2">
<li><p>Specify a schedule for MDE using the day/time fields. Click a field to open the list of values and select a value for each field. When a schedule is set, Alation will perform MDE automatically at the specified time.</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/DS_CustomDB16.png"><img alt="../../_images/DS_CustomDB16.png" class="align-center" src="../../_images/DS_CustomDB16.png" style="width: 3.5in;" /></a>
</div></blockquote>
</li>
</ol>
</section>
<section id="disabling-bulk-extraction">
<h2>Disabling Bulk Extraction<a class="headerlink" href="#disabling-bulk-extraction" title="Permalink to this headline">¶</a></h2>
<p>By default, <strong>Disable Bulk Extraction</strong> parameter is off as Alation attempts to extract the metadata for the selected schemas in bulk. If the default MDE job fails with the error <code class="docutils literal notranslate"><span class="pre">Error</span> <span class="pre">serializing</span> <span class="pre">dbobjects:</span> <span class="pre">Error</span> <span class="pre">iterating</span> <span class="pre">over</span> <span class="pre">ResultSet</span></code>, you can rerun it with the <strong>Disabling Bulk Extraction</strong> option enabled.</p>
<p>If <strong>Disabling Bulk Extraction</strong> is on, Alation tries to fetch metadata for each table individually relying on the JDBC driver methods to return metadata for individual objects. This alternative may be characterized by slower performance but is more failure-resistant.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">Error</span> <span class="pre">serializing</span> <span class="pre">dbobjects:</span> <span class="pre">Error</span> <span class="pre">iterating</span> <span class="pre">over</span> <span class="pre">the</span> <span class="pre">ResultSet</span></code> can be caused by the driver API not functioning as expected.</p>
</div>
<a class="reference internal image-reference" href="../../_images/DS_CustomDB17.png"><img alt="../../_images/DS_CustomDB17.png" class="align-center" src="../../_images/DS_CustomDB17.png" style="width: 5.5in;" /></a>
</section>
</section>


           </div>
          </div>
          <footer>

  
<div class="navigation-bar">

    <div class="navigation navigation--prev">
        
        <a class="navigation__link" href="AddCustomDBtoAlation.html">
            <button class="navigation__button">
                <i class="icon icon-left"></i>
            </button>
            <div class="navigation__title">
                <span class="heading">Previous</span> <br />Add Custom DB to Alation
            </div>
        </a>
        
    </div>

    <div class="navigation navigation--next">
        
        <a class="navigation__link" title="Accesskey Alt(+Shift)+p" accesskey="p" href="GuidelinesForMDEQueries.html">
            <div class="navigation__title">
                <span class="heading">Next</span> <br />Guidelines for Creating Queries for MDE
            </div>
            <button class="navigation__button" title="Accesskey Alt(+Shift)+n" accesskey="n">
                <i class="icon icon-right"></i>
            </button>
        </a>
        
    </div>

</div>


</footer>

        </div>
      </div>

    </section>

    <div class="wy-nav-side wy-nav-secondary">
      <div class="wy-side-scroll">
        <div class="wy-side-scroll__content">
          <div class="wy-menu-secondary">
              <div class="comments">
    <a href="mailto:no-reply-docs-feedback@alation.com?subject=Documentation Feedback on datasources/CustomDB/MDEFromCustomDB&body=Alation%20welcomes%20your%20comments%20on%20typos,%20content%20accuracy%20and%20completeness,%20and%20whether%20you%20found%20this%20page%20helpful.%20You%20will%20not%20receive%20a%20reply%20to%20this%20email.">
        <i class="icon icon-envelope" aria-hidden="true"></i>Request docs changes
    </a>
    <a href="#open-modal-pdf">
        <i class="icon icon-pdf" aria-hidden="true"></i>Download PDF
    </a>
</div>
              
                <p class="wy-menu-secondary-header">On this page</p>
                <ul>
<li><a class="reference internal" href="#">Metadata Extraction From Custom DB</a><ul>
<li><a class="reference internal" href="#regular-mde">Regular MDE</a></li>
<li><a class="reference internal" href="#set-the-catalog-object-definition">Set the Catalog Object Definition</a><ul>
<li><a class="reference internal" href="#test-the-selected-format">Test the Selected Format</a></li>
<li><a class="reference internal" href="#change-the-catalog-object-definition-after-mde">Change the Catalog Object Definition After MDE</a></li>
</ul>
</li>
<li><a class="reference internal" href="#perform-mde">Perform MDE</a></li>
<li><a class="reference internal" href="#query-based-mde">Query-Based MDE</a></li>
<li><a class="reference internal" href="#scheduling-mde">Scheduling MDE</a></li>
<li><a class="reference internal" href="#disabling-bulk-extraction">Disabling Bulk Extraction</a></li>
</ul>
</li>
</ul>

              
            </div>
          </div>
      </div>
    </div>

  </div>

  
  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->

  
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/clipboard.min.js"></script>
      <script type="text/javascript" src="../../_static/copybutton.js"></script>
      <script type="text/javascript" src="../../_static/js/rtd_sphinx_search.min.js"></script>
  
  <script type="text/javascript" src="../../_static/searchtools.js"></script> <script type="text/javascript" id="idPiwikScriptPlaceholder"></script><script type="text/javascript" src="../../_static/js/main.bundle.js"></script>
  <script type="text/javascript" src="../../_static/js/runtime.bundle.js"></script>

  
  

  
    <div id="open-modal-pdf" class="modal-window">
<div>
  <a href="#" title="Close" class="modal-close">Close</a>
  <h4>Alation Documentation PDF</h4>
  <p>This PDF contains all our documentation and is more than <b>120 MB</b> in size. We recommend using an ethernet or Wi-Fi connection for downloading.</p>
  <br>
  <div class="modal-buttons">
    <a href="https://pdf-docs.alation.com/AlationUserDocs.pdf" class="btn-cta btn-cta--primary" target="_blank">
      Download PDF
    </a>
    <a href="#" title="Close" class="btn-cta">Cancel</a>
  </div>
</div>
  

</body>
</html>
<!--3.6.17-->