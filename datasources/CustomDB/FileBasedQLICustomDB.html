
<!DOCTYPE html>
<html lang="" >
<head>
  <meta charset="utf-8"/>
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="book-version"      content=""/>
  <meta name="book-release"      content=""/>
  <meta name="docsearch:name"    content="Alation User Guide" />
  <meta name="docsearch:version" content="" />
  <meta name="docsearch:package_type" content="" />
	<meta name="robots" content="noindex" />

  
  <title>File-Based Query Log Ingestion &mdash; Alation User Guide</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  

  

  
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/main.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/sphinx_collapse.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/rtd_sphinx_search.min.css" type="text/css" />
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="Alation User Guide" href="#"/>
        <link rel="up" title="Custom DB" href="index.html"/>
        <link rel="next" title="View-Based QLI" href="ViewBasedQLICustomDB.html"/>
        <link rel="prev" title="QLI From Custom DB" href="QLIFromCustomDB.html"/>

	

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-67846571-1"></script>
	<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());

	gtag('config', 'UA-67846571-1');
	</script>

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<!-- Second Google Analytics tag to assist mapping with mattermost.com visits --> 
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-120238482-1"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'UA-120238482-1');
	</script>


</head>

<body class="wy-body-for-nav" role="document">

  <header>
    <div class="header__container wy-max-content-width">
        <a href="/" class="header__logo">
            <img width="176" src="../../_static/img/logo-alation.svg" alt="Alation" />
        </a>
        <ul class="header__links">
            <li><a href="https://help.alation.com/s/">Alation Help Center</a></li>
        </ul>
    </div>
</header>

  <div class="wy-grid-for-nav wy-max-content-width">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-scroll__content">
          <div class="wy-side-nav-search">
            

            <ul class="sidebartop">
              <li class="nolink search"><div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search this project" aria-label="Search this project" id="searchinput" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
</li>

            </ul>

            
          </div>

          <div class="wy-menu wy-sidebar wy-sidebar--hidden" data-spy="affix" role="navigation" aria-label="main navigation">
            
              
              
              
                  <p class="caption" role="heading"><span class="caption-text">Welcome to Alation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/About/index.html">About Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/CloudAndOnPrem/index.html">Alation Cloud and On-Premise</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/QuickStart/index.html">Quick Start Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/UserProfileandPreferences/index.html">User Profile and Preferences</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/CatalogBasics/index.html">Catalog Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Conversations/index.html">Conversations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Domains/index.html">Domains</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/BestPractices/index.html">Best Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Glossary/index.html">Alation Glossary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation Cloud Service</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/StatusPage/index.html">Status Page</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/CloudOverview/index.html">Cloud Service Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/CloudConfiguration/index.html">Configuration for Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/AlationAgent/index.html">Alation Agent</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation Integration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../integration/AlationAnywhere/index.html">Alation Anywhere</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../integration/AlationConnectedSheets/index.html">Alation Connected Sheets</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installation &amp; Configuration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/ServerInstallation/index.html">Install Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/HighAvailability/index.html">High Availability</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/Runbook/index.html">Runbook for Administrators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/Update/index.html">Update Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/BackupandRestore/index.html">Back Up and Restore</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/LineageV2/index.html">Lineage V2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/LineageV3/index.html">Lineage V3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/AlationAnalyticsV2/index.html">Alation Analytics V2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/AlationContainerService/index.html">Alation Container Service</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../sources/CatalogSources/index.html">Catalog Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/VirtualDataSources/index.html">Virtual Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/Lineage/index.html">Lineage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/APIResources/index.html">API Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/WorkwithCatalogData/index.html">Working with Catalog Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/OpenConnectorFramework/index.html">Open Connector Framework</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Data Sources</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../DSConfiguration/index.html">Data Source Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../AddDataSources/index.html">Adding Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ComposeSSOAWSDataSources/index.html">Compose SSO for Amazon Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ComposeSSOAzureDataSources/index.html">Compose SSO for Azure Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../AuthenticationForExtraction/index.html">Authentication for Extraction</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Custom DB</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="AddCustomDrivers.html">Add Custom Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="CDataDrivers.html">CData Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="DriverFixer.html">Driver Fixer</a></li>
<li class="toctree-l2"><a class="reference internal" href="AddCustomDBtoAlation.html">Add Custom DB to Alation</a></li>
<li class="toctree-l2"><a class="reference internal" href="MDEFromCustomDB.html">Metadata Extraction From Custom DB</a></li>
<li class="toctree-l2"><a class="reference internal" href="GuidelinesForMDEQueries.html">Guidelines for Creating Queries for MDE</a></li>
<li class="toctree-l2"><a class="reference internal" href="ProfilingForCustomDB.html">Sampling and Profiling</a></li>
<li class="toctree-l2"><a class="reference internal" href="QLIFromCustomDB.html">QLI From Custom DB</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">File-Based Query Log Ingestion</a></li>
<li class="toctree-l2"><a class="reference internal" href="ViewBasedQLICustomDB.html">View-Based QLI</a></li>
<li class="toctree-l2"><a class="reference internal" href="SQLQueryBasedQLICustomDB.html">SQL Query QLI</a></li>
<li class="toctree-l2"><a class="reference internal" href="AWSAthena.html">Amazon Athena</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpdateSimbaJDBCDriverForAthenaToSupportSSO.html">Update Simba JDBC Driver for Amazon Athena to Support SSO</a></li>
<li class="toctree-l2"><a class="reference internal" href="AWSDynamoDB.html">Amazon DynamoDB</a></li>
<li class="toctree-l2"><a class="reference internal" href="AzureCosmosDB.html">Azure Cosmos DB</a></li>
<li class="toctree-l2"><a class="reference internal" href="AzureDW.html">Azure Data Warehouse (Azure SQL DW)</a></li>
<li class="toctree-l2"><a class="reference internal" href="ConfluentKafka.html">Confluent Kafka</a></li>
<li class="toctree-l2"><a class="reference internal" href="DatabricksforCustomDB.html">Databricks for Custom DB</a></li>
<li class="toctree-l2"><a class="reference internal" href="DatabricksAzure.html">Databricks Azure</a></li>
<li class="toctree-l2"><a class="reference internal" href="DatabricksAzureOAuthForCompose.html">Azure Databricks: Configure SSO through OAuth for Compose</a></li>
<li class="toctree-l2"><a class="reference internal" href="Denodo.html">Denodo</a></li>
<li class="toctree-l2"><a class="reference internal" href="Elasticsearch.html">Elasticsearch</a></li>
<li class="toctree-l2"><a class="reference internal" href="EMRSparkSQL.html">EMR SparkSQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="EMRPrestoWithAWSGlueAsMetastore.html">EMR Presto on Hive with AWS Glue as Metastore</a></li>
<li class="toctree-l2"><a class="reference internal" href="GCPDatabricks.html">GCP Databricks</a></li>
<li class="toctree-l2"><a class="reference internal" href="GitHub.html">GitHub</a></li>
<li class="toctree-l2"><a class="reference internal" href="MariaDB.html">MariaDB</a></li>
<li class="toctree-l2"><a class="reference internal" href="MarkLogic.html">MarkLogic</a></li>
<li class="toctree-l2"><a class="reference internal" href="MongoDB.html">MongoDB</a></li>
<li class="toctree-l2"><a class="reference internal" href="MongoDBAtlas.html">MongoDB Atlas</a></li>
<li class="toctree-l2"><a class="reference internal" href="NetSuite.html">NetSuite</a></li>
<li class="toctree-l2"><a class="reference internal" href="Parquet.html">Parquet (Amazon S3)</a></li>
<li class="toctree-l2"><a class="reference internal" href="Salesforce.html">Salesforce</a></li>
<li class="toctree-l2"><a class="reference internal" href="Servicenow.html">ServiceNow</a></li>
<li class="toctree-l2"><a class="reference internal" href="Splunk.html">Splunk</a></li>
<li class="toctree-l2"><a class="reference internal" href="SSAS.html">SQL Server Analysis Service (SSAS)</a></li>
<li class="toctree-l2"><a class="reference internal" href="StarburstEnterprisePresto.html">Starburst Enterprise (Presto)</a></li>
<li class="toctree-l2"><a class="reference internal" href="StarburstEnterpriseTrino.html">Starburst Enterprise (Trino)</a></li>
<li class="toctree-l2"><a class="reference internal" href="ReferenceForQueryBasedMDE.html">Example Queries for Query-Based MDE</a></li>
<li class="toctree-l2"><a class="reference internal" href="ReferenceFileBasedQLI.html">Example JSONs for File-Based QLI</a></li>
<li class="toctree-l2"><a class="reference internal" href="ToubleshootingForCDataDataSources.html">Troubleshooting for CData Data Sources</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../GBQ/index.html">Google BigQuery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Hive/index.html">Hive</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">BI Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/AddBISources/index.html">Add BI Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/AddTableauServer/index.html">Add Tableau Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/WorkwithBISources/index.html">Working with BI Sources</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">File System Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../filesystems/FileSystems/index.html">Add File Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../filesystems/VirtualFileSystems/index.html">Virtual File Systems</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Analysts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/UserAuthenticationForDataSources/index.html">User Authentication for Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/ShareAndAccessQueries/index.html">Share and Access Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/WriteQueries/index.html">Write Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/DevelopQueries/index.html">Develop Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/WorkwithQueryResults/index.html">Work with Query Results</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Data Stewards</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../steward/GovernanceApp/index.html">Governance App</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/PolicyCenter/index.html">Policy Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/Workflow/index.html">Workflow Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/GovernanceDashboard/index.html">Governance Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/StewardshipWorkbench/index.html">Stewardship Workbench</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/AnalyticsStewardship/index.html">Analytics Stewardship</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/Glossary/index.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/ArticlesAndTags/index.html">Articles and Tags</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/ArticleGroups/index.html">Article Groups</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/DataCatalogCustomization/index.html">Customize Your Data Catalog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/DataDocumentation/index.html">Data Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/AutoTitlingandLexicon/index.html">Auto-titling and Lexicon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/SnowflakeTags/index.html">Snowflake Tags</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Server Administrators</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../admins/CustomizableHomePage/index.html">Customizable Homepage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AdminSettings/index.html">Administrator Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AdditionalConfiguration/index.html">Additional Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/RunbookForAdministrators/index.html">Runbook for Administrators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AlationAPIs/index.html">Alation APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/How-tos/index.html">How-tos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/Troubleshooting/index.html">Troubleshooting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Release Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../releases/releasenotes/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/supportmatrices/index.html">Support Matrices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/endofsupport/index.html">End Of Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/snowflakeclladdon/index.html">Snowflake Parser Add-On</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/fieldnotices/index.html">Important Notices and Security Alerts</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Archived Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../archive/About/index.html">About the Documentation Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/AdminConfig/index.html">Administration and Update Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/ReleaseNotes/index.html">Release Notes Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/Usage/index.html">Usage and Customization Archive</a></li>
</ul>

              
            
          </div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="wy-nav-top-icon"></i>
        <a href="../../index.html">Alation User Guide</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">

          <div role="navigation" aria-label="breadcrumbs" class="breadcrumbs">
    <a href="../../index.html">Docs</a>
    <span class="separator">&gt;</span>
    <a href="index.html">Custom DB</a>
    <span class="separator">&gt;</span>
    <span>File-Based Query Log Ingestion</span>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody" class="toBeIndexed">
            
  <section id="file-based-query-log-ingestion">
<h1>File-Based Query Log Ingestion<a class="headerlink" href="#file-based-query-log-ingestion" title="Permalink to this headline">¶</a></h1>
<p>From <em>V R5 (5.9.x)</em>, Alation supports file-based QLI for Custom DB data sources for query logs in log4j format.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Log4j is the only currently supported log format.</p>
</div>
<p>Logs can be ingested from the following systems:</p>
<blockquote>
<div><ul class="simple">
<li><p>Amazon S3</p></li>
<li><p>MS Azure Blob</p></li>
<li><p>MS Azure Data Lake Store (ADLS)</p></li>
</ul>
</div></blockquote>
<section id="preparation">
<h2>Preparation<a class="headerlink" href="#preparation" title="Permalink to this headline">¶</a></h2>
<p>File-based QLI configuration requires you to create a JSON object that describes the configuration of your query logs and that will be used by Alation to parse the logs. For JSON examples, see &lt;Reference&gt;.</p>
<p>To create the JSON, get an example of your query log file and find the rows which log queries.</p>
<p><em>Example for Hive on CDH with Spark: a logged query</em></p>
<p><code class="docutils literal notranslate"><span class="pre">2019-04-15</span> <span class="pre">06:24:15,783</span> <span class="pre">INFO</span>&#160; <span class="pre">[main]:</span> <span class="pre">ql.Driver</span> <span class="pre">(Driver.java:execute(1658))</span> <span class="pre">-</span> <span class="pre">``</span>
<span class="pre">``Executing</span> <span class="pre">command(queryId=ec2-user_20190415062424_c79c1dd8-cae4-49a3-80ae-878338daa534):</span></code>
<code class="docutils literal notranslate"><span class="pre">select</span> <span class="pre">*</span> <span class="pre">from</span> <span class="pre">hivedata_setup_1555309436.hivedata_table1_1555309436</span> <span class="pre">order</span> <span class="pre">by</span> <span class="pre">id</span> <span class="pre">limit</span> <span class="pre">1</span></code>
<code class="docutils literal notranslate"><span class="pre">2019-04-15</span> <span class="pre">06:24:15,784</span> <span class="pre">INFO</span>&#160; <span class="pre">[main]:</span> <span class="pre">ql.Driver</span> <span class="pre">(SessionState.java:printInfo(1087))</span> <span class="pre">-</span> <span class="pre">``</span>
<span class="pre">``Query</span> <span class="pre">ID</span> <span class="pre">=</span> <span class="pre">ec2-user_20190415062424_c79c1dd8-cae4-49a3-80ae-878338daa534</span></code></p>
<p>The query logs are formed in accordance with the configuration in the log4j properties file. Check the log4j.properties file for your database to find out the conversion pattern used for the logs. In the QLI configuration JSON, Alation will expect the conversion pattern to be added as one of the values.</p>
<p>Creating the QLI configuration JSON, add all the required parameters and the optional parameters if necessary, - see descriptions below.</p>
<section id="file-based-qli-required-parameters">
<h3>File-Based QLI Required Parameters<a class="headerlink" href="#file-based-qli-required-parameters" title="Permalink to this headline">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 31%" />
<col style="width: 19%" />
<col style="width: 49%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>If Required</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">folderPath</span></code></p></td>
<td><p>yes</p></td>
<td><p>The top-level path in storage system under
which user has the log files</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">parserType</span></code></p></td>
<td><p>yes</p></td>
<td><p>LOG4J is the only accepted value</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">log4jConversionPattern</span></code></p></td>
<td><p>yes</p></td>
<td><p>Conversion pattern in Alation-accepted
format. See <a class="reference internal" href="#log4jconversionpattern">log4jConversionPattern</a></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">log4jTimeFormat</span></code></p></td>
<td><p>yes</p></td>
<td><p>Time format in the logs for example:
yy/MM/dd HH:mm:ss. See <a class="reference internal" href="#log4jtimeformat">log4jTimeFormat</a></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">requiredExtraction</span></code></p></td>
<td><p>yes</p></td>
<td><p>An array. Each sub-object in this array
maps an Alation-expected field onto a logger
and a regex for a part of the message
that has information for the field
See <a class="reference internal" href="#requiredextraction">requiredExtraction</a></p></td>
</tr>
</tbody>
</table>
<p>You can also add several optional performance-tuning parameters to improve the performance for File-Based QLI.</p>
</section>
<section id="file-based-qli-performance-parameters">
<h3>File-Based QLI Performance Parameters<a class="headerlink" href="#file-based-qli-performance-parameters" title="Permalink to this headline">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 29%" />
<col style="width: 71%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Status</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>nThread</p></td>
<td><p>Sets the number of threads which will process the files from the
storage system. By default, this number can be set to the number
of logical cores in the system. If <code class="docutils literal notranslate"><span class="pre">nThread</span></code> value is provided
using this JSON config file, this value will take precedence
over the default setting.</p></td>
</tr>
<tr class="row-odd"><td><p>threadTimeOut</p></td>
<td><p>Sets the time after which all the processing threads will stop
the processing of log files. Value is in seconds. Default is
3600 seconds.  If <code class="docutils literal notranslate"><span class="pre">threadTimeOut</span></code> value is provided in the JSON
file, this value will take precedence over the default
setting.</p></td>
</tr>
<tr class="row-even"><td><p>isModificationTimeInclude</p></td>
<td><p>Defines if the process must apply a change time filter
while considering the file for extraction.
Boolean value. Default is <code class="docutils literal notranslate"><span class="pre">false</span></code>.
If you experience performance issues during QLI (there is a
large number of logs to ingest and the Date Range is wide,
you can set this parameter to <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p>fileSizeLimit</p></td>
<td><p>Sets the limit to the number of files that should be
considered for extraction. This will include all the files on
which other filters apply.
If this field is not set, the default value of zero will be
applied.</p></td>
</tr>
<tr class="row-even"><td><p>dateFormatRegexInFileName</p></td>
<td><p>The value of this field should be set if the file name has
the date in some date format.</p></td>
</tr>
<tr class="row-odd"><td><p>fileNamePrefix</p></td>
<td><p>This is a file inclusion filter. If the log file name starts with
a prefix, only that file will be considered. All files are
considered by default.</p></td>
</tr>
<tr class="row-even"><td><p>fileNameNegativeRegex</p></td>
<td><p>This is a file input regex. If this regex matches the file
name, those files will be filtered out and will not be
considered.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="json-skeleton-structure">
<h3>JSON Skeleton Structure<a class="headerlink" href="#json-skeleton-structure" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">{</span>
<span class="w">  </span><span class="s2">&quot;folderPath&quot;</span>:<span class="s2">&quot;value&quot;</span>,
<span class="w">      </span><span class="s2">&quot;nThread&quot;</span>:<span class="s2">&quot;value&quot;</span>,
<span class="w">      </span><span class="s2">&quot;threadTimeOut&quot;</span>:<span class="s2">&quot;value&quot;</span>,
<span class="w">      </span><span class="s2">&quot;isModificationTimeInclude&quot;</span>:<span class="s2">&quot;value&quot;</span>,
<span class="w">      </span><span class="s2">&quot;fileNameNegativeRegex&quot;</span>:<span class="s2">&quot;value&quot;</span>,
<span class="w">      </span><span class="s2">&quot;parserType&quot;</span>:<span class="s2">&quot;LOG4J&quot;</span>,
<span class="w">      </span><span class="s2">&quot;log4jConversionPattern&quot;</span>:<span class="s2">&quot;value&quot;</span>,
<span class="w">      </span><span class="s2">&quot;log4jTimeFormat&quot;</span>:<span class="s2">&quot;value&quot;</span>,
<span class="w">      </span><span class="s2">&quot;requiredExtraction&quot;</span>:<span class="w"> </span><span class="o">[</span>...<span class="o">]</span>
<span class="w">  </span><span class="o">}</span>
</pre></div>
</div>
</section>
<section id="log4jconversionpattern">
<h3>log4jConversionPattern<a class="headerlink" href="#log4jconversionpattern" title="Permalink to this headline">¶</a></h3>
<p>The value of the <em>log4jConversionPattern</em> parameter expected by Alation must be built with any of the following five words, in the order this is configured in the log4j.properties file:</p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;log4jConversionPattern&quot;:&quot;TIMESTAMP</span> <span class="pre">LEVEL</span> <span class="pre">THREAD</span> <span class="pre">LOGGER</span> <span class="pre">MESSAGE&quot;</span></code></p>
<ul class="simple">
<li><p>TIMESTAMP - corresponds to the date (%d)</p></li>
<li><p>LEVEL - corresponds to log priority (%p)</p></li>
<li><p>THREAD - corresponds to thread (%t)</p></li>
<li><p>LOGGER - corresponds to logger name (%c)</p></li>
<li><p>MESSAGE - corresponds to message (%m)</p></li>
</ul>
<p>For example, if the conversion pattern in your log4j.properties file is:</p>
<p><code class="docutils literal notranslate"><span class="pre">log4j.appender.ConsoleAppender.layout.ConversionPattern=[%-5p]</span> <span class="pre">%d</span> <span class="pre">%c</span> <span class="pre">-</span> <span class="pre">%m%n</span></code></p>
<p>This translates into the following key-value pair for the <code class="docutils literal notranslate"><span class="pre">log4jConversionPattern</span></code> parameter in the JSON for QLI:</p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;log4jConversionPattern&quot;:&quot;LEVEL</span> <span class="pre">TIMESTAMP</span> <span class="pre">LOGGER</span> <span class="pre">MESSAGE&quot;</span></code></p>
<p>Order of the parts in the value is important. It needs to be exactly like the order of the conversion characters in the log4j conversion pattern.</p>
</section>
<section id="log4jtimeformat">
<h3>log4jTimeFormat<a class="headerlink" href="#log4jtimeformat" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">log4jTimeFormat</span></code> key reflects the format of the timestamp in the log and can be inferred from the logs.</p>
<p>Example: If your log4j file has an entry like:</p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;18/08/26</span> <span class="pre">07:59:39</span> <span class="pre">DEBUG</span> <span class="pre">WRAPPER-ReplId-ff848-c275a-92f99</span> <span class="pre">SparkSqlParser:</span> <span class="pre">Parsing</span> <span class="pre">command:</span> <span class="pre">CREATE</span> <span class="pre">VIEW</span> <span class="pre">default.employee_view</span> <span class="pre">AS</span> <span class="pre">SELECT</span> <span class="pre">id,</span> <span class="pre">name</span> <span class="pre">FROM</span> <span class="pre">default.employee&quot;</span></code></p>
<blockquote>
<div><p>The <code class="docutils literal notranslate"><span class="pre">log4jTimeFormat</span></code> will be <code class="docutils literal notranslate"><span class="pre">yy/MM/dd</span> <span class="pre">HH:mm:ss</span></code>.</p>
</div></blockquote>
</section>
<section id="requiredextraction">
<h3>requiredExtraction<a class="headerlink" href="#requiredextraction" title="Permalink to this headline">¶</a></h3>
<p>This property is an array. It maps field names expected by Alation’s query log parser onto the MESSAGE in your log. Each sub-object is defined by 2 keys: <code class="docutils literal notranslate"><span class="pre">fieldName</span></code> and <code class="docutils literal notranslate"><span class="pre">keyValuePair</span></code>. <code class="docutils literal notranslate"><span class="pre">keyValuePair</span></code> is defined by 2 keys: <code class="docutils literal notranslate"><span class="pre">loggerName</span></code> and <code class="docutils literal notranslate"><span class="pre">regex</span></code>. You will need to include a specific <code class="docutils literal notranslate"><span class="pre">fieldName</span></code> if this type of information is present in your log.</p>
<p><code class="docutils literal notranslate"><span class="pre">fieldName</span></code> values expected by Alation are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">extractUserInfo</span></code> - should be mapped onto the user information if it is present in the log</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">extractSqlQuery</span></code> - should be mapped to SQL query statement</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">extractTimeTaken</span></code> - should be mapped to  query execution time</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">extractSessionID</span></code> - should be mapped to the session ID.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">extractDefaultDatabase</span></code> - should be mapped to default database used in the query</p></li>
</ul>
<p>Include the fields that your log has information for.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 15%" />
<col style="width: 60%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Status</p></th>
<th class="head"><p>If Required</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>fieldName</p></td>
<td><p>yes</p></td>
<td><p>Name of the field</p></td>
</tr>
<tr class="row-odd"><td><p>keyValuePair</p></td>
<td><p>yes</p></td>
<td><p>Sub-object holding the loggerName and regex properties</p></td>
</tr>
<tr class="row-even"><td><p>loggerName</p></td>
<td><p>yes</p></td>
<td><p>Name of the logger that logs the message with
the information that can be mapped on a field</p></td>
</tr>
<tr class="row-odd"><td><p>regex</p></td>
<td><p>yes</p></td>
<td><p>Regex to find information for a specific field</p></td>
</tr>
</tbody>
</table>
<section id="example">
<h4>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;requiredExtraction&quot;</span>:<span class="w"> </span><span class="o">[</span>
<span class="w">    </span><span class="o">{</span>
<span class="w">      </span><span class="s2">&quot;fieldName&quot;</span>:<span class="w"> </span><span class="s2">&quot;extractSqlQuery&quot;</span>,
<span class="w">      </span><span class="s2">&quot;keyValuePair&quot;</span>:
<span class="w">        </span><span class="o">{</span>
<span class="w">          </span><span class="s2">&quot;loggerName&quot;</span>:<span class="w"> </span><span class="s2">&quot;&quot;</span>,
<span class="w">          </span><span class="s2">&quot;regex&quot;</span>:<span class="w"> </span><span class="s2">&quot;ql.Driver \\(Driver.java:execute\\([\\d]+\\)\\) [\\w\\W].*\\):(?&lt;queryString&gt;[\\w\\W]*)&quot;</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">      </span><span class="o">}</span>
<span class="w">    </span><span class="o">]</span>
</pre></div>
</div>
<p>The order of <code class="docutils literal notranslate"><span class="pre">fieldName</span></code> keys inside the <code class="docutils literal notranslate"><span class="pre">requiredExtraction</span></code> property is important. Provide the same order of information as it appears in the log message.</p>
<p>For each <code class="docutils literal notranslate"><span class="pre">fieldName</span></code>, provide the logger name as the <code class="docutils literal notranslate"><span class="pre">loggerName</span></code> value and write a regex to capture the information from the log message to map on the field.</p>
</section>
</section>
</section>
<section id="complete-json-example-for-hive-on-cdh-with-spark">
<h2>Complete JSON example for Hive on CDH with Spark<a class="headerlink" href="#complete-json-example-for-hive-on-cdh-with-spark" title="Permalink to this headline">¶</a></h2>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;folderPath&quot;</span><span class="p">:</span><span class="s2">&quot;/tf-test-al-33492/&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;nThread&quot;</span><span class="p">:</span><span class="s2">&quot;10&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;threadTimeOut&quot;</span><span class="p">:</span><span class="s2">&quot;2000&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;isModificationTimeInclude&quot;</span><span class="p">:</span><span class="s2">&quot;false&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;parserType&quot;</span><span class="p">:</span><span class="s2">&quot;LOG4J&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;log4jConversionPattern&quot;</span><span class="p">:</span><span class="s2">&quot;TIMESTAMP LEVEL LOGGER MESSAGE&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;log4jTimeFormat&quot;</span><span class="p">:</span><span class="s2">&quot;yyyy-MM-dd HH:mm:ss,SSS&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;requiredExtraction&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;fieldName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;extractSqlQuery&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;keyValuePair&quot;</span><span class="p">:</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;loggerName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;regex&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ql.Driver \\(Driver.java:execute\\([\\d]+\\)\\) [\\w\\W].*\\):(?&lt;queryString&gt;[\\w\\W]*)&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;fieldName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;extractUserInfo&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;keyValuePair&quot;</span><span class="p">:</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;loggerName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;regex&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ql.Driver \\(Driver.java:execute\\([\\d]+\\)\\) - Executing command\\(queryId=(?&lt;userName&gt;(\\S[^_]+))&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">},</span>

<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;fieldName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;extractTimeTaken&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;keyValuePair&quot;</span><span class="p">:</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;loggerName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;regex&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ql.Driver \\(Driver.java:execute\\([\\d]+\\)\\) [\\w\\W]+\\); Time taken: (?&lt;milliSeconds&gt;[\\d]*.[\\d]*)&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">          </span><span class="p">}</span>
<span class="w">        </span><span class="p">]</span>
<span class="w">      </span><span class="p">}</span>
</pre></div>
</div>
</section>
<section id="steps-in-alation">
<h2>Steps in Alation<a class="headerlink" href="#steps-in-alation" title="Permalink to this headline">¶</a></h2>
<p>To configure file-based QLI in Alation,</p>
<ol class="arabic">
<li><p>Perform metadata extraction. This must be done before proceeding to QLI. See <a class="reference internal" href="MDEFromCustomDB.html"><span class="doc">Metadata Extraction From Custom DB</span></a>.</p></li>
<li><p>Navigate to the <strong>Query Log Ingestion</strong> tab. Clear the checkbox <strong>Enable table based query log ingestion</strong>:</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/DS_CustomDB18.png"><img alt="../../_images/DS_CustomDB18.png" class="align-center" src="../../_images/DS_CustomDB18.png" style="width: 5.5in;" /></a>
</div></blockquote>
</li>
</ol>
<ol class="arabic" start="3">
<li><p>Paste the QLI configuration JSON you have created into the <strong>Log Extraction Configuration JSON</strong> text area. Alation uses the information provided in this JSON to extract data from the query logs.</p></li>
<li><p>Click <strong>Save</strong> to save the JSON file.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the JSON file in the <strong>Log Extraction Configuration JSON</strong> text box is an improper JSON, the user will not be able to save it.</p>
</div>
</div></blockquote>
</li>
<li><p>Under <strong>Configure Connection Type</strong>, select the <strong>Connection Type</strong>. The available connection types include <strong>Amazon S3</strong>, <strong>Azure Blob Storage</strong>, and <strong>Azure Data Lake Store (ADLS) Gen 1</strong>.</p></li>
</ol>
<blockquote>
<div><p>Required Connection Parameters:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 29%" />
<col style="width: 51%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Connection Type</p></th>
<th class="head"><p>Field</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="3"><p>Amazon S3</p></td>
<td><p>AWS Access Key ID</p></td>
<td><p>Access Key ID of S3 account</p></td>
</tr>
<tr class="row-odd"><td><p>AWS Access Key Secret</p></td>
<td><p>Access Key Secret of S3 account</p></td>
</tr>
<tr class="row-even"><td><p>AWS Region</p></td>
<td><p>Region of S3 account. This is an
an optional field. If no value is entered,
the default value of US-East1 will be applied.</p></td>
</tr>
<tr class="row-odd"><td rowspan="4"><p>ADLS</p></td>
<td><p>ADLS URI</p></td>
<td><p>URI of ADLS</p></td>
</tr>
<tr class="row-even"><td><p>Tenant ID</p></td>
<td><p>Tenant ID</p></td>
</tr>
<tr class="row-odd"><td><p>Client ID</p></td>
<td><p>Client ID</p></td>
</tr>
<tr class="row-even"><td><p>Client Secret</p></td>
<td><p>Client Secret</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><p>Azure Blob
Storage</p></td>
<td><p>Storage Account Name</p></td>
<td><p>Storage Account Name of Azure Blob</p></td>
</tr>
<tr class="row-even"><td><p>Access Key
Shared Access Signature</p></td>
<td><p>Access Key will be considered when the
checkbox for Shared Access Signature is
not selected.
Select the <strong>Use Shared Access Signature</strong>
checkbox to enter the information for
shared access signature</p></td>
</tr>
<tr class="row-odd"><td><p>Blob Container</p></td>
<td><p>Name of the blob container.</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<ol class="arabic" start="6">
<li><p>After entering the information for <strong>Connection Type</strong>, click <strong>Save Configuration</strong>.</p></li>
<li><p>Under <strong>Run Manual Query Ingestion</strong>, select the <strong>Date Range</strong> for QLI.</p></li>
<li><p>Click <strong>Preview</strong> to fetch a log information preview.</p></li>
<li><p>Click <strong>Import</strong> to start QLI. You can monitor the job status in the <strong>Job History</strong> table at the bottom:</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/DS_CustomDB19.png"><img alt="../../_images/DS_CustomDB19.png" class="align-center" src="../../_images/DS_CustomDB19.png" style="width: 5.5in;" /></a>
</div></blockquote>
</li>
</ol>
</section>
</section>


           </div>
          </div>
          <footer>

  
<div class="navigation-bar">

    <div class="navigation navigation--prev">
        
        <a class="navigation__link" href="QLIFromCustomDB.html">
            <button class="navigation__button">
                <i class="icon icon-left"></i>
            </button>
            <div class="navigation__title">
                <span class="heading">Previous</span> <br />QLI From Custom DB
            </div>
        </a>
        
    </div>

    <div class="navigation navigation--next">
        
        <a class="navigation__link" title="Accesskey Alt(+Shift)+p" accesskey="p" href="ViewBasedQLICustomDB.html">
            <div class="navigation__title">
                <span class="heading">Next</span> <br />View-Based QLI
            </div>
            <button class="navigation__button" title="Accesskey Alt(+Shift)+n" accesskey="n">
                <i class="icon icon-right"></i>
            </button>
        </a>
        
    </div>

</div>


</footer>

        </div>
      </div>

    </section>

    <div class="wy-nav-side wy-nav-secondary">
      <div class="wy-side-scroll">
        <div class="wy-side-scroll__content">
          <div class="wy-menu-secondary">
              <div class="comments">
    <a href="mailto:no-reply-docs-feedback@alation.com?subject=Documentation Feedback on datasources/CustomDB/FileBasedQLICustomDB&body=Alation%20welcomes%20your%20comments%20on%20typos,%20content%20accuracy%20and%20completeness,%20and%20whether%20you%20found%20this%20page%20helpful.%20You%20will%20not%20receive%20a%20reply%20to%20this%20email.">
        <i class="icon icon-envelope" aria-hidden="true"></i>Request docs changes
    </a>
    <a href="#open-modal-pdf">
        <i class="icon icon-pdf" aria-hidden="true"></i>Download PDF
    </a>
</div>
              
                <p class="wy-menu-secondary-header">On this page</p>
                <ul>
<li><a class="reference internal" href="#">File-Based Query Log Ingestion</a><ul>
<li><a class="reference internal" href="#preparation">Preparation</a><ul>
<li><a class="reference internal" href="#file-based-qli-required-parameters">File-Based QLI Required Parameters</a></li>
<li><a class="reference internal" href="#file-based-qli-performance-parameters">File-Based QLI Performance Parameters</a></li>
<li><a class="reference internal" href="#json-skeleton-structure">JSON Skeleton Structure</a></li>
<li><a class="reference internal" href="#log4jconversionpattern">log4jConversionPattern</a></li>
<li><a class="reference internal" href="#log4jtimeformat">log4jTimeFormat</a></li>
<li><a class="reference internal" href="#requiredextraction">requiredExtraction</a><ul>
<li><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#complete-json-example-for-hive-on-cdh-with-spark">Complete JSON example for Hive on CDH with Spark</a></li>
<li><a class="reference internal" href="#steps-in-alation">Steps in Alation</a></li>
</ul>
</li>
</ul>

              
            </div>
          </div>
      </div>
    </div>

  </div>

  
  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->

  
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/clipboard.min.js"></script>
      <script type="text/javascript" src="../../_static/copybutton.js"></script>
      <script type="text/javascript" src="../../_static/js/rtd_sphinx_search.min.js"></script>
  
  <script type="text/javascript" src="../../_static/searchtools.js"></script> <script type="text/javascript" id="idPiwikScriptPlaceholder"></script><script type="text/javascript" src="../../_static/js/main.bundle.js"></script>
  <script type="text/javascript" src="../../_static/js/runtime.bundle.js"></script>

  
  

  
    <div id="open-modal-pdf" class="modal-window">
<div>
  <a href="#" title="Close" class="modal-close">Close</a>
  <h4>Alation Documentation PDF</h4>
  <p>This PDF contains all our documentation and is more than <b>120 MB</b> in size. We recommend using an ethernet or Wi-Fi connection for downloading.</p>
  <br>
  <div class="modal-buttons">
    <a href="https://pdf-docs.alation.com/AlationUserDocs.pdf" class="btn-cta btn-cta--primary" target="_blank">
      Download PDF
    </a>
    <a href="#" title="Close" class="btn-cta">Cancel</a>
  </div>
</div>
  

</body>
</html>
<!--3.6.17-->