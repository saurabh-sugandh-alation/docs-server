
<!DOCTYPE html>
<html lang="" >
<head>
  <meta charset="utf-8"/>
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="book-version"      content=""/>
  <meta name="book-release"      content=""/>
  <meta name="docsearch:name"    content="Alation User Guide" />
  <meta name="docsearch:version" content="" />
  <meta name="docsearch:package_type" content="" />
	<meta name="robots" content="noindex" />

  
  <title>Compose SSO for Amazon Data Sources: Create Authentication Application &mdash; Alation User Guide</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  

  

  
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/main.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/sphinx_collapse.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/rtd_sphinx_search.min.css" type="text/css" />
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="Alation User Guide" href="#"/>
        <link rel="up" title="Compose SSO for Amazon Data Sources" href="index.html"/>
        <link rel="next" title="Compose SSO with Amazon Sources: Configure AWS IAM Plug-in" href="ConfigureAWS_IAM_Plugin.html"/>
        <link rel="prev" title="Compose SSO for Amazon Data Sources" href="index.html"/>

	

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-67846571-1"></script>
	<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());

	gtag('config', 'UA-67846571-1');
	</script>

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<!-- Second Google Analytics tag to assist mapping with mattermost.com visits --> 
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-120238482-1"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'UA-120238482-1');
	</script>


</head>

<body class="wy-body-for-nav" role="document">

  <header>
    <div class="header__container wy-max-content-width">
        <a href="/" class="header__logo">
            <img width="176" src="../../_static/img/logo-alation.svg" alt="Alation" />
        </a>
        <ul class="header__links">
            <li><a href="https://help.alation.com/s/">Alation Help Center</a></li>
        </ul>
    </div>
</header>

  <div class="wy-grid-for-nav wy-max-content-width">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-scroll__content">
          <div class="wy-side-nav-search">
            

            <ul class="sidebartop">
              <li class="nolink search"><div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search this project" aria-label="Search this project" id="searchinput" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
</li>

            </ul>

            
          </div>

          <div class="wy-menu wy-sidebar wy-sidebar--hidden" data-spy="affix" role="navigation" aria-label="main navigation">
            
              
              
              
                  <p class="caption" role="heading"><span class="caption-text">Welcome to Alation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/About/index.html">About Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/CloudAndOnPrem/index.html">Alation Cloud and On-Premise</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/UserProfileandPreferences/index.html">User Profile and Preferences</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/CatalogBasics/index.html">Catalog Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/CatalogPages/index.html">Catalog Pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Conversations/index.html">Conversations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Domains/index.html">Domains</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/BestPractices/index.html">Best Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Glossary/index.html">Alation Glossary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation Cloud Service</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/StatusPage/index.html">Status Page</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/CloudOverview/index.html">Cloud Service Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/CloudConfiguration/index.html">Configuration for Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/AlationAgent/index.html">Alation Agent</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation Integration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../integration/AlationAnywhere/index.html">Alation Anywhere</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../integration/AlationConnectedSheets/index.html">Alation Connected Sheets</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installation &amp; Configuration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/ServerInstallation/index.html">Install Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/HighAvailability/index.html">High Availability</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/Update/index.html">Update Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/BackupandRestore/index.html">Back Up and Restore</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/LineageV2/index.html">Lineage V2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/LineageV3/index.html">Lineage V3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/AlationAnalyticsV2/index.html">Alation Analytics V2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/AlationContainerService/index.html">Alation Container Service</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../sources/CatalogSources/index.html">Catalog Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/VirtualDataSources/index.html">Virtual Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/Lineage/index.html">Lineage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/APIResources/index.html">API Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/WorkwithCatalogData/index.html">Working with Catalog Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/OpenConnectorFramework/index.html">Open Connector Framework</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Data Sources</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../DSConfiguration/index.html">Data Source Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../AddDataSources/index.html">Adding Data Sources</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Compose SSO for Amazon Data Sources</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Compose SSO for Amazon Data Sources: Create Authentication Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="ConfigureAWS_IAM_Plugin.html">Compose SSO with Amazon Sources: Configure AWS IAM Plug-in</a></li>
<li class="toctree-l2"><a class="reference internal" href="SSOAuthenticationforAWSAthenaDataSource.html">SSO Authentication for Amazon Athena Data Source</a></li>
<li class="toctree-l2"><a class="reference internal" href="SSOAuthenticationforAWSDynamoDBDataSource.html">SSO Authentication for Amazon DynamoDB Data Source</a></li>
<li class="toctree-l2"><a class="reference internal" href="SSOAuthenticationforAWSRedshiftDataSource.html">SSO Authentication for Amazon Redshift Data Source</a></li>
<li class="toctree-l2"><a class="reference internal" href="TroubleshootSSOAuthWithAWSDataSources.html">Troubleshoot SSO Authentication with Amazon Data Sources</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../ComposeSSOAzureDataSources/index.html">Compose SSO for Azure Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../AuthenticationForExtraction/index.html">Authentication for Extraction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CustomDB/index.html">Custom DB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../GBQ/index.html">Google BigQuery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Hive/index.html">Hive</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">BI Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/AddBISources/index.html">Add BI Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/AddTableauServer/index.html">Add Tableau Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/WorkwithBISources/index.html">Working with BI Sources</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">File System Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../filesystems/FileSystems/index.html">Add File Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../filesystems/VirtualFileSystems/index.html">Virtual File Systems</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Analysts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/UserAuthenticationForDataSources/index.html">User Authentication for Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/ShareAndAccessQueries/index.html">Share and Access Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/WriteQueries/index.html">Write Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/DevelopQueries/index.html">Develop Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/WorkwithQueryResults/index.html">Work with Query Results</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Data Stewards</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../steward/GovernanceApp/index.html">Governance App</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/PolicyCenter/index.html">Policy Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/Workflow/index.html">Workflow Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/GovernanceDashboard/index.html">Governance Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/StewardshipWorkbench/index.html">Stewardship Workbench</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/AnalyticsStewardship/index.html">Analytics Stewardship</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/Glossary/index.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/ArticlesAndTags/index.html">Articles and Tags</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/ArticleGroups/index.html">Article Groups</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/DataCatalogCustomization/index.html">Customize Your Data Catalog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/DataDocumentation/index.html">Data Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/AutoTitlingandLexicon/index.html">Auto-titling and Lexicon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/SnowflakeTags/index.html">Snowflake Tags</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Server Administrators</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../admins/CustomizableHomePage/index.html">Customizable Homepage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AdminSettings/index.html">Administrator Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AdditionalConfiguration/index.html">Additional Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/RunbookForAdministrators/index.html">Runbook for Administrators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AlationAPIs/index.html">Alation APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/How-tos/index.html">How-tos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/Troubleshooting/index.html">Troubleshooting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Release Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../releases/releasenotes/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/supportmatrices/index.html">Support Matrices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/endofsupport/index.html">End Of Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/snowflakeclladdon/index.html">Snowflake Parser Add-On</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/fieldnotices/index.html">Important Notices and Security Alerts</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Archived Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../archive/About/index.html">About the Documentation Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/AdminConfig/index.html">Administration and Update Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/ReleaseNotes/index.html">Release Notes Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/Usage/index.html">Usage and Customization Archive</a></li>
</ul>

              
            
          </div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="wy-nav-top-icon"></i>
        <a href="../../index.html">Alation User Guide</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">

          <div role="navigation" aria-label="breadcrumbs" class="breadcrumbs">
    <a href="../../index.html">Docs</a>
    <span class="separator">&gt;</span>
    <a href="index.html">Compose SSO for Amazon Data Sources</a>
    <span class="separator">&gt;</span>
    <span>Compose SSO for Amazon Data Sources: Create Authentication Application</span>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody" class="toBeIndexed">
            
  <section id="compose-sso-for-amazon-data-sources-create-authentication-application">
<h1>Compose SSO for Amazon Data Sources: Create Authentication Application<a class="headerlink" href="#compose-sso-for-amazon-data-sources-create-authentication-application" title="Permalink to this headline">¶</a></h1>
<p><em>Applies from release 2021.1</em></p>
<p>Use the steps in this section to create an authentication application for Alation in the IdP when configuring Compose SSO for Amazon data sources.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This configuration requires that you switch from the IdP to AWS IAM and back.</p>
<blockquote>
<div><ul class="simple">
<li><p>First, you will need to create an authentication application in the IdP and download its metadata file.</p></li>
<li><p>After that, switch to AWS IAM and configure the required entities on the AWS side. This step will give you additional information for your authentication app.</p></li>
<li><p>Next, return to the IdP and update the application by specifying the required SAML attributes.</p></li>
</ul>
</div></blockquote>
</div>
<section id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<section id="aws">
<h3>AWS<a class="headerlink" href="#aws" title="Permalink to this headline">¶</a></h3>
<p>AWS STS API should be enabled for your AWS region. The <a class="reference external" href="https://docs.aws.amazon.com/STS/latest/APIReference/API_AssumeRoleWithSAML.html">AssumeRoleWithSAML</a> endpoint of the AWS STS API is used by AuthService to request STS tokens.</p>
</section>
<section id="identity-provider">
<h3>Identity Provider<a class="headerlink" href="#identity-provider" title="Permalink to this headline">¶</a></h3>
<p>Alation supports Okta, AD FS, PingIdentity, and other identity providers. Alation expects that the IdP meets the following requirements:</p>
<blockquote>
<div><ul>
<li><p>Is SAML 2.0-compliant</p></li>
<li><p>Supports <a class="reference external" href="http://docs.oasis-open.org/security/saml/Post2.0/sstc-saml-tech-overview-2.0-cd-02.html#5.1.2.SP-Initiated%20SSO:%20%20Redirect/POST%20Bindings%7Coutline">HTTP-Redirect Binding SAML requests</a></p></li>
<li><p>Can access AWS IAM roles:</p>
<blockquote>
<div><ul class="simple">
<li><p>IdP provides a way for the admin to configure IAM Roles for federated AWS users</p></li>
<li><p>The assertion response can be configured to include SAML attributes <code class="docutils literal notranslate"><span class="pre">Role</span></code> and <code class="docutils literal notranslate"><span class="pre">RoleSessionName</span></code>. The ARNs of the role and of the IAM identity provider will be used by AuthService to request an STS token using the <code class="docutils literal notranslate"><span class="pre">AssumeRoleWithSAML</span></code> endpoint of the AWS STS API. See <a class="reference external" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_providers_create_saml_assertions.html">Configuring SAML assertions for the authentication response</a> in AWS documentation for more details.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Each Alation user who needs to access AWS resources from Alation exists in the IdP user directory.</p></li>
</ul>
</div></blockquote>
</section>
</section>
<section id="step-1-create-an-authentication-application-for-alation-in-the-idp">
<span id="create-auth-client"></span><h2>Step 1. Create an Authentication Application for Alation in the IdP<a class="headerlink" href="#step-1-create-an-authentication-application-for-alation-in-the-idp" title="Permalink to this headline">¶</a></h2>
<p>The minimal configuration of the authentication application in the IdP requires the ACS endpoint and AWS-specific SAML attributes.</p>
<section id="acs-endpoint">
<h3>ACS Endpoint<a class="headerlink" href="#acs-endpoint" title="Permalink to this headline">¶</a></h3>
<p>Use the following format:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>&lt;base_url&gt;/auth/callback/?method<span class="o">=</span>aws_iam<span class="p">&amp;</span><span class="nv">config_name</span><span class="o">=</span>&lt;config_name&gt;
</pre></div>
</div>
</div></blockquote>
<p>Where:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>&lt;base_url&gt;</strong> - Base URL of your Alation server</p></li>
<li><p><strong>&lt;method_name&gt;</strong> - <code class="docutils literal notranslate"><span class="pre">aws_iam</span></code></p></li>
<li><p><strong>&lt;config_name&gt;</strong> - A string value. This value will be required later when configuring the AWS IAM plug-in of the AuthService on the Alation server. The <strong>&lt;config_name&gt;</strong> can be any value, for example: <code class="docutils literal notranslate"><span class="pre">sso_for_alation_athena</span></code>. It is important to save this value and have it at the ready later in the configuration process.</p></li>
</ul>
</div></blockquote>
<section id="example">
<h4>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>http://catalog.alation.com/auth/callback/?method<span class="o">=</span>aws_iam<span class="p">&amp;</span><span class="nv">config_name</span><span class="o">=</span>sso_for_alation_athena
</pre></div>
</div>
</div></blockquote>
</section>
</section>
<section id="saml-attributes">
<h3>SAML Attributes<a class="headerlink" href="#saml-attributes" title="Permalink to this headline">¶</a></h3>
<p>At a minimum, the SAML assertion must contain the following SAML attributes:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">https://aws.amazon.com/SAML/Attributes/Role</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">https://aws.amazon.com/SAML/Attributes/RoleSessionName</span></code></p></li>
</ul>
</div></blockquote>
<p>At this stage, create the authentication application without specifying the SAML attributes and download its metadata file. The role and principal ARNs can be obtained from the role and identity provider objects in AWS after they are configured in AWS.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>For detailed information about these attributes, refer to AWS documentation:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference external" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_providers_create_saml_relying-party.html">Configuring your SAML 2.0 IdP with relying party trust and adding claims</a></p></li>
<li><p><a class="reference external" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_providers_create_saml_assertions.html">Configuring SAML assertions for the authentication response</a></p></li>
</ul>
</div></blockquote>
</div>
</div></blockquote>
<p>The next step is performed in AWS.</p>
</section>
</section>
<section id="step-2-create-an-identity-provider-in-aws-and-configure-trust-relationships-for-aws-roles">
<span id="create-aws-identity-provider"></span><h2>Step 2: Create an Identity Provider in AWS and Configure Trust Relationships for AWS Roles<a class="headerlink" href="#step-2-create-an-identity-provider-in-aws-and-configure-trust-relationships-for-aws-roles" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p>In AWS IAM, create an identity provider object with <code class="docutils literal notranslate"><span class="pre">Provider</span> <span class="pre">Type</span> <span class="pre">=</span> <span class="pre">SAML</span></code> and in the settings, upload the metadata file of the authentication app you created for Alation in your IdP.</p>
<blockquote>
<div><img alt="../../_images/DS_AthenaSSO_10.png" src="../../_images/DS_AthenaSSO_10.png" />
</div></blockquote>
</li>
<li><p>If the required AWS roles already exist, for this identity provider, click <strong>Assign Role</strong> and select the roles required for users to connect from Alation. If not, create the required roles.</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference external" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create_for-idp.html">Creating a role for a third-party Identity Provider (federation)</a></p></li>
</ul>
</div></blockquote>
</li>
<li><p>Edit the properties of the roles by adding this identity provider as the <strong>Trusted Entity</strong> to <strong>Trust relationships</strong> of the role.</p>
<blockquote>
<div><img alt="../../_images/DS_AthenaSSO_11.png" src="../../_images/DS_AthenaSSO_11.png" />
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Make sure that the identity provider is added as the Trusted Entity in the Trust Relationship of every role that users will need to connect from Alation.</p>
</div>
</div></blockquote>
</li>
<li><p>Save the ARNs for the roles and the ARN of the identity provider and have them at the ready.</p></li>
<li><p>Return to the IdP to configure SAML attributes.</p></li>
</ol>
</section>
<section id="step-3-configure-saml-attributes-in-the-authentication-application">
<h2>Step 3. Configure SAML Attributes in the Authentication Application<a class="headerlink" href="#step-3-configure-saml-attributes-in-the-authentication-application" title="Permalink to this headline">¶</a></h2>
<p>In the IdP, edit the configuration of the authentication application you created for Alation and add the required SAML attributes. For each value of the attribute <code class="docutils literal notranslate"><span class="pre">https://aws.amazon.com/SAML/Attributes/Role</span></code>, specify the ARNs of the AWS IAM role and Identity Provider separated by a comma.</p>
<p>To specify multiple roles, use the syntax accepted by your IdP.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 57%" />
<col style="width: 43%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>SAML Attribute</p></th>
<th class="head"><p>Format</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>https://aws.amazon.com/SAML/Attributes/Role</strong></p></td>
<td><p>&lt;RoleARN, PrinicipalARN&gt;</p></td>
</tr>
<tr class="row-odd"><td><p><strong>https://aws.amazon.com/SAML/Attributes/RoleSessionName</strong></p></td>
<td><p>&lt;Unique_Identifier&gt;</p>
<p>Typically, an IdP username or email</p>
</td>
</tr>
</tbody>
</table>
<section id="example-of-the-role-attribute-value">
<h3>Example of the <code class="docutils literal notranslate"><span class="pre">Role</span></code> attribute value<a class="headerlink" href="#example-of-the-role-attribute-value" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>arn:aws:iam::26375297569752:role/analyst,arn:aws:iam::56239756293759:saml-provider/my_provider
</pre></div>
</div>
</div></blockquote>
</section>
</section>
<section id="step-4-assign-users">
<h2>Step 4. Assign Users<a class="headerlink" href="#step-4-assign-users" title="Permalink to this headline">¶</a></h2>
<p>Assign users to the authentication application for Alation in the IdP. These should be the users who need access to the AWS resources from the catalog and Compose. Note that these users will be assigned the role specified in the attribute <strong>https://aws.amazon.com/SAML/Attributes/Role</strong> when they authenticate from Alation.</p>
<p>In case you configured multiple roles:</p>
<blockquote>
<div><ul class="simple">
<li><p>For Amazon Athena, users can specify one of their roles by adding the role ARN to the connection URI. If no role is specified in the URI, the authenticating user will be granted the first role returned in the assertion response.</p></li>
<li><p>For Amazon DynamoDB, selecting a role is not supported.</p></li>
</ul>
</div></blockquote>
</section>
</section>


           </div>
          </div>
          <footer>

  
<div class="navigation-bar">

    <div class="navigation navigation--prev">
        
        <a class="navigation__link" href="index.html">
            <button class="navigation__button">
                <i class="icon icon-left"></i>
            </button>
            <div class="navigation__title">
                <span class="heading">Previous</span> <br />Compose SSO for Amazon Data Sources
            </div>
        </a>
        
    </div>

    <div class="navigation navigation--next">
        
        <a class="navigation__link" title="Accesskey Alt(+Shift)+p" accesskey="p" href="ConfigureAWS_IAM_Plugin.html">
            <div class="navigation__title">
                <span class="heading">Next</span> <br />Compose SSO with Amazon Sources: Configure AWS IAM Plug-in
            </div>
            <button class="navigation__button" title="Accesskey Alt(+Shift)+n" accesskey="n">
                <i class="icon icon-right"></i>
            </button>
        </a>
        
    </div>

</div>


</footer>

        </div>
      </div>

    </section>

    <div class="wy-nav-side wy-nav-secondary">
      <div class="wy-side-scroll">
        <div class="wy-side-scroll__content">
          <div class="wy-menu-secondary">
              <div class="comments">
    <a href="mailto:no-reply-docs-feedback@alation.com?subject=Documentation Feedback on datasources/ComposeSSOAWSDataSources/CreateAuthenticationAppForAlationInIdP&body=Alation%20welcomes%20your%20comments%20on%20typos,%20content%20accuracy%20and%20completeness,%20and%20whether%20you%20found%20this%20page%20helpful.%20You%20will%20not%20receive%20a%20reply%20to%20this%20email.">
        <i class="icon icon-envelope" aria-hidden="true"></i>Request docs changes
    </a>
    <a href="#open-modal-pdf">
        <i class="icon icon-pdf" aria-hidden="true"></i>Download PDF
    </a>
</div>
              
                <p class="wy-menu-secondary-header">On this page</p>
                <ul>
<li><a class="reference internal" href="#">Compose SSO for Amazon Data Sources: Create Authentication Application</a><ul>
<li><a class="reference internal" href="#prerequisites">Prerequisites</a><ul>
<li><a class="reference internal" href="#aws">AWS</a></li>
<li><a class="reference internal" href="#identity-provider">Identity Provider</a></li>
</ul>
</li>
<li><a class="reference internal" href="#step-1-create-an-authentication-application-for-alation-in-the-idp">Step 1. Create an Authentication Application for Alation in the IdP</a><ul>
<li><a class="reference internal" href="#acs-endpoint">ACS Endpoint</a><ul>
<li><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#saml-attributes">SAML Attributes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#step-2-create-an-identity-provider-in-aws-and-configure-trust-relationships-for-aws-roles">Step 2: Create an Identity Provider in AWS and Configure Trust Relationships for AWS Roles</a></li>
<li><a class="reference internal" href="#step-3-configure-saml-attributes-in-the-authentication-application">Step 3. Configure SAML Attributes in the Authentication Application</a><ul>
<li><a class="reference internal" href="#example-of-the-role-attribute-value">Example of the <code class="docutils literal notranslate"><span class="pre">Role</span></code> attribute value</a></li>
</ul>
</li>
<li><a class="reference internal" href="#step-4-assign-users">Step 4. Assign Users</a></li>
</ul>
</li>
</ul>

              
            </div>
          </div>
      </div>
    </div>

  </div>

  
  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->

  
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/clipboard.min.js"></script>
      <script type="text/javascript" src="../../_static/copybutton.js"></script>
      <script type="text/javascript" src="../../_static/js/rtd_sphinx_search.min.js"></script>
  
  <script type="text/javascript" src="../../_static/searchtools.js"></script> <script type="text/javascript" id="idPiwikScriptPlaceholder"></script><script type="text/javascript" src="../../_static/js/main.bundle.js"></script>
  <script type="text/javascript" src="../../_static/js/runtime.bundle.js"></script>

  
  

  
    <div id="open-modal-pdf" class="modal-window">
<div>
  <a href="#" title="Close" class="modal-close">Close</a>
  <h4>Alation Documentation PDF</h4>
  <p>This PDF contains all our documentation and is more than <b>120 MB</b> in size. We recommend using an ethernet or Wi-Fi connection for downloading.</p>
  <br>
  <div class="modal-buttons">
    <a href="https://pdf-docs.alation.com/AlationUserDocs.pdf" class="btn-cta btn-cta--primary" target="_blank">
      Download PDF
    </a>
    <a href="#" title="Close" class="btn-cta">Cancel</a>
  </div>
</div>
  

</body>
</html>
<!--3.6.17-->