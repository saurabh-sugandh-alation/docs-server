
<!DOCTYPE html>
<html lang="" >
<head>
  <meta charset="utf-8"/>
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="book-version"      content=""/>
  <meta name="book-release"      content=""/>
  <meta name="docsearch:name"    content="Alation User Guide" />
  <meta name="docsearch:version" content="" />
  <meta name="docsearch:package_type" content="" />
	<meta name="robots" content="noindex" />

  
  <title>Compose SSO with Amazon Sources: Configure AWS IAM Plug-in &mdash; Alation User Guide</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  

  

  
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/main.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/sphinx_collapse.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/rtd_sphinx_search.min.css" type="text/css" />
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="Alation User Guide" href="#"/>
        <link rel="up" title="Compose SSO for Amazon Data Sources" href="index.html"/>
        <link rel="next" title="SSO Authentication for Amazon Athena Data Source" href="SSOAuthenticationforAWSAthenaDataSource.html"/>
        <link rel="prev" title="Compose SSO for Amazon Data Sources: Create Authentication Application" href="CreateAuthenticationAppForAlationInIdP.html"/>

	

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-67846571-1"></script>
	<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());

	gtag('config', 'UA-67846571-1');
	</script>

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<!-- Second Google Analytics tag to assist mapping with mattermost.com visits --> 
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-120238482-1"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'UA-120238482-1');
	</script>


</head>

<body class="wy-body-for-nav" role="document">

  <header>
    <div class="header__container wy-max-content-width">
        <a href="/" class="header__logo">
            <img width="176" src="../../_static/img/logo-alation.svg" alt="Alation" />
        </a>
        <ul class="header__links">
            <li><a href="https://help.alation.com/s/">Alation Help Center</a></li>
        </ul>
    </div>
</header>

  <div class="wy-grid-for-nav wy-max-content-width">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-scroll__content">
          <div class="wy-side-nav-search">
            

            <ul class="sidebartop">
              <li class="nolink search"><div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search this project" aria-label="Search this project" id="searchinput" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
</li>

            </ul>

            
          </div>

          <div class="wy-menu wy-sidebar wy-sidebar--hidden" data-spy="affix" role="navigation" aria-label="main navigation">
            
              
              
              
                  <p class="caption" role="heading"><span class="caption-text">Welcome to Alation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/About/index.html">About Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/CloudAndOnPrem/index.html">Alation Cloud and On-Premise</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/QuickStart/index.html">Quick Start Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/UserProfileandPreferences/index.html">User Profile and Preferences</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/CatalogBasics/index.html">Catalog Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Conversations/index.html">Conversations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Domains/index.html">Domains</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/BestPractices/index.html">Best Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Glossary/index.html">Alation Glossary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation Cloud Service</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/StatusPage/index.html">Status Page</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/CloudOverview/index.html">Cloud Service Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/CloudConfiguration/index.html">Configuration for Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/AlationAgent/index.html">Alation Agent</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation Integration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../integration/AlationAnywhere/index.html">Alation Anywhere</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../integration/AlationConnectedSheets/index.html">Alation Connected Sheets</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installation &amp; Configuration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/ServerInstallation/index.html">Install Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/HighAvailability/index.html">High Availability</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/Runbook/index.html">Runbook for Administrators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/Update/index.html">Update Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/BackupandRestore/index.html">Back Up and Restore</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/LineageV2/index.html">Lineage V2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/LineageV3/index.html">Lineage V3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/AlationAnalyticsV2/index.html">Alation Analytics V2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/AlationContainerService/index.html">Alation Container Service</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../sources/CatalogSources/index.html">Catalog Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/VirtualDataSources/index.html">Virtual Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/Lineage/index.html">Lineage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/APIResources/index.html">API Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/WorkwithCatalogData/index.html">Working with Catalog Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/OpenConnectorFramework/index.html">Open Connector Framework</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Data Sources</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../DSConfiguration/index.html">Data Source Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../AddDataSources/index.html">Adding Data Sources</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Compose SSO for Amazon Data Sources</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="CreateAuthenticationAppForAlationInIdP.html">Compose SSO for Amazon Data Sources: Create Authentication Application</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Compose SSO with Amazon Sources: Configure AWS IAM Plug-in</a></li>
<li class="toctree-l2"><a class="reference internal" href="SSOAuthenticationforAWSAthenaDataSource.html">SSO Authentication for Amazon Athena Data Source</a></li>
<li class="toctree-l2"><a class="reference internal" href="SSOAuthenticationforAWSDynamoDBDataSource.html">SSO Authentication for Amazon DynamoDB Data Source</a></li>
<li class="toctree-l2"><a class="reference internal" href="SSOAuthenticationforAWSRedshiftDataSource.html">SSO Authentication for Amazon Redshift Data Source</a></li>
<li class="toctree-l2"><a class="reference internal" href="TroubleshootSSOAuthWithAWSDataSources.html">Troubleshoot SSO Authentication with Amazon Data Sources</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../ComposeSSOAzureDataSources/index.html">Compose SSO for Azure Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../AuthenticationForExtraction/index.html">Authentication for Extraction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CustomDB/index.html">Custom DB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../GBQ/index.html">Google BigQuery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Hive/index.html">Hive</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">BI Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/AddBISources/index.html">Add BI Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/AddTableauServer/index.html">Add Tableau Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/WorkwithBISources/index.html">Working with BI Sources</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">File System Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../filesystems/FileSystems/index.html">Add File Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../filesystems/VirtualFileSystems/index.html">Virtual File Systems</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Analysts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/UserAuthenticationForDataSources/index.html">User Authentication for Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/ShareAndAccessQueries/index.html">Share and Access Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/WriteQueries/index.html">Write Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/DevelopQueries/index.html">Develop Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/WorkwithQueryResults/index.html">Work with Query Results</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Data Stewards</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../steward/GovernanceApp/index.html">Governance App</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/PolicyCenter/index.html">Policy Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/Workflow/index.html">Workflow Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/GovernanceDashboard/index.html">Governance Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/StewardshipWorkbench/index.html">Stewardship Workbench</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/AnalyticsStewardship/index.html">Analytics Stewardship</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/Glossary/index.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/ArticlesAndTags/index.html">Articles and Tags</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/ArticleGroups/index.html">Article Groups</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/DataCatalogCustomization/index.html">Customize Your Data Catalog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/DataDocumentation/index.html">Data Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/AutoTitlingandLexicon/index.html">Auto-titling and Lexicon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/SnowflakeTags/index.html">Snowflake Tags</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Server Administrators</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../admins/CustomizableHomePage/index.html">Customizable Homepage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AdminSettings/index.html">Administrator Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AdditionalConfiguration/index.html">Additional Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/RunbookForAdministrators/index.html">Runbook for Administrators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AlationAPIs/index.html">Alation APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/How-tos/index.html">How-tos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/Troubleshooting/index.html">Troubleshooting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Release Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../releases/releasenotes/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/supportmatrices/index.html">Support Matrices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/endofsupport/index.html">End Of Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/snowflakeclladdon/index.html">Snowflake Parser Add-On</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/fieldnotices/index.html">Important Notices and Security Alerts</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Archived Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../archive/About/index.html">About the Documentation Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/AdminConfig/index.html">Administration and Update Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/ReleaseNotes/index.html">Release Notes Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/Usage/index.html">Usage and Customization Archive</a></li>
</ul>

              
            
          </div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="wy-nav-top-icon"></i>
        <a href="../../index.html">Alation User Guide</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">

          <div role="navigation" aria-label="breadcrumbs" class="breadcrumbs">
    <a href="../../index.html">Docs</a>
    <span class="separator">&gt;</span>
    <a href="index.html">Compose SSO for Amazon Data Sources</a>
    <span class="separator">&gt;</span>
    <span>Compose SSO with Amazon Sources: Configure AWS IAM Plug-in</span>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody" class="toBeIndexed">
            
  <section id="compose-sso-with-amazon-sources-configure-aws-iam-plug-in">
<h1>Compose SSO with Amazon Sources: Configure AWS IAM Plug-in<a class="headerlink" href="#compose-sso-with-amazon-sources-configure-aws-iam-plug-in" title="Permalink to this headline">¶</a></h1>
<p><em>Applies from release 2021.1</em></p>
<p>To use SSO authentication for Amazon data sources, configure the AWS IAM plug-in of AuthService.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>This page describes how to configure the IAM plug-in on the backend of the Alation server. Starting with version 2022.3, the AWS IAM plug-in can be configured in the Alation user interface: <a class="reference internal" href="../../admins/AdminSettings/AuthConfigMethodsForExternalSystems.html"><span class="doc">Authentication Configuration Methods for External Systems</span></a>.</p>
</div>
</div></blockquote>
<section id="step-1-collect-information-from-aws-and-the-idp">
<h2>Step 1: Collect Information from AWS and the IdP<a class="headerlink" href="#step-1-collect-information-from-aws-and-the-idp" title="Permalink to this headline">¶</a></h2>
<p>You will need:</p>
<blockquote>
<div><ul>
<li><p>Your AWS region.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">&lt;config_name&gt;</span></code> value that you used when creating an authentication application for Alation in IdP.</p>
<blockquote>
<div><ul class="simple">
<li><p>Refer to <a class="reference internal" href="CreateAuthenticationAppForAlationInIdP.html"><span class="doc">Compose SSO for Amazon Data Sources: Create an Authentication Application</span></a></p></li>
</ul>
</div></blockquote>
</li>
<li><p>SSO login URL of the IdP that supports <strong>HTTP-REDIRECT Binding</strong> for the SSO SAML endpoint. This is the URL that will be used to initiate authentication from Alation. The SSO login URL can usually be found in the IdP metadata file of the authentication application.</p>
<blockquote>
<div><ul class="simple">
<li><p>Example of the SSO login URL from a metadata file from Okta:</p></li>
</ul>
<div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>&lt;md:SingleSignOnService<span class="w"> </span><span class="nv">Binding</span><span class="o">=</span><span class="s2">&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect&quot;</span><span class="w"> </span><span class="nv">Location</span><span class="o">=</span><span class="s2">&quot;https://myidp.okta.com/app/alationtest_awsstswithoktaauthframework_1/eomf7wv8fsqdzeEVX0h3/sso/saml&quot;</span>/&gt;
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</section>
<section id="step-2-enable-authservice">
<span id="configureaws-iam-plugin-step2"></span><h2>Step 2: Enable AuthService<a class="headerlink" href="#step-2-enable-authservice" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Enabling of AuthService requires a redeployment of <strong>alation_conf</strong> and a restart of the Alation server. Alation recommends to schedule this configuration at a time when users are the least active in the Catalog. A redeployment of <strong>alation_conf</strong> and a restart will cause the Alation user interface to reload and users may lose their unsaved work.</p>
</div>
<p>From version 2022.2, AuthService is enabled by default. In versions before 2022.2, perform the following configuration on the Alation server to enable AuthService:</p>
<ol class="arabic">
<li><p>Use SSH to connect to your Alation host.</p></li>
<li><p>Enter the Alation shell.</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>/etc/init.d/alation<span class="w"> </span>shell
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Check if the AuthService is enabled on your instance by checking the current value of the <strong>alation_conf</strong> parameter <code class="docutils literal notranslate"><span class="pre">alation.authentication.service.enabled</span></code>.</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>alation_conf<span class="w"> </span>alation.authentication.service.enabled
</pre></div>
</div>
<p>If the current value is <code class="docutils literal notranslate"><span class="pre">True</span></code>, the AuthService is already enabled. If it’s <code class="docutils literal notranslate"><span class="pre">False</span></code>, then change the value to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</div></blockquote>
</li>
<li><p>Set the value to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>alation_conf<span class="w"> </span>alation.authentication.service.enabled<span class="w"> </span>-s<span class="w"> </span>True
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Deploy the configuration.</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>alation_action<span class="w"> </span>deploy_conf_all
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Restart Alation.</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>alation_action<span class="w"> </span>restart_alation
</pre></div>
</div>
</div></blockquote>
</li>
</ol>
</section>
<section id="step-3-write-the-code-for-the-iam-configuration-object">
<h2>Step 3: Write the Code for the IAM Configuration Object<a class="headerlink" href="#step-3-write-the-code-for-the-iam-configuration-object" title="Permalink to this headline">¶</a></h2>
<p>AuthService uses <em>plug-ins</em> to route authentication requests from Alation to external authentication systems. A plug-in consumes configuration objects that are created by an admin in the Alation Django shell.</p>
<p>SSO authentication to Amazon data sources goes through the built-in <em>AWS IAM plug-in</em> of AuthService.</p>
<p>This section explains how to write the Python code required for configuring the AWS IAM plug-in to work with an external IdP provider integrated with AWS. You will need to provide your AWS region, the SSO login URL, and the <code class="docutils literal notranslate"><span class="pre">&lt;config_name&gt;</span></code> value:</p>
<ol class="arabic">
<li><p>In an editor of your choice to write the required code using the following pattern:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>AuthClient<span class="o">(</span><span class="s1">&#39;&lt;method_name&gt;&#39;</span><span class="o">)</span>.configure<span class="o">(</span><span class="nv">operation</span><span class="o">=</span><span class="s1">&#39;&lt;operation&gt;&#39;</span>,<span class="w"> </span><span class="nv">config</span><span class="o">={</span><span class="s1">&#39;config_name&#39;</span>:<span class="s1">&#39;&lt;your_value&gt;&#39;</span>,<span class="w"> </span><span class="s1">&#39;region&#39;</span>:<span class="s1">&#39;&lt;your_value&gt;&#39;</span>,<span class="w"> </span><span class="s1">&#39;sts_duration&#39;</span>:<span class="s1">&#39;&lt;your_value&gt;&#39;</span>,<span class="w"> </span><span class="s1">&#39;redirect_url&#39;</span>:<span class="s1">&#39;&lt;your_value&gt;&#39;</span><span class="o">})</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ol>
<p>Where:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 49%" />
<col style="width: 28%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Supported Values</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>method_name</p></td>
<td><p>Identifier for a specific Authentication plug-in
that is going to work with your data sources.
Use the value <code class="docutils literal notranslate"><span class="pre">'aws_iam'</span></code></p></td>
<td><p>‘aws_iam’</p></td>
</tr>
<tr class="row-odd"><td><p>operation</p></td>
<td><p>A CRUD operation that should be performed on the
configuration object.</p>
<p>To create a configuration object, use <code class="docutils literal notranslate"><span class="pre">'create'</span></code></p>
</td>
<td><p>Can be either of the
following values:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">'create'</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'update'</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'read'</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'delete'</span></code></p></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-even"><td><p>config</p></td>
<td><p>A dictionary containing configuration values.</p></td>
<td><p>Supported Keys:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">config_name</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">region</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sts_duration</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">redirect_url</span></code></p></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-odd"><td><p>config_name</p></td>
<td><p>Name of the configuration object. The name will be
used to retrieve, delete, or modify this object.</p></td>
<td><p>A string value</p>
<p>Provide the value of the
<code class="docutils literal notranslate"><span class="pre">config_name</span></code> parameter
that you added to the SSO
URL of the application
that you created in
your IdP for Alation.</p>
</td>
</tr>
<tr class="row-even"><td><p>region</p></td>
<td><p>Region to be used by the AWS IAM plug-in to
determine the service endpoint and signing region
for API requests.</p></td>
<td><p>Example:</p>
<p><code class="docutils literal notranslate"><span class="pre">'us-east-2'</span></code></p>
</td>
</tr>
<tr class="row-odd"><td><p>sts_duration</p></td>
<td><p>Duration (in seconds) to generate the temporary
authorization. The temporary credentials generated
by AWS STS service will last this number of seconds.
You can provide a value from 900 seconds (15 min)
up to the maximum of 43200 seconds (12 hours).</p></td>
<td><p>Example:</p>
<p><code class="docutils literal notranslate"><span class="pre">'3600'</span></code></p>
</td>
</tr>
<tr class="row-even"><td><p>redirect_url</p></td>
<td><p>The SSO login URL of the IdP that supports
HTTP-Redirect Binding. This is the URL to which
Alation users will be redirected for authentication.</p></td>
<td><p>The SSO login URL can
usually be obtained from
the authentication
application settings of
of the IdP metadata file
of the authentication
application.</p></td>
</tr>
</tbody>
</table>
<section id="example">
<h3>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h3>
<div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>AuthClient<span class="o">(</span><span class="s1">&#39;aws_iam&#39;</span><span class="o">)</span>.configure<span class="o">(</span><span class="nv">operation</span><span class="o">=</span><span class="s1">&#39;create&#39;</span>,<span class="w"> </span><span class="nv">config</span><span class="o">={</span><span class="s1">&#39;config_name&#39;</span>:<span class="s1">&#39;aws_alation_athena&#39;</span>,<span class="w"> </span><span class="s1">&#39;region&#39;</span>:<span class="s1">&#39;us-east-1&#39;</span>,<span class="w"> </span><span class="s1">&#39;sts_duration&#39;</span>:<span class="s1">&#39;3600&#39;</span>,<span class="w"> </span><span class="s1">&#39;redirect_url&#39;</span>:<span class="s1">&#39;https://sso.connect.pingidentity.com/sso/sp/initsso?saasid=93dfa98a-911e-4199-a316-e76e2a464179&amp;idpid=b1fe7d8f-70ba-4e72-9a60-7f1f6fcdc2fa&#39;</span><span class="o">})</span>
</pre></div>
</div>
<p>This code will be used to create a configuration object with the name = <code class="docutils literal notranslate"><span class="pre">config_name</span></code> in the AWS IAM plug-in of AuthService.</p>
</section>
</section>
<section id="step-4-configure-the-aws-iam-plug-in-of-authservice">
<span id="configureaws-iam-plugin-step4"></span><h2>Step 4: Configure the AWS IAM Plug-in of AuthService<a class="headerlink" href="#step-4-configure-the-aws-iam-plug-in-of-authservice" title="Permalink to this headline">¶</a></h2>
<p>Use the code you have written in Step 3 to create the configuration object in the AWS IAM plug-in:</p>
<ol class="arabic">
<li><p>From the Alation shell, enter the Alation Django shell:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>alation_django_shell
</pre></div>
</div>
</div></blockquote>
</li>
</ol>
<div class="line-block">
<div class="line"><br /></div>
</div>
<blockquote>
<div><img alt="../../_images/DS_AthenaSSO_12.png" src="../../_images/DS_AthenaSSO_12.png" />
</div></blockquote>
<ol class="arabic" start="2">
<li><p>Call the AuthService client:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>from<span class="w"> </span>auth_client.auth<span class="w"> </span>import<span class="w"> </span>Client<span class="w"> </span>as<span class="w"> </span>AuthClient
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Check the status of the AWS IAM plug-in of AuthService using the command below. It should return the status <strong>operational</strong>:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>AuthClient<span class="o">(</span><span class="s1">&#39;aws_iam&#39;</span><span class="o">)</span>.status_check<span class="o">()</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ol>
<div class="line-block">
<div class="line"><br /></div>
</div>
<blockquote>
<div><img alt="../../_images/DS_AthenaSSO_13.png" src="../../_images/DS_AthenaSSO_13.png" />
</div></blockquote>
<ol class="arabic" start="4">
<li><p>Paste the Python code you have written in Step 3 to create your configuration object and press Enter:</p>
<blockquote>
<div><img alt="../../_images/DS_AthenaSSO_14.png" src="../../_images/DS_AthenaSSO_14.png" />
</div></blockquote>
</li>
<li><p>To validate that the configuration object has been created, you can retrieve it with the <code class="docutils literal notranslate"><span class="pre">read</span></code> operation:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">AuthClient('aws_iam').configure(operation='read',</span> <span class="pre">config={'config_name':'your_value'})</span></code></p></li>
</ul>
<img alt="../../_images/DS_AthenaSSO_15.png" src="../../_images/DS_AthenaSSO_15.png" />
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Each AuthService configuration object is stored as a JSON object at <strong>/opt/alation/site/config/authserver</strong> inside the Alation shell. The name of the .json file uses the <code class="docutils literal notranslate"><span class="pre">config_name</span></code> value. You can check this location to view the list of all AuthService configuration objects that currently exist on the instance.</p>
</div>
</div></blockquote>
</li>
<li><p>Save the <code class="docutils literal notranslate"><span class="pre">config_name</span></code> value as you will need it next for the data source configuration in Alation.</p></li>
<li><p>You can stay in the Django shell if you are going to continue configuring specific Amazon data sources to use SSO from Compose and the catalog:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="SSOAuthenticationforAWSAthenaDataSource.html"><span class="doc">SSO Authentication for Amazon Athena Data Source</span></a></p></li>
<li><p><a class="reference internal" href="SSOAuthenticationforAWSDynamoDBDataSource.html"><span class="doc">SSO Authentication for Amazon DynamoDB Data Source</span></a></p></li>
<li><p><a class="reference internal" href="SSOAuthenticationforAWSRedshiftDataSource.html"><span class="doc">SSO Authentication for Amazon Redshift Data Source</span></a></p></li>
</ul>
</div></blockquote>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>To exit the Django shell: <code class="docutils literal notranslate"><span class="pre">exit</span></code></p></li>
<li><p>To exit the Alation shell: <code class="docutils literal notranslate"><span class="pre">exit</span></code></p></li>
</ul>
</div>
</section>
</section>


           </div>
          </div>
          <footer>

  
<div class="navigation-bar">

    <div class="navigation navigation--prev">
        
        <a class="navigation__link" href="CreateAuthenticationAppForAlationInIdP.html">
            <button class="navigation__button">
                <i class="icon icon-left"></i>
            </button>
            <div class="navigation__title">
                <span class="heading">Previous</span> <br />Compose SSO for Amazon Data Sources: Create Authentication Application
            </div>
        </a>
        
    </div>

    <div class="navigation navigation--next">
        
        <a class="navigation__link" title="Accesskey Alt(+Shift)+p" accesskey="p" href="SSOAuthenticationforAWSAthenaDataSource.html">
            <div class="navigation__title">
                <span class="heading">Next</span> <br />SSO Authentication for Amazon Athena Data Source
            </div>
            <button class="navigation__button" title="Accesskey Alt(+Shift)+n" accesskey="n">
                <i class="icon icon-right"></i>
            </button>
        </a>
        
    </div>

</div>


</footer>

        </div>
      </div>

    </section>

    <div class="wy-nav-side wy-nav-secondary">
      <div class="wy-side-scroll">
        <div class="wy-side-scroll__content">
          <div class="wy-menu-secondary">
              <div class="comments">
    <a href="mailto:no-reply-docs-feedback@alation.com?subject=Documentation Feedback on datasources/ComposeSSOAWSDataSources/ConfigureAWS_IAM_Plugin&body=Alation%20welcomes%20your%20comments%20on%20typos,%20content%20accuracy%20and%20completeness,%20and%20whether%20you%20found%20this%20page%20helpful.%20You%20will%20not%20receive%20a%20reply%20to%20this%20email.">
        <i class="icon icon-envelope" aria-hidden="true"></i>Request docs changes
    </a>
    <a href="#open-modal-pdf">
        <i class="icon icon-pdf" aria-hidden="true"></i>Download PDF
    </a>
</div>
              
                <p class="wy-menu-secondary-header">On this page</p>
                <ul>
<li><a class="reference internal" href="#">Compose SSO with Amazon Sources: Configure AWS IAM Plug-in</a><ul>
<li><a class="reference internal" href="#step-1-collect-information-from-aws-and-the-idp">Step 1: Collect Information from AWS and the IdP</a></li>
<li><a class="reference internal" href="#step-2-enable-authservice">Step 2: Enable AuthService</a></li>
<li><a class="reference internal" href="#step-3-write-the-code-for-the-iam-configuration-object">Step 3: Write the Code for the IAM Configuration Object</a><ul>
<li><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#step-4-configure-the-aws-iam-plug-in-of-authservice">Step 4: Configure the AWS IAM Plug-in of AuthService</a></li>
</ul>
</li>
</ul>

              
            </div>
          </div>
      </div>
    </div>

  </div>

  
  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->

  
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/clipboard.min.js"></script>
      <script type="text/javascript" src="../../_static/copybutton.js"></script>
      <script type="text/javascript" src="../../_static/js/rtd_sphinx_search.min.js"></script>
  
  <script type="text/javascript" src="../../_static/searchtools.js"></script> <script type="text/javascript" id="idPiwikScriptPlaceholder"></script><script type="text/javascript" src="../../_static/js/main.bundle.js"></script>
  <script type="text/javascript" src="../../_static/js/runtime.bundle.js"></script>

  
  

  
    <div id="open-modal-pdf" class="modal-window">
<div>
  <a href="#" title="Close" class="modal-close">Close</a>
  <h4>Alation Documentation PDF</h4>
  <p>This PDF contains all our documentation and is more than <b>120 MB</b> in size. We recommend using an ethernet or Wi-Fi connection for downloading.</p>
  <br>
  <div class="modal-buttons">
    <a href="https://pdf-docs.alation.com/AlationUserDocs.pdf" class="btn-cta btn-cta--primary" target="_blank">
      Download PDF
    </a>
    <a href="#" title="Close" class="btn-cta">Cancel</a>
  </div>
</div>
  

</body>
</html>
<!--3.6.17-->