
<!DOCTYPE html>
<html lang="" >
<head>
  <meta charset="utf-8"/>
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="book-version"      content=""/>
  <meta name="book-release"      content=""/>
  <meta name="docsearch:name"    content="Alation User Guide" />
  <meta name="docsearch:version" content="" />
  <meta name="docsearch:package_type" content="" />
	<meta name="robots" content="noindex" />

  
  <title>SSO Authentication for Amazon Redshift Data Source &mdash; Alation User Guide</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  

  

  
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/main.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/sphinx_collapse.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/rtd_sphinx_search.min.css" type="text/css" />
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="Alation User Guide" href="#"/>
        <link rel="up" title="Compose SSO for Amazon Data Sources" href="index.html"/>
        <link rel="next" title="Troubleshoot SSO Authentication with Amazon Data Sources" href="TroubleshootSSOAuthWithAWSDataSources.html"/>
        <link rel="prev" title="SSO Authentication for Amazon DynamoDB Data Source" href="SSOAuthenticationforAWSDynamoDBDataSource.html"/>

	

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-67846571-1"></script>
	<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());

	gtag('config', 'UA-67846571-1');
	</script>

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<!-- Second Google Analytics tag to assist mapping with mattermost.com visits --> 
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-120238482-1"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'UA-120238482-1');
	</script>


</head>

<body class="wy-body-for-nav" role="document">

  <header>
    <div class="header__container wy-max-content-width">
        <a href="/" class="header__logo">
            <img width="176" src="../../_static/img/logo-alation.svg" alt="Alation" />
        </a>
        <ul class="header__links">
            <li><a href="https://help.alation.com/s/">Alation Help Center</a></li>
        </ul>
    </div>
</header>

  <div class="wy-grid-for-nav wy-max-content-width">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-scroll__content">
          <div class="wy-side-nav-search">
            

            <ul class="sidebartop">
              <li class="nolink search"><div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search this project" aria-label="Search this project" id="searchinput" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
</li>

            </ul>

            
          </div>

          <div class="wy-menu wy-sidebar wy-sidebar--hidden" data-spy="affix" role="navigation" aria-label="main navigation">
            
              
              
              
                  <p class="caption" role="heading"><span class="caption-text">Welcome to Alation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/About/index.html">About Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/CloudAndOnPrem/index.html">Alation Cloud and On-Premise</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/QuickStart/index.html">Quick Start Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/UserProfileandPreferences/index.html">User Profile and Preferences</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/CatalogBasics/index.html">Catalog Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Conversations/index.html">Conversations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Domains/index.html">Domains</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/BestPractices/index.html">Best Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Glossary/index.html">Alation Glossary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation Cloud Service</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/StatusPage/index.html">Status Page</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/CloudOverview/index.html">Cloud Service Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/CloudConfiguration/index.html">Configuration for Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/AlationAgent/index.html">Alation Agent</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation Integration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../integration/AlationAnywhere/index.html">Alation Anywhere</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../integration/AlationConnectedSheets/index.html">Alation Connected Sheets</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installation &amp; Configuration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/ServerInstallation/index.html">Install Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/HighAvailability/index.html">High Availability</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/Runbook/index.html">Runbook for Administrators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/Update/index.html">Update Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/BackupandRestore/index.html">Back Up and Restore</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/LineageV2/index.html">Lineage V2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/LineageV3/index.html">Lineage V3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/AlationAnalyticsV2/index.html">Alation Analytics V2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/AlationContainerService/index.html">Alation Container Service</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../sources/CatalogSources/index.html">Catalog Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/VirtualDataSources/index.html">Virtual Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/Lineage/index.html">Lineage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/APIResources/index.html">API Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/WorkwithCatalogData/index.html">Working with Catalog Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/OpenConnectorFramework/index.html">Open Connector Framework</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Data Sources</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../DSConfiguration/index.html">Data Source Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../AddDataSources/index.html">Adding Data Sources</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Compose SSO for Amazon Data Sources</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="CreateAuthenticationAppForAlationInIdP.html">Compose SSO for Amazon Data Sources: Create Authentication Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="ConfigureAWS_IAM_Plugin.html">Compose SSO with Amazon Sources: Configure AWS IAM Plug-in</a></li>
<li class="toctree-l2"><a class="reference internal" href="SSOAuthenticationforAWSAthenaDataSource.html">SSO Authentication for Amazon Athena Data Source</a></li>
<li class="toctree-l2"><a class="reference internal" href="SSOAuthenticationforAWSDynamoDBDataSource.html">SSO Authentication for Amazon DynamoDB Data Source</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">SSO Authentication for Amazon Redshift Data Source</a></li>
<li class="toctree-l2"><a class="reference internal" href="TroubleshootSSOAuthWithAWSDataSources.html">Troubleshoot SSO Authentication with Amazon Data Sources</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../ComposeSSOAzureDataSources/index.html">Compose SSO for Azure Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../AuthenticationForExtraction/index.html">Authentication for Extraction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CustomDB/index.html">Custom DB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../GBQ/index.html">Google BigQuery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Hive/index.html">Hive</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">BI Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/AddBISources/index.html">Add BI Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/AddTableauServer/index.html">Add Tableau Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/WorkwithBISources/index.html">Working with BI Sources</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">File System Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../filesystems/FileSystems/index.html">Add File Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../filesystems/VirtualFileSystems/index.html">Virtual File Systems</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Analysts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/UserAuthenticationForDataSources/index.html">User Authentication for Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/ShareAndAccessQueries/index.html">Share and Access Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/WriteQueries/index.html">Write Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/DevelopQueries/index.html">Develop Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/WorkwithQueryResults/index.html">Work with Query Results</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Data Stewards</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../steward/GovernanceApp/index.html">Governance App</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/PolicyCenter/index.html">Policy Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/Workflow/index.html">Workflow Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/GovernanceDashboard/index.html">Governance Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/StewardshipWorkbench/index.html">Stewardship Workbench</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/AnalyticsStewardship/index.html">Analytics Stewardship</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/Glossary/index.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/ArticlesAndTags/index.html">Articles and Tags</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/ArticleGroups/index.html">Article Groups</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/DataCatalogCustomization/index.html">Customize Your Data Catalog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/DataDocumentation/index.html">Data Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/AutoTitlingandLexicon/index.html">Auto-titling and Lexicon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/SnowflakeTags/index.html">Snowflake Tags</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Server Administrators</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../admins/CustomizableHomePage/index.html">Customizable Homepage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AdminSettings/index.html">Administrator Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AdditionalConfiguration/index.html">Additional Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/RunbookForAdministrators/index.html">Runbook for Administrators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AlationAPIs/index.html">Alation APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/How-tos/index.html">How-tos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/Troubleshooting/index.html">Troubleshooting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Release Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../releases/releasenotes/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/supportmatrices/index.html">Support Matrices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/endofsupport/index.html">End Of Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/snowflakeclladdon/index.html">Snowflake Parser Add-On</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/fieldnotices/index.html">Important Notices and Security Alerts</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Archived Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../archive/About/index.html">About the Documentation Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/AdminConfig/index.html">Administration and Update Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/ReleaseNotes/index.html">Release Notes Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/Usage/index.html">Usage and Customization Archive</a></li>
</ul>

              
            
          </div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="wy-nav-top-icon"></i>
        <a href="../../index.html">Alation User Guide</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">

          <div role="navigation" aria-label="breadcrumbs" class="breadcrumbs">
    <a href="../../index.html">Docs</a>
    <span class="separator">&gt;</span>
    <a href="index.html">Compose SSO for Amazon Data Sources</a>
    <span class="separator">&gt;</span>
    <span>SSO Authentication for Amazon Redshift Data Source</span>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody" class="toBeIndexed">
            
  <section id="sso-authentication-for-amazon-redshift-data-source">
<h1>SSO Authentication for Amazon Redshift Data Source<a class="headerlink" href="#sso-authentication-for-amazon-redshift-data-source" title="Permalink to this headline">¶</a></h1>
<p><em>Applies from release 2021.2</em></p>
<p>Perform this configuration to enable SSO from Compose for an Amazon Redshift data source.</p>
<p>SSO authentication should be configured for each specific data source. Multiple data sources can use one and the same AuthService configuration object if authentication goes through the same authentication application in the same IdP.</p>
<section id="step-1-perform-configuration-in-your-idp-and-in-aws-iam">
<h2>Step 1: Perform Configuration in Your IdP and in AWS IAM<a class="headerlink" href="#step-1-perform-configuration-in-your-idp-and-in-aws-iam" title="Permalink to this headline">¶</a></h2>
<p>Use the steps in <a class="reference internal" href="CreateAuthenticationAppForAlationInIdP.html"><span class="doc">Compose SSO for Amazon Data Sources: Create an Authentication Application</span></a> to perform the preliminary configuration in your IdP and AWS IAM.</p>
</section>
<section id="step-2-enable-alation-authservice">
<h2>Step 2: Enable Alation AuthService<a class="headerlink" href="#step-2-enable-alation-authservice" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Enabling of AuthService requires a redeployment of <strong>alation_conf</strong> and a restart of the Alation server. Alation recommends to schedule this configuration at a time when users are the least active in the Catalog. A redeployment of <strong>alation_conf</strong> and a restart will cause the Alation user interface to reload and users may lose their unsaved work.</p>
</div>
<p>From version 2022.2, AuthService is enabled by default. In versions before 2022.2, perform the following configuration on the Alation server to enable AuthService:</p>
<ol class="arabic">
<li><p>Use SSH to connect to your Alation host.</p></li>
<li><p>Enter the Alation shell.</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>/etc/init.d/alation<span class="w"> </span>shell
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Check if the AuthService is enabled on your instance by checking the current value of the <strong>alation_conf</strong> parameter <code class="docutils literal notranslate"><span class="pre">alation.authentication.service.enabled</span></code>.</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>alation_conf<span class="w"> </span>alation.authentication.service.enabled
</pre></div>
</div>
<p>If the current value is <code class="docutils literal notranslate"><span class="pre">True</span></code>, the AuthService is already enabled. If it’s <code class="docutils literal notranslate"><span class="pre">False</span></code>, then change the value to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</div></blockquote>
</li>
<li><p>Set the value to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>alation_conf<span class="w"> </span>alation.authentication.service.enabled<span class="w"> </span>-s<span class="w"> </span>True
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Deploy the configuration.</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>alation_action<span class="w"> </span>deploy_conf_all
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Restart Alation.</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>alation_action<span class="w"> </span>restart_alation
</pre></div>
</div>
</div></blockquote>
</li>
</ol>
<p>Stay in the Alation shell.</p>
</section>
<section id="step-3-create-an-authservice-configuration">
<h2>Step 3: Create an AuthService Configuration<a class="headerlink" href="#step-3-create-an-authservice-configuration" title="Permalink to this headline">¶</a></h2>
<p>After enabling AuthService, create an AuthService configuration object for the AWS IAM plugin. AuthService configuration objects are identified with the <code class="docutils literal notranslate"><span class="pre">config_name</span></code> property and store the redirect URL from the IdP.</p>
<p>This configuration is performed in the Alation Django shell.</p>
<p>To create a configuration object:</p>
<ol class="arabic">
<li><p>Prepare the following information:</p>
<blockquote>
<div><ul class="simple">
<li><p>Your AWS region</p></li>
<li><p>STS token duration value (in seconds)</p></li>
<li><p>Redirect URL from your IdP</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Copy the code snippet below into an editor of your choice. Replace the placeholder values with real values:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">'config_name':'&lt;your_value&gt;'</span></code>: a name for your configuration object</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'region':'&lt;your_value&gt;'</span></code>: your AWS region</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'sts_duration':'&lt;your_value&gt;'</span></code>: STS token duration, in seconds. You can provide a value from 900 seconds (15 min) up to the maximum of 43200 seconds (12 hours)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'redirect_url':'&lt;your_value&gt;'</span></code>: the SSO login URL from the application in your IdP.</p></li>
</ul>
<div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>AuthClient<span class="o">(</span><span class="s1">&#39;aws_iam&#39;</span><span class="o">)</span>.configure<span class="o">(</span><span class="nv">operation</span><span class="o">=</span><span class="s1">&#39;create&#39;</span>,<span class="w"> </span><span class="nv">config</span><span class="o">={</span><span class="s1">&#39;config_name&#39;</span>:<span class="s1">&#39;&lt;your_value&gt;&#39;</span>,<span class="w"> </span><span class="s1">&#39;region&#39;</span>:<span class="s1">&#39;&lt;your_value&gt;&#39;</span>,<span class="w"> </span><span class="s1">&#39;sts_duration&#39;</span>:<span class="s1">&#39;&lt;your_value&gt;&#39;</span>,<span class="w"> </span><span class="s1">&#39;redirect_url&#39;</span>:<span class="s1">&#39;&lt;your_value&gt;&#39;</span><span class="o">})</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>From the Alation shell, enter the Django shell:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>alation_django_shell
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Call the AuthService client:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>from<span class="w"> </span>auth_client.auth<span class="w"> </span>import<span class="w"> </span>Client<span class="w"> </span>as<span class="w"> </span>AuthClient
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Check the status of the AWS IAM plugin of AuthService using the command below. It should return the status <em>operational</em>:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>AuthClient<span class="o">(</span><span class="s1">&#39;aws_iam&#39;</span><span class="o">)</span>.status_check<span class="o">()</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Run the Python code you wrote in step 2.</p>
<blockquote>
<div><p><strong>Example</strong>:</p>
<div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>AuthClient<span class="o">(</span><span class="s1">&#39;aws_iam&#39;</span><span class="o">)</span>.configure<span class="o">(</span><span class="nv">operation</span><span class="o">=</span><span class="s1">&#39;create&#39;</span>,<span class="w"> </span><span class="nv">config</span><span class="o">={</span><span class="s1">&#39;config_name&#39;</span>:<span class="s1">&#39;sso_for_redshift&#39;</span>,<span class="w"> </span><span class="s1">&#39;region&#39;</span>:<span class="s1">&#39;us-east-1&#39;</span>,<span class="w"> </span><span class="s1">&#39;sts_duration&#39;</span>:<span class="s1">&#39;3600&#39;</span>,<span class="w"> </span><span class="s1">&#39;redirect_url&#39;</span>:<span class="s1">&#39;https://myokta.com/app/dev-888000_alationcomposessoforawssources_1/exkx5lhqq0emO4ILn0h7/sso/saml&#39;</span><span class="o">})</span>
</pre></div>
</div>
<p>The output should return <em>SUCCESS</em>:</p>
<div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span><span class="o">{</span><span class="s1">&#39;status&#39;</span>:<span class="w"> </span>True,
<span class="w">  </span><span class="s1">&#39;code&#39;</span>:<span class="w"> </span><span class="s1">&#39;SUCCESS&#39;</span>,
<span class="w">  </span><span class="s1">&#39;message&#39;</span>:<span class="w"> </span><span class="s1">&#39;{config_name=sso_for_redshift, method=aws_iam, sts_duration=3600, region=us-east-1, operation=create, redirect_url=https://myokta.com/app/dev-888000_alationcomposessoforawssources_1/exkx5lhqq0emO4ILn0h7/sso/saml}&#39;</span><span class="o">}</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>The value of the <code class="docutils literal notranslate"><span class="pre">config_name</span></code> property will be required for the next step. Stay in the Django shell.</p></li>
</ol>
</section>
<section id="step-4-create-a-compose-configuration">
<h2>Step 4: Create a Compose Configuration<a class="headerlink" href="#step-4-create-a-compose-configuration" title="Permalink to this headline">¶</a></h2>
<p>This step requires the data source ID. The data source ID can be obtained from the URL of the Data Source Catalog page: <a class="reference internal" href="../../admins/How-tos/HowToFindDataSourceID.html"><span class="doc">How to Find Data Source ID</span></a></p>
<p>You will need to create a <em>Compose configuration object</em> that links the AuthService configuration and your Amazon Redshift data source. From the Django shell, run the code below in the order the commands are given:</p>
<ol class="arabic">
<li><p>Create a Compose configuration object. In the code below, substitute the placeholder values:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>&lt;config_name&gt;</strong>: the value of the <code class="docutils literal notranslate"><span class="pre">config_name</span></code> property of the <em>AuthService</em> configuration objects</p></li>
<li><p><strong>&lt;ds_id&gt;</strong>: the data source ID.</p></li>
</ul>
<div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>AuthServiceConfiguration.objects.create<span class="o">(</span><span class="nv">ds</span><span class="o">=</span>DataSource.objects.get<span class="o">(</span><span class="nv">id</span><span class="o">=</span>&lt;ds_id&gt;<span class="o">)</span>,<span class="w"> </span><span class="nv">method_name</span><span class="o">=</span><span class="s1">&#39;aws_iam&#39;</span>,<span class="w"> </span><span class="nv">config_name</span><span class="o">=</span><span class="s1">&#39;&lt;config_name&gt;&#39;</span><span class="o">)</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Select the object. Substitute the placeholder <strong>&lt;ds_id&gt;</strong> with your data source ID:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span><span class="nv">confs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>AuthServiceConfiguration.objects.filter<span class="o">(</span><span class="nv">ds_id</span><span class="o">=</span>&lt;ds_id&gt;<span class="o">)</span>.all<span class="o">()</span>

<span class="nv">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>confs<span class="o">[</span><span class="m">0</span><span class="o">]</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Print the object information to the console:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>c.jdbc_config
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Set up the parameter <code class="docutils literal notranslate"><span class="pre">['auth_obj_to_jdbc_param_map']</span></code>:</p>
<div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>c.jdbc_config<span class="o">[</span><span class="s1">&#39;auth_obj_to_jdbc_param_map&#39;</span><span class="o">]={</span><span class="s1">&#39;AccessKeyID&#39;</span>:<span class="s1">&#39;{AWSAccessKey}&#39;</span>,<span class="s1">&#39;SecretAccessKey&#39;</span>:<span class="s1">&#39;{AWSSecretKey}&#39;</span>,<span class="s1">&#39;SessionToken&#39;</span>:<span class="s1">&#39;{AWSSessionToken}&#39;</span><span class="o">}</span>
</pre></div>
</div>
</li>
<li><p>Set up the parameter <code class="docutils literal notranslate"><span class="pre">['jdbc_uri_enabler_patterns']</span></code>:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>c.jdbc_config<span class="o">[</span><span class="s1">&#39;jdbc_uri_enabler_patterns&#39;</span><span class="o">]=[</span><span class="s1">&#39;redshift:iam:&#39;</span><span class="o">]</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Depending on your Amazon Redshift configuration, you may need to include other URI parameters into the <code class="docutils literal notranslate"><span class="pre">jdbc_uri_enabler_patterns</span></code> property, for example:</p>
<div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>c.jdbc_config<span class="o">[</span><span class="s1">&#39;jdbc_uri_enabler_patterns&#39;</span><span class="o">]=[</span><span class="s1">&#39;tcpKeepAlive\\=true&amp;ssl\\=true&amp;AutoCreate\\=true&#39;</span><span class="o">]</span>
</pre></div>
</div>
</div>
</div></blockquote>
</li>
<li><p>Save the configuration:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>c.save<span class="o">()</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>View the saved configuration:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>c.jdbc_config
</pre></div>
</div>
</div></blockquote>
</li>
</ol>
<ol class="arabic simple" start="5">
<li><p>Exit the Django shell: <code class="docutils literal notranslate"><span class="pre">exit</span></code></p></li>
<li><p>Exit the Alation shell: <code class="docutils literal notranslate"><span class="pre">exit</span></code></p></li>
</ol>
<section id="example">
<h3>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h3>
<div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>In<span class="w"> </span><span class="o">[</span><span class="m">1</span><span class="o">]</span>:<span class="w"> </span>AuthServiceConfiguration.objects.create<span class="o">(</span><span class="nv">ds</span><span class="o">=</span>DataSource.objects.get<span class="o">(</span><span class="nv">id</span><span class="o">=</span><span class="m">1</span><span class="o">)</span>,<span class="w"> </span><span class="nv">method_name</span><span class="o">=</span><span class="s1">&#39;aws_iam&#39;</span>,<span class="w"> </span><span class="nv">config_name</span><span class="o">=</span><span class="s1">&#39;aws_iam1&#39;</span><span class="o">)</span>

Out<span class="o">[</span><span class="m">1</span><span class="o">]</span>:<span class="w"> </span>&lt;AuthServiceConfiguration:<span class="w"> </span>AuthServiceConfiguration<span class="w"> </span>object&gt;

In<span class="w"> </span><span class="o">[</span><span class="m">2</span><span class="o">]</span>:<span class="w"> </span><span class="nv">confs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>AuthServiceConfiguration.objects.filter<span class="o">(</span><span class="nv">ds_id</span><span class="o">=</span><span class="m">1</span><span class="o">)</span>.all<span class="o">()</span>

In<span class="w"> </span><span class="o">[</span><span class="m">3</span><span class="o">]</span>:<span class="w"> </span><span class="nv">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>confs<span class="o">[</span><span class="m">0</span><span class="o">]</span>

In<span class="w"> </span><span class="o">[</span><span class="m">4</span><span class="o">]</span>:<span class="w"> </span>c.jdbc_config
Out<span class="o">[</span><span class="m">4</span><span class="o">]</span>:
<span class="w">  </span><span class="o">{</span><span class="w"> </span><span class="s1">&#39;auth_obj_to_jdbc_param_map&#39;</span>:<span class="w"> </span><span class="o">{}</span>,
<span class="w">  </span><span class="s1">&#39;jdbc_uri_enabler_patterns&#39;</span>:<span class="w"> </span><span class="o">[]</span>,
<span class="w">  </span><span class="s1">&#39;jdbc_uri_to_auth_service_args_map&#39;</span>:<span class="w"> </span><span class="o">{}</span>,
<span class="w">  </span><span class="s1">&#39;require_strict_jdbc_uri_to_auth_service_args_map&#39;</span>:<span class="w"> </span>False<span class="o">}</span>

In<span class="w"> </span><span class="o">[</span><span class="m">5</span><span class="o">]</span>:<span class="w"> </span>c.jdbc_config<span class="o">[</span><span class="s1">&#39;auth_obj_to_jdbc_param_map&#39;</span><span class="o">]={</span><span class="s1">&#39;AccessKeyID&#39;</span>:<span class="s1">&#39;{AWSAccessKey}&#39;</span>,<span class="s1">&#39;SecretAccessKey&#39;</span>:<span class="s1">&#39;{AWSSecretKey}&#39;</span>,<span class="s1">&#39;SessionToken&#39;</span>:<span class="s1">&#39;{AWSSessionToken}&#39;</span><span class="o">}</span>

In<span class="w"> </span><span class="o">[</span><span class="m">6</span><span class="o">]</span>:<span class="w"> </span>c.jdbc_config<span class="o">[</span><span class="s1">&#39;jdbc_uri_enabler_patterns&#39;</span><span class="o">]=[</span><span class="s1">&#39;redshift:iam:&#39;</span><span class="o">]</span>

In<span class="w"> </span><span class="o">[</span><span class="m">7</span><span class="o">]</span>:<span class="w"> </span>c.save<span class="o">()</span>

In<span class="w"> </span><span class="o">[</span><span class="m">8</span><span class="o">]</span>:<span class="w"> </span>c.jdbc_config
Out<span class="o">[</span><span class="m">8</span><span class="o">]</span>:
<span class="w">  </span><span class="o">{</span><span class="w"> </span><span class="s1">&#39;auth_obj_to_jdbc_param_map&#39;</span>:<span class="w"> </span><span class="o">{</span><span class="s1">&#39;AWSAccessKey&#39;</span>:<span class="w"> </span><span class="s1">&#39;{AWSAccessKey}&#39;</span>,
<span class="w">  </span><span class="s1">&#39;AWSSecretKey&#39;</span>:<span class="w"> </span><span class="s1">&#39;{AWSSecretKey}&#39;</span>,
<span class="w">  </span><span class="s1">&#39;AWSSessionToken&#39;</span>:<span class="w"> </span><span class="s1">&#39;{AWSSessionToken}&#39;</span><span class="o">}</span>,
<span class="w">  </span><span class="s1">&#39;jdbc_uri_enabler_patterns&#39;</span>:<span class="w"> </span><span class="o">[</span><span class="s1">&#39;redshift:iam:&#39;</span><span class="o">]</span>,
<span class="w">  </span><span class="s1">&#39;jdbc_uri_to_auth_service_args_map&#39;</span>:<span class="w"> </span><span class="o">{}</span>,
<span class="w">  </span><span class="s1">&#39;require_strict_jdbc_uri_to_auth_service_args_map&#39;</span>:<span class="w"> </span>False<span class="o">}</span>
</pre></div>
</div>
</section>
</section>
<section id="step-5-configure-amazon-redshift-data-source-settings-in-alation">
<h2>Step 5: Configure Amazon Redshift Data Source Settings in Alation<a class="headerlink" href="#step-5-configure-amazon-redshift-data-source-settings-in-alation" title="Permalink to this headline">¶</a></h2>
<p>Next, complete the configuration in the Alation UI:</p>
<ol class="arabic">
<li><p>Log in to Alation UI as the Server Admin or as a user who has the Data Source Admin access to the Amazon Redshift data source.</p></li>
<li><p>Go to the Catalog page of your Redshift data source and open <strong>Settings</strong> &gt; <strong>General Settings</strong>.</p></li>
<li><p>Scroll down to the <strong>Compose Connections</strong> section.</p></li>
<li><p>Click <strong>+ Add</strong> on the right and add a new Compose connection. Give the Connection a meaningful name so that it can be recognized by users in the list of connections in Compose.</p></li>
<li><p>Add the <code class="docutils literal notranslate"><span class="pre">iam:</span></code> prefix to the URI (required to enable authentication redirection from Compose to the IdP):</p>
<blockquote>
<div><p><strong>Example</strong>:</p>
<div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>redshift:iam://test-67263.chby8zuitgrf.us-east-1.redshift.amazonaws.com:5439/test_alation_adbc_database_01?tcpKeepAlive<span class="o">=</span>true<span class="p">&amp;</span><span class="nv">ssl</span><span class="o">=</span>true<span class="p">&amp;</span><span class="nv">AutoCreate</span><span class="o">=</span><span class="nb">true</span>
</pre></div>
</div>
<img alt="../../_images/DS_RedshiftSSO_01.png" class="with-border" src="../../_images/DS_RedshiftSSO_01.png" />
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Depending on your Amazon Redshift configuration and on the values you specified in the <code class="docutils literal notranslate"><span class="pre">c.jdbc_config['jdbc_uri_enabler_patterns']</span></code> property, you may need to add other parameters to the connection, such as, for example, <strong>ClusterID</strong> and <strong>DbUser</strong>.</p>
<p><strong>ClusterID</strong> can be added to the Compose SSO URI configured in <strong>General Settings</strong> if it is the same for all users who will access the Cluster from Compose, for example:</p>
<div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>redshift:iam://redshift.somecustomer.com:5439/analytics?ClusterID<span class="o">=</span>prod-cluster-name<span class="p">&amp;</span><span class="nv">region</span><span class="o">=</span>us-east-1<span class="p">&amp;</span><span class="nv">ssl</span><span class="o">=</span><span class="nb">true</span>
</pre></div>
</div>
<p>If your Amazon Redshift configuration also requires the <strong>DbUser</strong> parameter, then each Compose user will need to create their own Compose connection based on the URI for SSO configured in <strong>General Settings</strong>. They will need to add the <strong>DbUser</strong> parameter and their Redshift username as the value, for example, <code class="docutils literal notranslate"><span class="pre">&amp;DbUser=martythompson</span></code>, with the ampersand symbol as the delimiter. As the admin, inform your Compose users that they will need to use their own Redshift username in the Compose connection when connecting to the Redshift data source using SSO.</p>
<div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>redshift:iam://redshift.somecustomer.com:5439/analytics?ClusterID<span class="o">=</span>prod-cluster-name<span class="p">&amp;</span><span class="nv">region</span><span class="o">=</span>us-east-1<span class="p">&amp;</span><span class="nv">ssl</span><span class="o">=</span>true<span class="p">&amp;</span><span class="nv">DbUser</span><span class="o">=</span>martythompson
</pre></div>
</div>
<p>Refer to AWS documentation for more details on authentication parameters: <a class="reference external" href="https://docs.aws.amazon.com/redshift/latest/mgmt/jdbc20-configure-authentication-ssl.html">Configure Authentication and SSL</a>.</p>
</div>
</div></blockquote>
</li>
</ol>
</section>
<section id="selecting-an-aws-role">
<h2>Selecting an AWS Role<a class="headerlink" href="#selecting-an-aws-role" title="Permalink to this headline">¶</a></h2>
<p>In Compose, when users connect using an SSO-enabled connection, they will access the AWS resource with the AWS role returned for them in the SAML assertion response from the IdP. If a user is assigned multiple IAM roles and the IdP returns a list of roles in the response, users will be able to select one of their AWS roles from this list. Upon authorization in the IdP, Alation will display a page with the list of available roles:</p>
<blockquote>
<div><img alt="../../_images/DS_AthenaSSO_16.png" class="with-border" src="../../_images/DS_AthenaSSO_16.png" />
</div></blockquote>
</section>
<section id="testing-the-configuration">
<h2>Testing the Configuration<a class="headerlink" href="#testing-the-configuration" title="Permalink to this headline">¶</a></h2>
<p>You can test with a user account that exists in IdP and has access to the AWS resource cataloged in Alation as the data source.</p>
<section id="test-connection-in-compose">
<h3>Test Connection in Compose<a class="headerlink" href="#test-connection-in-compose" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p>Log in to Alation as a user who has access to Amazon Redshift.</p></li>
<li><p>Go to Compose.</p></li>
<li><p>Depending on whether or not the <strong>DbUser</strong> parameter is required, either create a new Connection or select the SSO Connection you configured in the <strong>General Settings</strong>.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>If your Amazon Redshift configuration requires the <strong>DbUser</strong> parameter, then you need to add it to the SSO-enabled connection URI configured in data source <strong>Settings &gt; General Settings &gt; Compose Connections</strong>, for example:</p>
<div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>redshift:iam://redshift.somecustomer.com:5439/analytics?ClusterID<span class="o">=</span>prod-cluster-name<span class="p">&amp;</span><span class="nv">region</span><span class="o">=</span>us-east-1<span class="p">&amp;</span><span class="nv">ssl</span><span class="o">=</span>true<span class="p">&amp;</span><span class="nv">DbUser</span><span class="o">=</span>martythompson
</pre></div>
</div>
</div>
</div></blockquote>
</li>
</ol>
<section id="release-2021-4-and-older">
<h4>Release 2021.4 and Older<a class="headerlink" href="#release-2021-4-and-older" title="Permalink to this headline">¶</a></h4>
<ol class="arabic">
<li><p>Click the <strong>Plus</strong> icon next to the selected connection to begin creating a new Compose connection:</p>
<blockquote>
<div><a class="with-border reference internal image-reference" href="../../_images/DS_Redshift_ComposeSSO_01.png"><img alt="../../_images/DS_Redshift_ComposeSSO_01.png" class="with-border" src="../../_images/DS_Redshift_ComposeSSO_01.png" style="width: 300px;" /></a>
</div></blockquote>
</li>
<li><p>Specify a name in the <strong>Title</strong> field.</p></li>
<li><p>In the <strong>URI</strong> field, specify the connection URI that includes the <strong>DbUser</strong> parameter, if necessary, and the connecting user’s Amazon Redshift username as the value:</p>
<blockquote>
<div><a class="with-border reference internal image-reference" href="../../_images/DS_Redshift_ComposeSSO_02.png"><img alt="../../_images/DS_Redshift_ComposeSSO_02.png" class="with-border" src="../../_images/DS_Redshift_ComposeSSO_02.png" style="width: 400px;" /></a>
</div></blockquote>
</li>
<li><p>Click <strong>Add &amp; Use</strong> to save the new connection.</p></li>
<li><p>If the <strong>DbUser</strong> parameter is not required, you can use the default SSO Compose connection configured in <strong>Settings &gt; General Settings &gt; Compose Connections</strong> by selecting it from the Compose Connections list and then clicking the <strong>Reconnect</strong> icon:</p>
<blockquote>
<div><a class="with-border reference internal image-reference" href="../../_images/DS_ConnectToAWSWithSSO_02.png"><img alt="../../_images/DS_ConnectToAWSWithSSO_02.png" class="with-border" src="../../_images/DS_ConnectToAWSWithSSO_02.png" style="width: 450px;" /></a>
</div></blockquote>
</li>
<li><p>In the connection dialog that should pop up, click the link <strong>Click here to authorize access before connecting</strong>. A new browser tab should open where you are redirected to the IdP login page:</p>
<blockquote>
<div><img alt="../../_images/DS_ConnectToAWSWithSSO_03.png" class="with-border" src="../../_images/DS_ConnectToAWSWithSSO_03.png" />
</div></blockquote>
</li>
<li><p>Enter the IdP credentials to authenticate.</p></li>
<li><p>If the SAML assertion response returns multiple roles, you will see a <strong>Select Role</strong> screen allowing to select a role.</p></li>
<li><p>Select a role and click <strong>Continue</strong>. The tab will close and you should be authenticated in Compose.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the response only contains one role for the given user, the <strong>Select Role</strong> screen will not be displayed and you will be authorized in Compose after you enter your credentials on the login form.</p>
</div>
</div></blockquote>
</li>
<li><p>If authenticated successfully, run a query. Subsequent queries in this session should not require any authentication until the STS token expires.</p></li>
</ol>
</section>
<section id="releases-2022-1-and-newer">
<h4>Releases 2022.1 and Newer<a class="headerlink" href="#releases-2022-1-and-newer" title="Permalink to this headline">¶</a></h4>
<ol class="arabic">
<li><p>Click the <strong>Connection Settings</strong> link to open the Connection Settings dialog.</p>
<blockquote>
<div><img alt="../../_images/DS_RedshiftSSO_04.png" class="with-border" src="../../_images/DS_RedshiftSSO_04.png" />
</div></blockquote>
</li>
<li><p>From the <strong>Choose a Connection</strong> list, choose the connection that uses SSO enablers.</p>
<blockquote>
<div><a class="with-border reference internal image-reference" href="../../_images/DS_RedshiftSSO_02.png"><img alt="../../_images/DS_RedshiftSSO_02.png" class="with-border" src="../../_images/DS_RedshiftSSO_02.png" style="width: 300px;" /></a>
</div></blockquote>
</li>
<li><p>Open the <strong>Connect as</strong> list. It should have an option <strong>+Add New (SSO Login)</strong>. This means that SSO enablers in the URI of the connection have been recognized by Compose.</p>
<blockquote>
<div><a class="with-border reference internal image-reference" href="../../_images/DS_RedshiftSSO_03.png"><img alt="../../_images/DS_RedshiftSSO_03.png" class="with-border" src="../../_images/DS_RedshiftSSO_03.png" style="width: 300px;" /></a>
</div></blockquote>
</li>
<li><p>Click <strong>+Add New (SSO Login)</strong>. This should open your IdP login screen.</p></li>
<li><p>Log in with your IdP credentials. If the SAML assertion response returns multiple roles, you will see the select role screen allowing you to select a role. Select a role and click <strong>Continue</strong>. The tab will close and you will be authenticated in Compose.</p></li>
</ol>
</section>
<section id="troubleshooting">
<h4>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permalink to this headline">¶</a></h4>
<p>If the token request fails, the UI will display an error and connection will not be established. See <a class="reference internal" href="TroubleshootSSOAuthWithAWSDataSources.html"><span class="doc">Troubleshoot SSO Authentication with Amazon Data Sources</span></a>.</p>
</section>
</section>
<section id="test-profiling">
<h3>Test Profiling<a class="headerlink" href="#test-profiling" title="Permalink to this headline">¶</a></h3>
<p>This test applies if Dynamic Profiling is enabled for the Amazon Redshift data source:</p>
<ol class="arabic simple">
<li><p>In the Alation Catalog, open a catalog page of a column in your Redshift data source.</p></li>
<li><p>Click <strong>Run Profile</strong>. The <strong>Data Source Authorization</strong> dialog should pop up.</p></li>
<li><p>Use the SSO-enabled connection from the list of saved connections.</p></li>
<li><p>If there is no active STS token, a new browser tab should open where you will be redirected to the IdP login page. Enter the IdP credentials to authenticate.</p></li>
<li><p>If there is an active STS token, Alation will reuse this token to connect.</p></li>
<li><p>Upon authentication, you will be able to profile the column.</p></li>
</ol>
</section>
<section id="test-data-upload">
<h3>Test Data Upload<a class="headerlink" href="#test-data-upload" title="Permalink to this headline">¶</a></h3>
<p>Similarly, you can test Data Upload:</p>
<ol class="arabic simple">
<li><p>Go to the Amazon Redshift data source page in the catalog.</p></li>
<li><p>On the upper right, click <strong>More</strong>, and then click <strong>Upload Data</strong>.</p></li>
<li><p>Try to test-upload a table: the authentication flow should be the same as described above in <a class="reference internal" href="#test-profiling">Test Profiling</a>.</p></li>
</ol>
</section>
</section>
</section>


           </div>
          </div>
          <footer>

  
<div class="navigation-bar">

    <div class="navigation navigation--prev">
        
        <a class="navigation__link" href="SSOAuthenticationforAWSDynamoDBDataSource.html">
            <button class="navigation__button">
                <i class="icon icon-left"></i>
            </button>
            <div class="navigation__title">
                <span class="heading">Previous</span> <br />SSO Authentication for Amazon DynamoDB Data Source
            </div>
        </a>
        
    </div>

    <div class="navigation navigation--next">
        
        <a class="navigation__link" title="Accesskey Alt(+Shift)+p" accesskey="p" href="TroubleshootSSOAuthWithAWSDataSources.html">
            <div class="navigation__title">
                <span class="heading">Next</span> <br />Troubleshoot SSO Authentication with Amazon Data Sources
            </div>
            <button class="navigation__button" title="Accesskey Alt(+Shift)+n" accesskey="n">
                <i class="icon icon-right"></i>
            </button>
        </a>
        
    </div>

</div>


</footer>

        </div>
      </div>

    </section>

    <div class="wy-nav-side wy-nav-secondary">
      <div class="wy-side-scroll">
        <div class="wy-side-scroll__content">
          <div class="wy-menu-secondary">
              <div class="comments">
    <a href="mailto:no-reply-docs-feedback@alation.com?subject=Documentation Feedback on datasources/ComposeSSOAWSDataSources/SSOAuthenticationforAWSRedshiftDataSource&body=Alation%20welcomes%20your%20comments%20on%20typos,%20content%20accuracy%20and%20completeness,%20and%20whether%20you%20found%20this%20page%20helpful.%20You%20will%20not%20receive%20a%20reply%20to%20this%20email.">
        <i class="icon icon-envelope" aria-hidden="true"></i>Request docs changes
    </a>
    <a href="#open-modal-pdf">
        <i class="icon icon-pdf" aria-hidden="true"></i>Download PDF
    </a>
</div>
              
                <p class="wy-menu-secondary-header">On this page</p>
                <ul>
<li><a class="reference internal" href="#">SSO Authentication for Amazon Redshift Data Source</a><ul>
<li><a class="reference internal" href="#step-1-perform-configuration-in-your-idp-and-in-aws-iam">Step 1: Perform Configuration in Your IdP and in AWS IAM</a></li>
<li><a class="reference internal" href="#step-2-enable-alation-authservice">Step 2: Enable Alation AuthService</a></li>
<li><a class="reference internal" href="#step-3-create-an-authservice-configuration">Step 3: Create an AuthService Configuration</a></li>
<li><a class="reference internal" href="#step-4-create-a-compose-configuration">Step 4: Create a Compose Configuration</a><ul>
<li><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#step-5-configure-amazon-redshift-data-source-settings-in-alation">Step 5: Configure Amazon Redshift Data Source Settings in Alation</a></li>
<li><a class="reference internal" href="#selecting-an-aws-role">Selecting an AWS Role</a></li>
<li><a class="reference internal" href="#testing-the-configuration">Testing the Configuration</a><ul>
<li><a class="reference internal" href="#test-connection-in-compose">Test Connection in Compose</a><ul>
<li><a class="reference internal" href="#release-2021-4-and-older">Release 2021.4 and Older</a></li>
<li><a class="reference internal" href="#releases-2022-1-and-newer">Releases 2022.1 and Newer</a></li>
<li><a class="reference internal" href="#troubleshooting">Troubleshooting</a></li>
</ul>
</li>
<li><a class="reference internal" href="#test-profiling">Test Profiling</a></li>
<li><a class="reference internal" href="#test-data-upload">Test Data Upload</a></li>
</ul>
</li>
</ul>
</li>
</ul>

              
            </div>
          </div>
      </div>
    </div>

  </div>

  
  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->

  
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/clipboard.min.js"></script>
      <script type="text/javascript" src="../../_static/copybutton.js"></script>
      <script type="text/javascript" src="../../_static/js/rtd_sphinx_search.min.js"></script>
  
  <script type="text/javascript" src="../../_static/searchtools.js"></script> <script type="text/javascript" id="idPiwikScriptPlaceholder"></script><script type="text/javascript" src="../../_static/js/main.bundle.js"></script>
  <script type="text/javascript" src="../../_static/js/runtime.bundle.js"></script>

  
  

  
    <div id="open-modal-pdf" class="modal-window">
<div>
  <a href="#" title="Close" class="modal-close">Close</a>
  <h4>Alation Documentation PDF</h4>
  <p>This PDF contains all our documentation and is more than <b>120 MB</b> in size. We recommend using an ethernet or Wi-Fi connection for downloading.</p>
  <br>
  <div class="modal-buttons">
    <a href="https://pdf-docs.alation.com/AlationUserDocs.pdf" class="btn-cta btn-cta--primary" target="_blank">
      Download PDF
    </a>
    <a href="#" title="Close" class="btn-cta">Cancel</a>
  </div>
</div>
  

</body>
</html>
<!--3.6.17-->