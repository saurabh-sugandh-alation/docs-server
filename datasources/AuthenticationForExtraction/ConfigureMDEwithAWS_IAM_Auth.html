
<!DOCTYPE html>
<html lang="" >
<head>
  <meta charset="utf-8"/>
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="book-version"      content=""/>
  <meta name="book-release"      content=""/>
  <meta name="docsearch:name"    content="Alation User Guide" />
  <meta name="docsearch:version" content="" />
  <meta name="docsearch:package_type" content="" />
	<meta name="robots" content="noindex" />

  
  <title>Configure Extraction with AWS IAM Authentication &mdash; Alation User Guide</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  

  

  
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/main.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/sphinx_collapse.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/rtd_sphinx_search.min.css" type="text/css" />
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="Alation User Guide" href="#"/>
        <link rel="up" title="Authentication for Extraction" href="index.html"/>
        <link rel="next" title="Troubleshoot the Configuration of MDE with IAM Authentication" href="TroubleshootAWS_MDEwithIAMsetup.html"/>
        <link rel="prev" title="Authentication for Extraction" href="index.html"/>

	

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-67846571-1"></script>
	<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());

	gtag('config', 'UA-67846571-1');
	</script>

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<!-- Second Google Analytics tag to assist mapping with mattermost.com visits --> 
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-120238482-1"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'UA-120238482-1');
	</script>


</head>

<body class="wy-body-for-nav" role="document">

  <header>
    <div class="header__container wy-max-content-width">
        <a href="/" class="header__logo">
            <img width="176" src="../../_static/img/logo-alation.svg" alt="Alation" />
        </a>
        <ul class="header__links">
            <li><a href="https://help.alation.com/s/">Alation Help Center</a></li>
        </ul>
    </div>
</header>

  <div class="wy-grid-for-nav wy-max-content-width">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-scroll__content">
          <div class="wy-side-nav-search">
            

            <ul class="sidebartop">
              <li class="nolink search"><div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search this project" aria-label="Search this project" id="searchinput" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
</li>

            </ul>

            
          </div>

          <div class="wy-menu wy-sidebar wy-sidebar--hidden" data-spy="affix" role="navigation" aria-label="main navigation">
            
              
              
              
                  <p class="caption" role="heading"><span class="caption-text">Welcome to Alation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/About/index.html">About Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/CloudAndOnPrem/index.html">Alation Cloud and On-Premise</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/QuickStart/index.html">Quick Start Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/UserProfileandPreferences/index.html">User Profile and Preferences</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/CatalogBasics/index.html">Catalog Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Conversations/index.html">Conversations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Domains/index.html">Domains</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/BestPractices/index.html">Best Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Glossary/index.html">Alation Glossary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation Cloud Service</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/StatusPage/index.html">Status Page</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/CloudOverview/index.html">Cloud Service Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/CloudConfiguration/index.html">Configuration for Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/AlationAgent/index.html">Alation Agent</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation Integration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../integration/AlationAnywhere/index.html">Alation Anywhere</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../integration/AlationConnectedSheets/index.html">Alation Connected Sheets</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installation &amp; Configuration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/ServerInstallation/index.html">Install Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/HighAvailability/index.html">High Availability</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/Runbook/index.html">Runbook for Administrators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/Update/index.html">Update Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/BackupandRestore/index.html">Back Up and Restore</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/LineageV2/index.html">Lineage V2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/LineageV3/index.html">Lineage V3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/AlationAnalyticsV2/index.html">Alation Analytics V2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/AlationContainerService/index.html">Alation Container Service</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../sources/CatalogSources/index.html">Catalog Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/VirtualDataSources/index.html">Virtual Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/Lineage/index.html">Lineage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/APIResources/index.html">API Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/WorkwithCatalogData/index.html">Working with Catalog Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/OpenConnectorFramework/index.html">Open Connector Framework</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Data Sources</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../DSConfiguration/index.html">Data Source Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../AddDataSources/index.html">Adding Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ComposeSSOAWSDataSources/index.html">Compose SSO for Amazon Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ComposeSSOAzureDataSources/index.html">Compose SSO for Azure Data Sources</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Authentication for Extraction</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Configure Extraction with AWS IAM Authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="TroubleshootAWS_MDEwithIAMsetup.html">Troubleshoot the Configuration of MDE with IAM Authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="IntegrationWithAzureKeyVault.html">Integration with Azure Key Vault for Data Source Authentication</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../CustomDB/index.html">Custom DB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../GBQ/index.html">Google BigQuery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Hive/index.html">Hive</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">BI Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/AddBISources/index.html">Add BI Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/AddTableauServer/index.html">Add Tableau Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/WorkwithBISources/index.html">Working with BI Sources</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">File System Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../filesystems/FileSystems/index.html">Add File Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../filesystems/VirtualFileSystems/index.html">Virtual File Systems</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Analysts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/UserAuthenticationForDataSources/index.html">User Authentication for Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/ShareAndAccessQueries/index.html">Share and Access Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/WriteQueries/index.html">Write Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/DevelopQueries/index.html">Develop Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/WorkwithQueryResults/index.html">Work with Query Results</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Data Stewards</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../steward/GovernanceApp/index.html">Governance App</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/PolicyCenter/index.html">Policy Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/Workflow/index.html">Workflow Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/GovernanceDashboard/index.html">Governance Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/StewardshipWorkbench/index.html">Stewardship Workbench</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/AnalyticsStewardship/index.html">Analytics Stewardship</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/Glossary/index.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/ArticlesAndTags/index.html">Articles and Tags</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/ArticleGroups/index.html">Article Groups</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/DataCatalogCustomization/index.html">Customize Your Data Catalog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/DataDocumentation/index.html">Data Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/AutoTitlingandLexicon/index.html">Auto-titling and Lexicon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/SnowflakeTags/index.html">Snowflake Tags</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Server Administrators</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../admins/CustomizableHomePage/index.html">Customizable Homepage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AdminSettings/index.html">Administrator Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AdditionalConfiguration/index.html">Additional Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/RunbookForAdministrators/index.html">Runbook for Administrators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AlationAPIs/index.html">Alation APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/How-tos/index.html">How-tos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/Troubleshooting/index.html">Troubleshooting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Release Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../releases/releasenotes/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/supportmatrices/index.html">Support Matrices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/endofsupport/index.html">End Of Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/snowflakeclladdon/index.html">Snowflake Parser Add-On</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/fieldnotices/index.html">Important Notices and Security Alerts</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Archived Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../archive/About/index.html">About the Documentation Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/AdminConfig/index.html">Administration and Update Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/ReleaseNotes/index.html">Release Notes Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/Usage/index.html">Usage and Customization Archive</a></li>
</ul>

              
            
          </div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="wy-nav-top-icon"></i>
        <a href="../../index.html">Alation User Guide</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">

          <div role="navigation" aria-label="breadcrumbs" class="breadcrumbs">
    <a href="../../index.html">Docs</a>
    <span class="separator">&gt;</span>
    <a href="index.html">Authentication for Extraction</a>
    <span class="separator">&gt;</span>
    <span>Configure Extraction with AWS IAM Authentication</span>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody" class="toBeIndexed">
            
  <section id="configure-extraction-with-aws-iam-authentication">
<h1>Configure Extraction with AWS IAM Authentication<a class="headerlink" href="#configure-extraction-with-aws-iam-authentication" title="Permalink to this headline">¶</a></h1>
<p><em>Applies from version 2021.3</em></p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>This functionality is in beta release.</p>
</div>
</div></blockquote>
<p>For the Alation application instances hosted in AWS EC2 and Amazon sources, Alation supports metadata extraction (MDE) and query log ingestion (QLI) using authentication with AWS IAM. This configuration can be performed for:</p>
<blockquote>
<div><ul class="simple">
<li><p>Amazon Athena (Custom DB)</p></li>
<li><p>Amazon Redshift (native connector)</p></li>
<li><p>Amazon S3 file system source</p></li>
</ul>
</div></blockquote>
<p>When authentication for MDE goes through AWS IAM, the AuthService on the Alation server requests an STS token from AWS IAM in order to access AWS resources using the AWS IAM role defined in the MDE configuration:</p>
<blockquote>
<div><a class="with-border reference internal image-reference" href="../../_images/AWS_MDEwithIAM_01.png"><img alt="../../_images/AWS_MDEwithIAM_01.png" class="with-border" src="../../_images/AWS_MDEwithIAM_01.png" style="width: 500px;" /></a>
</div></blockquote>
<p>In order to set up MDE with AWS IAM authentication, you will need to perform configuration steps in both AWS Management Console and on the backend of the Alation server. You may need the assistance of your AWS admin to perform the configuration on the AWS side.</p>
<blockquote>
<div><div class="admonition important">
<p class="admonition-title">Important</p>
<p>STS tokens have a maximum duration of 12 hours. AuthService cannot refresh STS tokens while the metadata extraction is in progress (a known limitation). Metadata extraction that takes longer than 12 hours will fail because of the STS token expiration.</p>
</div>
</div></blockquote>
<section id="step-1-configuration-in-aws">
<h2>STEP 1: Configuration in AWS<a class="headerlink" href="#step-1-configuration-in-aws" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p>Determine which AWS resources you wish to catalog in Alation.</p></li>
<li><p>In the AWS IAM service, create an IAM policy (for example, <em>&lt;read_resources_policy&gt;</em>) that grants access to the AWS resources you are going to catalog. You can also use an existing policy that includes the required permissions:</p>
<blockquote>
<div><ul class="simple">
<li><p>For an <strong>Amazon S3</strong> file system source, your <em>&lt;read_resources_policy&gt;</em> should grant the read access to the S3 buckets you wish to catalog in Alation.</p></li>
<li><p>For an <strong>Amazon Athena</strong> data source, Alation recommends using the <code class="docutils literal notranslate"><span class="pre">AmazonAthenaFullAccess</span></code> policy. You may need to edit the inline policies as prescribed by your company’s AWS access rules.</p></li>
<li><p>For an <strong>Amazon Redshift</strong> data source, Alation recommends the SELECT privileges on schemas and tables that you want to add to the catalog, as well as on a number of system tables. See <a class="reference internal" href="../AddDataSources/Redshift.html#redshift-create-service-account"><span class="std std-ref">Create Service Account</span></a> for information about the required privileges.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Create an IAM role (for example, <em>&lt;read_resources_role&gt;</em>) selecting the <strong>Type of Trusted Entity</strong> to be <strong>AWS Service</strong> and <strong>Use Case</strong> to be <strong>EC2</strong>. To this role, attach the policy you created in step 2 (<em>&lt;read_resources_policy&gt;</em>) or an existing policy that fulfills the access requirements for MDE and QLI. This role will be assumed by the Alation application when performing MDE and QLI from your AWS source.</p></li>
<li><p>Save the ARN of this role (<em>&lt;read_resources_role&gt;</em>). It will be required for the next configuration steps in AWS and later during the configuration on the Alation server.</p></li>
<li><p>Create an IAM policy (for example, <em>&lt;assume_role_policy&gt;</em>) that allows the <strong>AssumeRole</strong> action for the IAM role created in step 3. When creating this policy:</p>
<blockquote>
<div><ul class="simple">
<li><p>Select STS as Service</p></li>
<li><p>Under <strong>Actions &gt; Access Level &gt; Write</strong>, select <strong>AssumeRole</strong></p></li>
<li><p>Under <strong>Resources</strong>, specify the ARN of the role that gives access to the AWS resources (your <em>&lt;read_resources_role&gt;</em> created in step 3):</p></li>
</ul>
<a class="with-border reference internal image-reference" href="../../_images/AWS_MDEwithIAM_02.png"><img alt="../../_images/AWS_MDEwithIAM_02.png" class="with-border" src="../../_images/AWS_MDEwithIAM_02.png" style="width: 500px;" /></a>
</div></blockquote>
</li>
<li><p>Create another IAM role, selecting the <strong>Type of Trusted Entity</strong> to be <strong>AWS Service</strong> and <strong>Use Case</strong> to be <strong>EC2</strong> (for example, <em>&lt;instance_profile_role_for_mde&gt;</em>). When creating the role:</p>
<blockquote>
<div><ul>
<li><p>Attach the policy you created in step 5 to this role (your <em>&lt;assume_role_policy&gt;</em>). For Amazon S3 or Athena sources, you only need to add this one policy.</p></li>
<li><p>If you are performing this configuration for Amazon Redshift, create and attach an additional policy that allows the <strong>GetClusterCredential</strong> action for the Redshift service. As a result, your <em>&lt;instance_profile_role_for_mde&gt;</em> will be associated with 2 policies:</p>
<blockquote>
<div><ul class="simple">
<li><p>your <em>&lt;assume_role_policy&gt;</em> created in step 5</p></li>
<li><p>an additional policy that grants <strong>GetClusterCredential</strong> for Redshift:</p></li>
</ul>
<a class="with-border reference internal image-reference" href="../../_images/AWS_MDEwithIAM_03.png"><img alt="../../_images/AWS_MDEwithIAM_03.png" class="with-border" src="../../_images/AWS_MDEwithIAM_03.png" style="width: 350px;" /></a>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
<li><p>Note down the ARN of this role (your <em>&lt;instance_profile_role_for_mde&gt;</em>).</p></li>
<li><p>Open the properties page of the role that gives access to the AWS resources (your <em>&lt;read_resources_role&gt;</em> created in step 3). Edit the <strong>Trust Relationship</strong> of this role by adding your <em>&lt;instance_profile_role_for_mde&gt;</em> created in step 6 as the Principal. Save the changes:</p>
<blockquote>
<div><a class="with-border reference internal image-reference" href="../../_images/AWS_MDEwithIAM_04.png"><img alt="../../_images/AWS_MDEwithIAM_04.png" class="with-border" src="../../_images/AWS_MDEwithIAM_04.png" style="width: 350px;" /></a>
</div></blockquote>
</li>
<li><p>In the AWS EC2 service, go to the properties page of the EC2 instance that hosts the Alation application.</p></li>
<li><p>Expand the <strong>Actions</strong> menu and click <strong>Security</strong>. Then click <strong>Modify IAM role</strong>:</p>
<blockquote>
<div><img alt="../../_images/AWS_MDEwithIAM_05.png" class="with-border" src="../../_images/AWS_MDEwithIAM_05.png" />
</div></blockquote>
</li>
<li><p>From the list of roles, select your <em>&lt;instance_profile_role_for_mde&gt;</em> created in step 6 and save. This will allow your EC2 instance that hosts the Alation application to assume the role that allows access to specific AWS resources (your <em>&lt;read_resources_role&gt;</em> created in step 3).</p></li>
</ol>
</section>
<section id="step-2-enable-authservice">
<h2>STEP 2: Enable AuthService<a class="headerlink" href="#step-2-enable-authservice" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Enabling of AuthService requires a redeployment of <strong>alation_conf</strong> and a restart of the Alation server. Alation recommends to schedule this configuration at a time when users are the least active in the Catalog. A redeployment of <strong>alation_conf</strong> and a restart will cause the Alation user interface to reload and users may lose their unsaved work.</p>
</div>
<p>From version 2022.2, AuthService is enabled by default. In versions before 2022.2, perform the following configuration on the Alation server to enable AuthService:</p>
<ol class="arabic">
<li><p>Use SSH to connect to your Alation host.</p></li>
<li><p>Enter the Alation shell.</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>/etc/init.d/alation<span class="w"> </span>shell
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Check if the AuthService is enabled on your instance by checking the current value of the <strong>alation_conf</strong> parameter <code class="docutils literal notranslate"><span class="pre">alation.authentication.service.enabled</span></code>.</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>alation_conf<span class="w"> </span>alation.authentication.service.enabled
</pre></div>
</div>
<p>If the current value is <code class="docutils literal notranslate"><span class="pre">True</span></code>, the AuthService is already enabled. If it’s <code class="docutils literal notranslate"><span class="pre">False</span></code>, then change the value to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</div></blockquote>
</li>
<li><p>Set the value to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>alation_conf<span class="w"> </span>alation.authentication.service.enabled<span class="w"> </span>-s<span class="w"> </span>True
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Deploy the configuration.</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>alation_action<span class="w"> </span>deploy_conf_all
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Restart Alation.</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>alation_action<span class="w"> </span>restart_alation
</pre></div>
</div>
</div></blockquote>
</li>
</ol>
<p>Stay in the Alation shell.</p>
</section>
<section id="step-3-configuration-on-the-alation-server">
<h2>STEP 3: Configuration on the Alation Server<a class="headerlink" href="#step-3-configuration-on-the-alation-server" title="Permalink to this headline">¶</a></h2>
<p>This configuration step requires the use of the Alation Django shell.</p>
<ol class="arabic">
<li><p>From the Alation shell, enter the Django shell:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>alation_django_shell
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Call the AuthService client by running the code below from the Django shell:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>from<span class="w"> </span>auth_client.auth<span class="w"> </span>import<span class="w"> </span>Client<span class="w"> </span>as<span class="w"> </span>AuthClient
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Check the status of the AWS IAM plug-in of AuthService using the command below. It should return the status <code class="docutils literal notranslate"><span class="pre">operational</span></code>:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>AuthClient<span class="o">(</span><span class="s1">&#39;aws_iam&#39;</span><span class="o">)</span>.status_check<span class="o">()</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>In an editor of your choice, write the code for creating an AuthService configuration using the following pattern and substituting placeholder values with your real values:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>AuthClient<span class="o">(</span><span class="s1">&#39;aws_iam&#39;</span><span class="o">)</span>.configure<span class="o">(</span><span class="nv">operation</span><span class="o">=</span><span class="s1">&#39;create&#39;</span>,<span class="w"> </span><span class="nv">config</span><span class="o">={</span><span class="s1">&#39;config_name&#39;</span>:<span class="s1">&#39;&lt;YOUR_VALUE_HERE&gt;&#39;</span>,<span class="w"> </span><span class="s1">&#39;region&#39;</span>:<span class="s1">&#39;&lt;YOUR_REGION_HERE&gt;&#39;</span>,<span class="w"> </span><span class="s1">&#39;sts_duration&#39;</span>:<span class="s1">&#39;&lt;YOUR_VALUE_IN_SECONDS&gt;&#39;</span>,<span class="w"> </span><span class="s1">&#39;redirect_url&#39;</span>:<span class="s1">&#39;&#39;</span>,<span class="w"> </span><span class="s1">&#39;aws_creds_type&#39;</span>:<span class="w"> </span><span class="s1">&#39;instance_profile&#39;</span><span class="o">})</span>
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>AuthClient<span class="o">(</span><span class="s1">&#39;aws_iam&#39;</span><span class="o">)</span>.configure<span class="o">(</span><span class="nv">operation</span><span class="o">=</span><span class="s1">&#39;create&#39;</span>,<span class="w"> </span><span class="nv">config</span><span class="o">={</span><span class="s1">&#39;config_name&#39;</span>:<span class="s1">&#39;extraction_from_aws&#39;</span>,<span class="w"> </span><span class="s1">&#39;region&#39;</span>:<span class="s1">&#39;us-east-1&#39;</span>,<span class="w"> </span><span class="s1">&#39;sts_duration&#39;</span>:<span class="s1">&#39;3600&#39;</span>,<span class="w"> </span><span class="s1">&#39;redirect_url&#39;</span>:<span class="s1">&#39;&#39;</span>,<span class="w"> </span><span class="s1">&#39;aws_creds_type&#39;</span>:<span class="w"> </span><span class="s1">&#39;instance_profile&#39;</span><span class="o">})</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can use the same configuration object for several AWS resources if the <code class="docutils literal notranslate"><span class="pre">region</span></code> and <code class="docutils literal notranslate"><span class="pre">sts_duration</span></code> parameters are the same. If your AWS resources are in different regions or should use separate <code class="docutils literal notranslate"><span class="pre">sts_duration</span></code> values for STS tokens, then create a separate configuration object for each source.</p>
</div>
</div></blockquote>
</li>
<li><p>From the Django shell, run the code you have written. This creates a configuration object with the name you have specified for the parameter <code class="docutils literal notranslate"><span class="pre">config_name</span></code>. In the example above, this name is <code class="docutils literal notranslate"><span class="pre">aws_extraction_s3</span></code>.</p></li>
<li><p>Note down the name of the configuration object you have created. You will need it for the next configuration steps.</p></li>
<li><p>If you are configuring an Amazon Athena or Amazon Redshift data source, you may want to stay in the Django shell to configure the data source to use AuthService for MDE. If you are configuring extraction from S3, exit the shells and continue the configuration in the Alation UI.</p>
<blockquote>
<div><ul class="simple">
<li><p>To exit the Django shell: <code class="docutils literal notranslate"><span class="pre">exit</span></code></p></li>
<li><p>To exit the Alation shell: <code class="docutils literal notranslate"><span class="pre">exit</span></code></p></li>
</ul>
</div></blockquote>
</li>
</ol>
<p>Next, configure your source to use this type of authentication.</p>
</section>
<section id="amazon-s3-file-system-source">
<span id="configure-mde-aws-file-system-source"></span><h2>Amazon S3 File System Source<a class="headerlink" href="#amazon-s3-file-system-source" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p>Log in to Alation as a <em>Server Admin</em>.</p></li>
<li><p>Create a new file system source of type <strong>S3</strong> or open the settings of an existing S3 file system source for which you are setting up MDE Authentication with IAM.</p></li>
<li><p>On the Settings page, go to the <strong>General Settings</strong> tab.</p></li>
<li><p>Under <strong>File System Connection</strong>, select the <strong>AWS STS Authentication</strong> radio button.</p></li>
<li><p>In the field <strong>Plugin Config Name</strong>, specify the <code class="docutils literal notranslate"><span class="pre">config_name</span></code> value of the AuthService configuration object that was created during the confirmation in the Django shell of the Alation server.</p></li>
<li><p>In the <strong>Role ARN</strong> field, specify the ARN of the role that gives access to the S3 resources you want to catalog. This role was configured on the AWS side (your <em>&lt;read_resources_role&gt;</em>).</p></li>
<li><p>Click <strong>Save</strong>:</p>
<blockquote>
<div><img alt="../../_images/AWS_MDEwithIAM_06.png" class="with-border" src="../../_images/AWS_MDEwithIAM_06.png" />
</div></blockquote>
</li>
<li><p>Go to the <strong>Metadata Extraction</strong> tab and perform metadata extraction. Alation should pull in the S3 resources allowed by the corresponding role (your <em>&lt;read_resources_role&gt;</em>).</p></li>
</ol>
</section>
<section id="amazon-athena-data-source-custom-db">
<h2>Amazon Athena Data Source (Custom DB)<a class="headerlink" href="#amazon-athena-data-source-custom-db" title="Permalink to this headline">¶</a></h2>
<p>In order to use authentication with AWS IAM for MDE, your Amazon Athena data source must use a modified version of the Simba driver certified by Alation.</p>
<ol class="arabic">
<li><p>If you are making changes to the configuration of an existing Athena data source, make sure you have selected the required driver and modified the URI.</p></li>
<li><p>If your Athena data source does not exist yet, create a new Custom DB source, following the steps described in <a class="reference internal" href="../CustomDB/AWSAthena.html"><span class="doc">Athena</span></a> and with the following changes to enable MDE with AWS IAM authentication:</p>
<blockquote>
<div><ul>
<li><p>Use the modified version of the JDBC driver that is recommended for Compose SSO: <a class="reference internal" href="../CustomDB/UpdateSimbaJDBCDriverForAthenaToSupportSSO.html"><span class="doc">Update the Simba JDBC Driver for Athena to Support SSO</span></a>.</p></li>
<li><p>Append the following string to the JDBC URI:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span><span class="nv">AwsCredentialsProviderClass</span><span class="o">=</span>com.example.CustomSessionCredentialsProvider<span class="p">;</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
<li><p>If you are adding a new data source, note that this configuration does not use a service account. You do not need to enter valid credentials in the Add Data Source wizard: click <strong>Continue with Errors</strong> on the Service Account screen to move through the wizard to the <strong>Settings</strong> page of the data source:</p>
<blockquote>
<div><a class="with-border reference internal image-reference" href="../../_images/AWS_MDEwithIAM_07.png"><img alt="../../_images/AWS_MDEwithIAM_07.png" class="with-border" src="../../_images/AWS_MDEwithIAM_07.png" style="width: 350px;" /></a>
</div></blockquote>
</li>
<li><p>When the source has been added to Alation, note down its ID: <a class="reference internal" href="../../admins/How-tos/HowToFindDataSourceID.html"><span class="doc">How to Find Data Source ID</span></a>.</p></li>
<li><p>Prepare the value of the <code class="docutils literal notranslate"><span class="pre">config_name</span></code> of the AuthService configuration object you created in <a class="reference internal" href="#step-3-configuration-on-the-alation-server">STEP 3: Configuration on the Alation Server</a>.</p></li>
<li><p>Prepare the ARN of the role that grants access to Athena in AWS (your <em>&lt;read_resources_role&gt;</em> from <a class="reference internal" href="#step-1-configuration-in-aws">STEP 1: Configuration in AWS</a>.</p></li>
<li><p>SSH to the Alation host, enter the Alation shell and then the Django shell:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>/etc/init.d/alation<span class="w"> </span>shell
alation_django_shell
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Enable your Athena data source to use AuthService: run the code given below in the Alation Django shell, substituting the placeholder values with your real values:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>&lt;ds_id&gt;</strong>: the ID of your Athena data source in Alation</p></li>
<li><p><strong>&lt;config_name&gt;</strong>: the name of the AuthService configuration object</p></li>
<li><p><strong>YOUR_ROLE_ARN</strong>: the ARN of your <em>&lt;read_resources_role&gt;</em></p></li>
</ul>
<p>8.1 Create a <code class="docutils literal notranslate"><span class="pre">DSAuthServiceConfiguration</span></code> object:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span><span class="nv">conf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>DSAuthServiceConfiguration.objects.create<span class="o">(</span><span class="nv">ds</span><span class="o">=</span>DataSource.objects.get<span class="o">(</span><span class="nv">id</span><span class="o">=</span>&lt;ds_id&gt;<span class="o">)</span>,<span class="w"> </span><span class="nv">method_name</span><span class="o">=</span><span class="s1">&#39;aws_iam&#39;</span>,<span class="w"> </span><span class="nv">config_name</span><span class="o">=</span>&lt;config_name&gt;<span class="o">)</span>
</pre></div>
</div>
</div></blockquote>
<p>8.2 Update <code class="docutils literal notranslate"><span class="pre">jdbc_config</span></code>:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span><span class="nv">configs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>DSAuthServiceConfiguration.objects.filter<span class="o">(</span><span class="nv">ds</span><span class="o">=</span>DataSource.objects.get<span class="o">(</span><span class="nv">id</span><span class="o">=</span>&lt;ds_id&gt;<span class="o">))</span>

<span class="nv">config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>configs<span class="o">[</span><span class="m">0</span><span class="o">]</span>
</pre></div>
</div>
</div></blockquote>
<p>8.3 Enable the MDE pipeline of the AuthService to use the role ARN:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>config.pipeline_params<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">{</span><span class="s1">&#39;MDE&#39;</span>:<span class="o">{</span><span class="s1">&#39;state_format&#39;</span>:<span class="s1">&#39;pipeline_mde_{id}&#39;</span>,<span class="s1">&#39;params&#39;</span>:<span class="o">{</span><span class="s1">&#39;role&#39;</span>:<span class="s1">&#39;YOUR_ROLE_ARN&#39;</span><span class="o">}}}</span>
</pre></div>
</div>
</div></blockquote>
<p>8.4 Specify the driver parameters for the Simba driver for Athena:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>config.jdbc_config<span class="o">[</span><span class="s1">&#39;auth_obj_to_jdbc_param_map&#39;</span><span class="o">]={</span><span class="s1">&#39;AWSCredentialsProviderArguments&#39;</span>:<span class="s1">&#39;{AWSAccessKey},{AWSSecretKey},{AWSSessionToken}&#39;</span><span class="o">}</span>
</pre></div>
</div>
</div></blockquote>
<p>8.5 Enable the configuration:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>config.enabled<span class="w"> </span><span class="o">=</span><span class="w"> </span>True
</pre></div>
</div>
</div></blockquote>
<p>8.6 Save:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>config.save<span class="o">()</span>
</pre></div>
</div>
</div></blockquote>
</div></blockquote>
</li>
<li><p>Verify the configuration by running the code given below and providing your data source ID for &lt;ds_id&gt;. The expected output is <code class="docutils literal notranslate"><span class="pre">True</span></code>:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span><span class="nv">conf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>DSAuthServiceConfiguration.objects.get<span class="o">(</span><span class="nv">ds</span><span class="o">=</span>DataSource.objects.get<span class="o">(</span><span class="nv">id</span><span class="o">=</span>&lt;ds_id&gt;<span class="o">)</span>,<span class="w"> </span><span class="nv">enabled</span><span class="o">=</span>True<span class="o">)</span>
</pre></div>
</div>
<div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>conf.enabled
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>To review your configuration, run:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>conf.jdbc_config
</pre></div>
</div>
</div></blockquote>
<p>The expected output will look as follows:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span><span class="o">{</span><span class="s1">&#39;auth_obj_to_jdbc_param_map&#39;</span>:<span class="w"> </span><span class="o">{</span><span class="s1">&#39;AWSCredentialsProviderArguments&#39;</span>:<span class="w"> </span><span class="s1">&#39;{AWSAccessKey},{AWSSecretKey},{AWSSessionToken}&#39;</span><span class="o">}</span>,
<span class="s1">&#39;jdbc_uri_enabler_patterns&#39;</span>:<span class="w"> </span><span class="o">[]</span>,
<span class="s1">&#39;jdbc_uri_to_auth_service_args_map&#39;</span>:<span class="w"> </span><span class="o">{}}</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>To verify the ARN of the AWS role:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>conf.pipeline_params
</pre></div>
</div>
</div></blockquote>
<p>The output will look similar to the following:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span><span class="o">{</span><span class="s1">&#39;MDE&#39;</span>:<span class="w"> </span><span class="o">{</span><span class="s1">&#39;state_format&#39;</span>:<span class="w"> </span><span class="s1">&#39;pipeline_mde_{id}&#39;</span>,
<span class="s1">&#39;params&#39;</span>:<span class="w"> </span><span class="o">{</span><span class="s1">&#39;role&#39;</span>:<span class="w"> </span><span class="s1">&#39;arn:aws:iam::112233293344:role/your-role-name&#39;</span><span class="o">}}}</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>To exit the Django shell: <code class="docutils literal notranslate"><span class="pre">exit</span></code></p></li>
<li><p>To exit the Alation shell: <code class="docutils literal notranslate"><span class="pre">exit</span></code></p></li>
<li><p>Open the Settings page of your Athena data source in the Alation user interface. On the <strong>Metadata Extraction</strong> tab, configure and perform MDE. On the <strong>Query Log Ingestion</strong> tab, configure and perform QLI.</p></li>
</ol>
</section>
<section id="amazon-redshift-data-source-native-connector">
<h2>Amazon Redshift Data Source (Native Connector)<a class="headerlink" href="#amazon-redshift-data-source-native-connector" title="Permalink to this headline">¶</a></h2>
<p>If your data source does not exist yet, create a new Amazon Redshift data source, following the steps described in <a class="reference internal" href="../AddDataSources/Redshift.html"><span class="doc">Amazon Redshift</span></a> and with the changes described below to enable MDE with AWS IAM authentication.</p>
<p>If your Redshift data source already exists, make changes to its configuration according to these steps.</p>
<ol class="arabic">
<li><p>Append the protocol <code class="docutils literal notranslate"><span class="pre">redshift:iam</span></code> to the JDBC URI, for example:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>redshift:iam://test-abcd.chby8aaabbcc.us-east-1.redshift.amazonaws.com:5439/your_data_1?tcpKeepAlive<span class="o">=</span>true<span class="p">&amp;</span><span class="nv">ssl</span><span class="o">=</span>true<span class="p">&amp;</span><span class="nv">AutoCreate</span><span class="o">=</span><span class="nb">true</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>If you are adding a new data source, note that this configuration does not use a service account. You do not need to enter valid credentials: click <strong>Continue with Errors</strong> on the Service Account screen of the data source wizard to move through the wizard to the Settings page of the data source.</p>
<blockquote>
<div><a class="with-border reference internal image-reference" href="../../_images/AWS_MDEwithIAM_07.png"><img alt="../../_images/AWS_MDEwithIAM_07.png" class="with-border" src="../../_images/AWS_MDEwithIAM_07.png" style="width: 350px;" /></a>
</div></blockquote>
</li>
<li><p>Note down the data source ID of your Amazon Redshift data source: <a class="reference internal" href="../../admins/How-tos/HowToFindDataSourceID.html"><span class="doc">How to Find Data Source ID</span></a>.</p></li>
<li><p>Prepare the name of the AuthService configuration you created in <a class="reference internal" href="#step-3-configuration-on-the-alation-server">STEP 3: Configuration on the Alation Server</a>.</p></li>
<li><p>Prepare the ARN of the role that grants access to Amazon Redshift in AWS (your <em>&lt;read_resources_role&gt;</em> from <a class="reference internal" href="#step-1-configuration-in-aws">STEP 1: Configuration in AWS</a>.</p></li>
<li><p>SSH to the Alation host, and enter the Alation shell and then the Django shell:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>/etc/init.d/alation<span class="w"> </span>shell
alation_django_shell
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Enable the data source to use AuthService by running the code given below and substituting the placeholder values with your real values:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>&lt;ds_id&gt;</strong> - The ID of your data source in Alation</p></li>
<li><p><strong>&lt;config_name&gt;</strong> - The name of the AuthService configuration object</p></li>
<li><p>YOUR_ROLE_ARN - The ARN of your <em>&lt;read_resources_role&gt;</em></p></li>
</ul>
<div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span><span class="nv">conf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>DSAuthServiceConfiguration.objects.create<span class="o">(</span><span class="nv">ds</span><span class="o">=</span>DataSource.objects.get<span class="o">(</span><span class="nv">id</span><span class="o">=</span>&lt;ds_id&gt;<span class="o">)</span>,
<span class="nv">method_name</span><span class="o">=</span><span class="s1">&#39;aws_iam&#39;</span>,
<span class="nv">config_name</span><span class="o">=</span><span class="s1">&#39;&lt;config_name&gt;&#39;</span>,
<span class="nv">enabled</span><span class="o">=</span>True,
<span class="nv">pipeline_params</span><span class="o">={</span><span class="s1">&#39;MDE&#39;</span>:<span class="o">{</span><span class="s1">&#39;state_format&#39;</span>:<span class="s1">&#39;pipeline_mde_{id}&#39;</span>,
<span class="s1">&#39;params&#39;</span>:<span class="o">{</span><span class="s1">&#39;role&#39;</span>:<span class="s1">&#39;YOUR_ROLE_ARN&#39;</span><span class="o">}}}</span>,
<span class="nv">jdbc_config</span><span class="o">={</span><span class="s1">&#39;auth_obj_to_jdbc_param_map&#39;</span>:<span class="o">{</span><span class="s1">&#39;AccessKeyID&#39;</span>:<span class="s1">&#39;{AWSAccessKey}&#39;</span>,
<span class="s1">&#39;SecretAccessKey&#39;</span>:<span class="s1">&#39;{AWSSecretKey}&#39;</span>,
<span class="s1">&#39;SessionToken&#39;</span>:<span class="s1">&#39;{AWSSessionToken}&#39;</span>
<span class="s1">&#39;jdbc_uri_enabler_patterns&#39;</span>:<span class="o">[]</span>,
<span class="s1">&#39;jdbc_uri_to_auth_service_args_map&#39;</span>:<span class="w"> </span><span class="o">{}})</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>To exit the Django shell: <code class="docutils literal notranslate"><span class="pre">exit</span></code></p></li>
<li><p>To exit the Alation shell: <code class="docutils literal notranslate"><span class="pre">exit</span></code></p></li>
<li><p>Return to the Alation UI and your Amazon Redshift data source Settings page. On the <strong>Metadata Extraction</strong> tab, configure and perform MDE. On the <strong>Query Log Ingestion</strong> tab, configure and perform QLI.</p></li>
</ol>
</section>
</section>


           </div>
          </div>
          <footer>

  
<div class="navigation-bar">

    <div class="navigation navigation--prev">
        
        <a class="navigation__link" href="index.html">
            <button class="navigation__button">
                <i class="icon icon-left"></i>
            </button>
            <div class="navigation__title">
                <span class="heading">Previous</span> <br />Authentication for Extraction
            </div>
        </a>
        
    </div>

    <div class="navigation navigation--next">
        
        <a class="navigation__link" title="Accesskey Alt(+Shift)+p" accesskey="p" href="TroubleshootAWS_MDEwithIAMsetup.html">
            <div class="navigation__title">
                <span class="heading">Next</span> <br />Troubleshoot the Configuration of MDE with IAM Authentication
            </div>
            <button class="navigation__button" title="Accesskey Alt(+Shift)+n" accesskey="n">
                <i class="icon icon-right"></i>
            </button>
        </a>
        
    </div>

</div>


</footer>

        </div>
      </div>

    </section>

    <div class="wy-nav-side wy-nav-secondary">
      <div class="wy-side-scroll">
        <div class="wy-side-scroll__content">
          <div class="wy-menu-secondary">
              <div class="comments">
    <a href="mailto:no-reply-docs-feedback@alation.com?subject=Documentation Feedback on datasources/AuthenticationForExtraction/ConfigureMDEwithAWS_IAM_Auth&body=Alation%20welcomes%20your%20comments%20on%20typos,%20content%20accuracy%20and%20completeness,%20and%20whether%20you%20found%20this%20page%20helpful.%20You%20will%20not%20receive%20a%20reply%20to%20this%20email.">
        <i class="icon icon-envelope" aria-hidden="true"></i>Request docs changes
    </a>
    <a href="#open-modal-pdf">
        <i class="icon icon-pdf" aria-hidden="true"></i>Download PDF
    </a>
</div>
              
                <p class="wy-menu-secondary-header">On this page</p>
                <ul>
<li><a class="reference internal" href="#">Configure Extraction with AWS IAM Authentication</a><ul>
<li><a class="reference internal" href="#step-1-configuration-in-aws">STEP 1: Configuration in AWS</a></li>
<li><a class="reference internal" href="#step-2-enable-authservice">STEP 2: Enable AuthService</a></li>
<li><a class="reference internal" href="#step-3-configuration-on-the-alation-server">STEP 3: Configuration on the Alation Server</a></li>
<li><a class="reference internal" href="#amazon-s3-file-system-source">Amazon S3 File System Source</a></li>
<li><a class="reference internal" href="#amazon-athena-data-source-custom-db">Amazon Athena Data Source (Custom DB)</a></li>
<li><a class="reference internal" href="#amazon-redshift-data-source-native-connector">Amazon Redshift Data Source (Native Connector)</a></li>
</ul>
</li>
</ul>

              
            </div>
          </div>
      </div>
    </div>

  </div>

  
  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->

  
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/clipboard.min.js"></script>
      <script type="text/javascript" src="../../_static/copybutton.js"></script>
      <script type="text/javascript" src="../../_static/js/rtd_sphinx_search.min.js"></script>
  
  <script type="text/javascript" src="../../_static/searchtools.js"></script> <script type="text/javascript" id="idPiwikScriptPlaceholder"></script><script type="text/javascript" src="../../_static/js/main.bundle.js"></script>
  <script type="text/javascript" src="../../_static/js/runtime.bundle.js"></script>

  
  

  
    <div id="open-modal-pdf" class="modal-window">
<div>
  <a href="#" title="Close" class="modal-close">Close</a>
  <h4>Alation Documentation PDF</h4>
  <p>This PDF contains all our documentation and is more than <b>120 MB</b> in size. We recommend using an ethernet or Wi-Fi connection for downloading.</p>
  <br>
  <div class="modal-buttons">
    <a href="https://pdf-docs.alation.com/AlationUserDocs.pdf" class="btn-cta btn-cta--primary" target="_blank">
      Download PDF
    </a>
    <a href="#" title="Close" class="btn-cta">Cancel</a>
  </div>
</div>
  

</body>
</html>
<!--3.6.17-->