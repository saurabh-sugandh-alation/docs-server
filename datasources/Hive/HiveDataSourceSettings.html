
<!DOCTYPE html>
<html lang="" >
<head>
  <meta charset="utf-8"/>
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="book-version"      content=""/>
  <meta name="book-release"      content=""/>
  <meta name="docsearch:name"    content="Alation User Guide" />
  <meta name="docsearch:version" content="" />
  <meta name="docsearch:package_type" content="" />
	<meta name="robots" content="noindex" />

  
  <title>Hive Data Source Settings &mdash; Alation User Guide</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  

  

  
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/main.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/sphinx_collapse.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/rtd_sphinx_search.min.css" type="text/css" />
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="Alation User Guide" href="#"/>
        <link rel="up" title="Hive Data Sources" href="index.html"/>
        <link rel="next" title="Migrating Existing Hive Data Sources to Configuration-Based Hive" href="MigratingExistingHiveDataSourcestoConfigurationBasedHive.html"/>
        <link rel="prev" title="Default Hive" href="DefaultHive.html"/>

	

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-67846571-1"></script>
	<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());

	gtag('config', 'UA-67846571-1');
	</script>

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<!-- Second Google Analytics tag to assist mapping with mattermost.com visits --> 
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-120238482-1"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'UA-120238482-1');
	</script>


</head>

<body class="wy-body-for-nav" role="document">

  <header>
    <div class="header__container wy-max-content-width">
        <a href="/" class="header__logo">
            <img width="176" src="../../_static/img/logo-alation.svg" alt="Alation" />
        </a>
        <ul class="header__links">
            <li><a href="https://help.alation.com/s/">Alation Help Center</a></li>
        </ul>
    </div>
</header>

  <div class="wy-grid-for-nav wy-max-content-width">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-scroll__content">
          <div class="wy-side-nav-search">
            

            <ul class="sidebartop">
              <li class="nolink search"><div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search this project" aria-label="Search this project" id="searchinput" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
</li>

            </ul>

            
          </div>

          <div class="wy-menu wy-sidebar wy-sidebar--hidden" data-spy="affix" role="navigation" aria-label="main navigation">
            
              
              
              
                  <p class="caption" role="heading"><span class="caption-text">Welcome to Alation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/About/index.html">About Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/CloudAndOnPrem/index.html">Alation Cloud and On-Premise</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/QuickStart/index.html">Quick Start Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/UserProfileandPreferences/index.html">User Profile and Preferences</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/CatalogBasics/index.html">Catalog Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Conversations/index.html">Conversations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Domains/index.html">Domains</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/BestPractices/index.html">Best Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Glossary/index.html">Alation Glossary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation Cloud Service</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/StatusPage/index.html">Status Page</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/CloudOverview/index.html">Cloud Service Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/CloudConfiguration/index.html">Configuration for Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/AlationAgent/index.html">Alation Agent</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation Integration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../integration/AlationAnywhere/index.html">Alation Anywhere</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../integration/AlationConnectedSheets/index.html">Alation Connected Sheets</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installation &amp; Configuration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/ServerInstallation/index.html">Install Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/HighAvailability/index.html">High Availability</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/Runbook/index.html">Runbook for Administrators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/Update/index.html">Update Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/BackupandRestore/index.html">Back Up and Restore</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/LineageV2/index.html">Lineage V2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/LineageV3/index.html">Lineage V3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/AlationAnalyticsV2/index.html">Alation Analytics V2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/AlationContainerService/index.html">Alation Container Service</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../sources/CatalogSources/index.html">Catalog Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/VirtualDataSources/index.html">Virtual Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/Lineage/index.html">Lineage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/APIResources/index.html">API Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/WorkwithCatalogData/index.html">Working with Catalog Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/OpenConnectorFramework/index.html">Open Connector Framework</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Data Sources</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../DSConfiguration/index.html">Data Source Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../AddDataSources/index.html">Adding Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ComposeSSOAWSDataSources/index.html">Compose SSO for Amazon Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ComposeSSOAzureDataSources/index.html">Compose SSO for Azure Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../AuthenticationForExtraction/index.html">Authentication for Extraction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CustomDB/index.html">Custom DB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../GBQ/index.html">Google BigQuery</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Hive</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="HiveOverview.html">Hive Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="AddingHiveDataSourcestoAlation.html">Add Hive Data Sources to Alation</a></li>
<li class="toctree-l2"><a class="reference internal" href="ConfigurationBasedHive.html">Configuration-Based Hive</a></li>
<li class="toctree-l2"><a class="reference internal" href="DefaultHive.html">Default Hive</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Hive Data Source Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="MigratingExistingHiveDataSourcestoConfigurationBasedHive.html">Migrating Existing Hive Data Sources to Configuration-Based Hive</a></li>
<li class="toctree-l2"><a class="reference internal" href="HivewithAWSGlueMetastore.html">Hive with AWS Glue Metastore</a></li>
<li class="toctree-l2"><a class="reference internal" href="Hive2onEMRwithQLIoverS3.html">Hive 2 on EMR with QLI over Amazon S3</a></li>
<li class="toctree-l2"><a class="reference internal" href="HiveTezQueryLogIngestionSetup.html">Hive Tez Query Log Ingestion Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="HiveSparkSupport.html">Spark Support for Hive</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">BI Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/AddBISources/index.html">Add BI Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/AddTableauServer/index.html">Add Tableau Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/WorkwithBISources/index.html">Working with BI Sources</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">File System Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../filesystems/FileSystems/index.html">Add File Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../filesystems/VirtualFileSystems/index.html">Virtual File Systems</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Analysts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/UserAuthenticationForDataSources/index.html">User Authentication for Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/ShareAndAccessQueries/index.html">Share and Access Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/WriteQueries/index.html">Write Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/DevelopQueries/index.html">Develop Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/WorkwithQueryResults/index.html">Work with Query Results</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Data Stewards</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../steward/GovernanceApp/index.html">Governance App</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/PolicyCenter/index.html">Policy Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/Workflow/index.html">Workflow Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/GovernanceDashboard/index.html">Governance Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/StewardshipWorkbench/index.html">Stewardship Workbench</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/AnalyticsStewardship/index.html">Analytics Stewardship</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/Glossary/index.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/ArticlesAndTags/index.html">Articles and Tags</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/ArticleGroups/index.html">Article Groups</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/DataCatalogCustomization/index.html">Customize Your Data Catalog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/DataDocumentation/index.html">Data Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/AutoTitlingandLexicon/index.html">Auto-titling and Lexicon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/SnowflakeTags/index.html">Snowflake Tags</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Server Administrators</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../admins/CustomizableHomePage/index.html">Customizable Homepage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AdminSettings/index.html">Administrator Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AdditionalConfiguration/index.html">Additional Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/RunbookForAdministrators/index.html">Runbook for Administrators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AlationAPIs/index.html">Alation APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/How-tos/index.html">How-tos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/Troubleshooting/index.html">Troubleshooting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Release Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../releases/releasenotes/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/supportmatrices/index.html">Support Matrices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/endofsupport/index.html">End Of Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/snowflakeclladdon/index.html">Snowflake Parser Add-On</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/fieldnotices/index.html">Important Notices and Security Alerts</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Archived Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../archive/About/index.html">About the Documentation Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/AdminConfig/index.html">Administration and Update Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/ReleaseNotes/index.html">Release Notes Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/Usage/index.html">Usage and Customization Archive</a></li>
</ul>

              
            
          </div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="wy-nav-top-icon"></i>
        <a href="../../index.html">Alation User Guide</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">

          <div role="navigation" aria-label="breadcrumbs" class="breadcrumbs">
    <a href="../../index.html">Docs</a>
    <span class="separator">&gt;</span>
    <a href="index.html">Hive Data Sources</a>
    <span class="separator">&gt;</span>
    <span>Hive Data Source Settings</span>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody" class="toBeIndexed">
            
  <section id="hive-data-source-settings">
<h1>Hive Data Source Settings<a class="headerlink" href="#hive-data-source-settings" title="Permalink to this headline">¶</a></h1>
<p>You can change the settings for your Hive data source on the Settings page. You must be the Data Source Admin of this data source to be able to
open and edit the settings.</p>
<p>To open the <strong>Settings</strong> page:</p>
<blockquote>
<div><ul>
<li><p>Click <strong>More</strong> on the top right of the data source page and in the menu that opens, click <strong>Settings</strong>:</p>
<blockquote>
<div><a class="with-border reference internal image-reference" href="../../_images/DS_Hive14.png"><img alt="../../_images/DS_Hive14.png" class="with-border" src="../../_images/DS_Hive14.png" style="width: 5.5in;" /></a>
</div></blockquote>
</li>
</ul>
</div></blockquote>
<section id="general-settings">
<h2>General Settings<a class="headerlink" href="#general-settings" title="Permalink to this headline">¶</a></h2>
<p>The general connection parameters are available on the <strong>General Settings</strong> tab. They include:</p>
<blockquote>
<div><ul class="simple">
<li><p>parameters common to all data sources in Alation;</p></li>
<li><p>settings specific to the current database type. Some of the parameters (for example, database connection parameters) will inherit the values you have entered in the <strong>Add Data Source</strong> wizard, while others can only be specified here.</p></li>
</ul>
</div></blockquote>
<section id="hive-specific-parameters">
<h3>Hive-specific parameters<a class="headerlink" href="#hive-specific-parameters" title="Permalink to this headline">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 31%" />
<col style="width: 69%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameters</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Hive and Hadoop Versions</p></td>
<td><p>Available from version V R5 (5.9.x) for configuration-based Hive</p></td>
</tr>
<tr class="row-odd"><td><p>Configurations Upload</p></td>
<td><p>Available from version V R5 (5.9.x) for configuration-based Hive</p></td>
</tr>
<tr class="row-even"><td><p>Metastore Network Connection</p></td>
<td><p>Metastore URI (default Hive)</p></td>
</tr>
<tr class="row-odd"><td><p>Kerberos Settings &gt;
Metastore Principal</p></td>
<td><p>Required if using Kerberos (default Hive)</p></td>
</tr>
<tr class="row-even"><td><p>Hive Knox URI</p></td>
<td><p>Knox URI
Available from version V R5 (5.9.x) for configuration-based Hive</p></td>
</tr>
<tr class="row-odd"><td><p>User Impersonation</p></td>
<td><p>User impersonation enables Hive to submit jobs as a particular
user. When enabled for a Hive data source in Alation, users will
automatically connect to the data source with the service
account. Queries will be run by the individual Alation user.</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="using-data-uploader">
<h2>Using Data Uploader<a class="headerlink" href="#using-data-uploader" title="Permalink to this headline">¶</a></h2>
<p>The Data Uploader functionality uses the WebHDFS parameters from the Settings &gt; <strong>Query Log Ingestion</strong> tab. Even when using configuration-based Hive, you will need to provide the parameters in the <strong>QLI</strong> &gt; <strong>WebHDFS Settings</strong> section if you want to use the Data Uploader.</p>
</section>
<section id="configuring-query-log-ingestion-qli">
<h2>Configuring Query Log Ingestion (QLI)<a class="headerlink" href="#configuring-query-log-ingestion-qli" title="Permalink to this headline">¶</a></h2>
<p>QLI parameters are found on the <strong>Settings</strong> page &gt; <strong>Query Log Ingestion</strong>.</p>
<p>Hive has several specific parameters required for QLI to run
successfully. You always have to fill in the parameters on the QLI tab if using default Hive.</p>
<p>If you are using configuration-based Hive, all the information required for QLI will be in the uploaded configuration files. However, you will still need to supply information on the <strong>Query Log Ingestion</strong> tab if:</p>
<blockquote>
<div><ul class="simple">
<li><p>You are planning to use the data uploader functionality (fill in the <strong>WebHDSF Settings</strong> section).</p></li>
<li><p>In release V R5 (5.9.x), you are using <strong>Hive with Tez</strong>. This does not apply to configuration-based Hive in release V R6 as in this release QLI over Tez uses the uploaded configurations.</p></li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For details on Hive frameworks refer to <a class="reference internal" href="index.html"><span class="doc">Hive Data Sources</span></a>.</p>
</div>
<p>QLI configuration depends on the connection type you are using:</p>
<ol class="arabic">
<li><p>Under <strong>Configure Connection Type</strong>, select the type of connection you are using. The input fields for QLI parameters will change depending on the selected option:</p>
<blockquote>
<div><ul>
<li><p><strong>WebHDFS</strong></p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>HttpFS connection is supported. You can use the WebHDFS fields to provide the HttpFS connection parameters.</p>
</div>
</div></blockquote>
</li>
<li><p><strong>AWS S3</strong></p></li>
</ul>
</div></blockquote>
</li>
<li><p>If you are connecting using WebHDFS, provide the following parameters under <strong>Configure HDFS Connection</strong>:</p>
<blockquote>
<div><ul>
<li><p>Log Source on HDFS</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>Folder</strong> — Select this option if the query log files are in a directory.</p></li>
<li><p><strong>Zip File</strong> — Select this option if the query log files are in a Zip file.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
<li><p>For either log source option, provide the required information:</p>
<blockquote>
<div><ul>
<li><p>MR &amp; Tez Settings</p>
<blockquote>
<div><ul class="simple">
<li><p>MR Folder HDFS Path</p></li>
</ul>
</div></blockquote>
</li>
<li><p>WebHDFS Settings</p>
<blockquote>
<div><ul class="simple">
<li><p>WebHDFS Server</p></li>
<li><p>WebHDFS Port</p></li>
<li><p>WebHDFS Username</p></li>
<li><p>Exclude log files</p></li>
</ul>
</div></blockquote>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If using HttpFS, specify the values for your HttpFS server in the fields for the WebHDFS connection. The HttpFS port is usually <strong>14000</strong>.</p>
</div>
</div></blockquote>
</li>
<li><p>Click <strong>Save</strong> to save the data you entered.</p>
<p><em>WebHDFS Log Source: Folder</em></p>
<a class="with-border reference internal image-reference" href="../../_images/DS_Hive15.png"><img alt="../../_images/DS_Hive15.png" class="with-border" src="../../_images/DS_Hive15.png" style="width: 5.5in;" /></a>
</li>
<li><p>If you are connecting using Amazon S3, provide the required parameters under <strong>Configure AWS S3 Connection</strong>. Note that Hive on EMR differs from other Hive configurations in that the query logs are typically captured on S3. Hence, for Hive EMR, you will need to configure this S3 connection for QLI. Specify the parameters listed below. If the values have already been provided during the initial setup of the data source, make sure they are correct:</p>
<blockquote>
<div><ul>
<li><p>MR &amp; Tez Settings</p>
<blockquote>
<div><ul class="simple">
<li><p>MR Folder AWS S3 Path</p></li>
<li><p>Tez Folder AWS S3 Path</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Apache Spark Settings</p>
<blockquote>
<div><ul class="simple">
<li><p>Spark Log Folder AWS S3 Path</p></li>
<li><p>Spark Log File Name Prefix</p></li>
<li><p>Number of Log files in directory</p></li>
<li><p>Log4j Time Format</p></li>
<li><p>Log4j Conversion Pattern</p></li>
</ul>
</div></blockquote>
</li>
<li><p>AWS S3 Settings</p>
<blockquote>
<div><ul class="simple">
<li><p>AWS Access Key ID</p></li>
<li><p>AWS Access Key Secret</p></li>
<li><p>AWS Region - Region name should match as listed in <a class="reference external" href="https://docs.aws.amazon.com/general/latest/gr/rande.html">AWS API Gateway Table</a>. If the region is not specified, it will assume the value of <code class="docutils literal notranslate"><span class="pre">us-east-1</span></code>.</p></li>
<li><p>Exclude log files</p></li>
</ul>
</div></blockquote>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For Amazon S3, the log path format is <code class="docutils literal notranslate"><span class="pre">/bucketname/path/to/logdirectory/</span></code> or <code class="docutils literal notranslate"><span class="pre">/bucketname/path/to/logfile.gzip</span></code>.</p>
<p>EMR archives the query logs and stores them in S3. Alation assumes that the files are archived. For ephemeral (transient) clusters, it is recommended to specify the master log path. Alation will traverse the tree with the master log path as root and find the logs.</p>
<p><strong>Example</strong>:</p>
<p>If the actual log paths are <code class="docutils literal notranslate"><span class="pre">/path/to/log/file1</span></code> and <code class="docutils literal notranslate"><span class="pre">/path/to/log/file2</span></code>, you can specify the master log path as: <code class="docutils literal notranslate"><span class="pre">/path/</span></code>.</p>
</div>
</div></blockquote>
</li>
<li><p>Click <strong>Save</strong> to save the data you entered.</p>
<blockquote>
<div><p><em>AWS S3 Connection Parameters</em></p>
<a class="with-border reference internal image-reference" href="../../_images/DS_Hive15.png"><img alt="../../_images/DS_Hive15.png" class="with-border" src="../../_images/DS_Hive15.png" style="width: 5.5in;" /></a>
</div></blockquote>
</li>
<li><p>Click <strong>Verify Configuration</strong> to test your configuration.</p></li>
</ol>
</section>
<section id="diagnosing-webhdfs-setup">
<h2>Diagnosing WebHDFS Setup<a class="headerlink" href="#diagnosing-webhdfs-setup" title="Permalink to this headline">¶</a></h2>
<p>Before launching QLI, it is worth checking that everything was set up correctly.</p>
<p>To verify the configuration:</p>
<ol class="arabic simple">
<li><p>Connect to the Alation server and try to list the contents of the logs directory with a <a class="reference external" href="https://hadoop.apache.org/docs/r1.0.4/webhdfs.html#LISTSTATUS">curl command</a>.</p></li>
<li><p>In the Alation user interface, on the <strong>Query Log Ingestion</strong> page, confirm that the WebHDFS server URL uses HTTPS. For example, <code class="docutils literal notranslate"><span class="pre">https://WEBHDFS_HOSTNAME</span></code>.</p></li>
</ol>
<section id="plain-hive-instance-with-no-configuration">
<h3>Plain Hive Instance with No Configuration<a class="headerlink" href="#plain-hive-instance-with-no-configuration" title="Permalink to this headline">¶</a></h3>
<p>SSL for Hive connections is supported. If using SSL, in the tests below, substitute <code class="docutils literal notranslate"><span class="pre">http</span></code> for <code class="docutils literal notranslate"><span class="pre">https</span></code>.</p>
<p>For example, on a Mac:</p>
<div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>curl<span class="w"> </span>-L<span class="w"> </span><span class="s2">&quot;http://&lt;server&gt;:50070/webhdfs/v1/&lt;directory&gt;?user.name=&lt;serviceaccount&gt;&amp;op=LISTSTATUS&quot;</span>
</pre></div>
</div>
</section>
<section id="kerberized-hive">
<h3>Kerberized Hive<a class="headerlink" href="#kerberized-hive" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p>KINIT as the service account.</p>
<blockquote>
<div><ul>
<li><p>Without Keytab:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>kinit<span class="w"> </span>HIVE_SERVICE_PRINCIPAL
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>With Keytab:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>kinit<span class="w"> </span>-kt<span class="w"> </span>/path/to/keytab<span class="w"> </span>HIVE_SERVICE_PRINCIPAL
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
<li><p>Run the slightly modified curl command:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>curl<span class="w"> </span>-L<span class="w"> </span>--negotiate<span class="w"> </span>-u<span class="w"> </span>:<span class="s2">&quot;http://&lt;web_hdfs_hostname&gt;:50070/webhdfs/v1/&lt;directory&gt;?user.name=&lt;serviceaccount&gt;&amp;op=LISTSTATUS&quot;</span>
</pre></div>
</div>
</div></blockquote>
<p>Additionally, you can try <a class="reference external" href="https://hadoop.apache.org/docs/r1.0.4/webhdfs.html#OPEN">downloading</a> one of the files. For example:</p>
<blockquote>
<div><div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>curl<span class="w"> </span>-L<span class="w"> </span><span class="s2">&quot;http://&lt;server&gt;:50070/webhdfs/v1/&lt;path_to_file&gt;?user.name=&lt;serviceaccount&gt;&amp;op=OPEN&quot;</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ol>
</section>
</section>
</section>


           </div>
          </div>
          <footer>

  
<div class="navigation-bar">

    <div class="navigation navigation--prev">
        
        <a class="navigation__link" href="DefaultHive.html">
            <button class="navigation__button">
                <i class="icon icon-left"></i>
            </button>
            <div class="navigation__title">
                <span class="heading">Previous</span> <br />Default Hive
            </div>
        </a>
        
    </div>

    <div class="navigation navigation--next">
        
        <a class="navigation__link" title="Accesskey Alt(+Shift)+p" accesskey="p" href="MigratingExistingHiveDataSourcestoConfigurationBasedHive.html">
            <div class="navigation__title">
                <span class="heading">Next</span> <br />Migrating Existing Hive Data Sources to Configuration-Based Hive
            </div>
            <button class="navigation__button" title="Accesskey Alt(+Shift)+n" accesskey="n">
                <i class="icon icon-right"></i>
            </button>
        </a>
        
    </div>

</div>


</footer>

        </div>
      </div>

    </section>

    <div class="wy-nav-side wy-nav-secondary">
      <div class="wy-side-scroll">
        <div class="wy-side-scroll__content">
          <div class="wy-menu-secondary">
              <div class="comments">
    <a href="mailto:no-reply-docs-feedback@alation.com?subject=Documentation Feedback on datasources/Hive/HiveDataSourceSettings&body=Alation%20welcomes%20your%20comments%20on%20typos,%20content%20accuracy%20and%20completeness,%20and%20whether%20you%20found%20this%20page%20helpful.%20You%20will%20not%20receive%20a%20reply%20to%20this%20email.">
        <i class="icon icon-envelope" aria-hidden="true"></i>Request docs changes
    </a>
    <a href="#open-modal-pdf">
        <i class="icon icon-pdf" aria-hidden="true"></i>Download PDF
    </a>
</div>
              
                <p class="wy-menu-secondary-header">On this page</p>
                <ul>
<li><a class="reference internal" href="#">Hive Data Source Settings</a><ul>
<li><a class="reference internal" href="#general-settings">General Settings</a><ul>
<li><a class="reference internal" href="#hive-specific-parameters">Hive-specific parameters</a></li>
</ul>
</li>
<li><a class="reference internal" href="#using-data-uploader">Using Data Uploader</a></li>
<li><a class="reference internal" href="#configuring-query-log-ingestion-qli">Configuring Query Log Ingestion (QLI)</a></li>
<li><a class="reference internal" href="#diagnosing-webhdfs-setup">Diagnosing WebHDFS Setup</a><ul>
<li><a class="reference internal" href="#plain-hive-instance-with-no-configuration">Plain Hive Instance with No Configuration</a></li>
<li><a class="reference internal" href="#kerberized-hive">Kerberized Hive</a></li>
</ul>
</li>
</ul>
</li>
</ul>

              
            </div>
          </div>
      </div>
    </div>

  </div>

  
  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->

  
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/clipboard.min.js"></script>
      <script type="text/javascript" src="../../_static/copybutton.js"></script>
      <script type="text/javascript" src="../../_static/js/rtd_sphinx_search.min.js"></script>
  
  <script type="text/javascript" src="../../_static/searchtools.js"></script> <script type="text/javascript" id="idPiwikScriptPlaceholder"></script><script type="text/javascript" src="../../_static/js/main.bundle.js"></script>
  <script type="text/javascript" src="../../_static/js/runtime.bundle.js"></script>

  
  

  
    <div id="open-modal-pdf" class="modal-window">
<div>
  <a href="#" title="Close" class="modal-close">Close</a>
  <h4>Alation Documentation PDF</h4>
  <p>This PDF contains all our documentation and is more than <b>120 MB</b> in size. We recommend using an ethernet or Wi-Fi connection for downloading.</p>
  <br>
  <div class="modal-buttons">
    <a href="https://pdf-docs.alation.com/AlationUserDocs.pdf" class="btn-cta btn-cta--primary" target="_blank">
      Download PDF
    </a>
    <a href="#" title="Close" class="btn-cta">Cancel</a>
  </div>
</div>
  

</body>
</html>
<!--3.6.17-->