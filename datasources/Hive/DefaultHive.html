
<!DOCTYPE html>
<html lang="" >
<head>
  <meta charset="utf-8"/>
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="book-version"      content=""/>
  <meta name="book-release"      content=""/>
  <meta name="docsearch:name"    content="Alation User Guide" />
  <meta name="docsearch:version" content="" />
  <meta name="docsearch:package_type" content="" />
	<meta name="robots" content="noindex" />

  
  <title>Default Hive &mdash; Alation User Guide</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  

  

  
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/main.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/sphinx_collapse.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/rtd_sphinx_search.min.css" type="text/css" />
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="Alation User Guide" href="#"/>
        <link rel="up" title="Hive Data Sources" href="index.html"/>
        <link rel="next" title="Hive Data Source Settings" href="HiveDataSourceSettings.html"/>
        <link rel="prev" title="Configuration-Based Hive" href="ConfigurationBasedHive.html"/>

	

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-67846571-1"></script>
	<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());

	gtag('config', 'UA-67846571-1');
	</script>

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<!-- Second Google Analytics tag to assist mapping with mattermost.com visits --> 
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-120238482-1"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'UA-120238482-1');
	</script>


</head>

<body class="wy-body-for-nav" role="document">

  <header>
    <div class="header__container wy-max-content-width">
        <a href="/" class="header__logo">
            <img width="176" src="../../_static/img/logo-alation.svg" alt="Alation" />
        </a>
        <ul class="header__links">
            <li><a href="https://help.alation.com/s/">Alation Help Center</a></li>
        </ul>
    </div>
</header>

  <div class="wy-grid-for-nav wy-max-content-width">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-scroll__content">
          <div class="wy-side-nav-search">
            

            <ul class="sidebartop">
              <li class="nolink search"><div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search this project" aria-label="Search this project" id="searchinput" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
</li>

            </ul>

            
          </div>

          <div class="wy-menu wy-sidebar wy-sidebar--hidden" data-spy="affix" role="navigation" aria-label="main navigation">
            
              
              
              
                  <p class="caption" role="heading"><span class="caption-text">Welcome to Alation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/About/index.html">About Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/CloudAndOnPrem/index.html">Alation Cloud and On-Premise</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/QuickStart/index.html">Quick Start Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/UserProfileandPreferences/index.html">User Profile and Preferences</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/CatalogBasics/index.html">Catalog Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Conversations/index.html">Conversations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Domains/index.html">Domains</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/BestPractices/index.html">Best Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Glossary/index.html">Alation Glossary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation Cloud Service</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/StatusPage/index.html">Status Page</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/CloudOverview/index.html">Cloud Service Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/CloudConfiguration/index.html">Configuration for Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/AlationAgent/index.html">Alation Agent</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation Integration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../integration/AlationAnywhere/index.html">Alation Anywhere</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../integration/AlationConnectedSheets/index.html">Alation Connected Sheets</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installation &amp; Configuration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/ServerInstallation/index.html">Install Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/HighAvailability/index.html">High Availability</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/Runbook/index.html">Runbook for Administrators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/Update/index.html">Update Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/BackupandRestore/index.html">Back Up and Restore</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/LineageV2/index.html">Lineage V2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/LineageV3/index.html">Lineage V3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/AlationAnalyticsV2/index.html">Alation Analytics V2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/AlationContainerService/index.html">Alation Container Service</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../sources/CatalogSources/index.html">Catalog Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/VirtualDataSources/index.html">Virtual Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/Lineage/index.html">Lineage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/APIResources/index.html">API Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/WorkwithCatalogData/index.html">Working with Catalog Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/OpenConnectorFramework/index.html">Open Connector Framework</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Data Sources</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../DSConfiguration/index.html">Data Source Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../AddDataSources/index.html">Adding Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ComposeSSOAWSDataSources/index.html">Compose SSO for Amazon Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ComposeSSOAzureDataSources/index.html">Compose SSO for Azure Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../AuthenticationForExtraction/index.html">Authentication for Extraction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CustomDB/index.html">Custom DB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../GBQ/index.html">Google BigQuery</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Hive</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="HiveOverview.html">Hive Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="AddingHiveDataSourcestoAlation.html">Add Hive Data Sources to Alation</a></li>
<li class="toctree-l2"><a class="reference internal" href="ConfigurationBasedHive.html">Configuration-Based Hive</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Default Hive</a></li>
<li class="toctree-l2"><a class="reference internal" href="HiveDataSourceSettings.html">Hive Data Source Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="MigratingExistingHiveDataSourcestoConfigurationBasedHive.html">Migrating Existing Hive Data Sources to Configuration-Based Hive</a></li>
<li class="toctree-l2"><a class="reference internal" href="HivewithAWSGlueMetastore.html">Hive with AWS Glue Metastore</a></li>
<li class="toctree-l2"><a class="reference internal" href="Hive2onEMRwithQLIoverS3.html">Hive 2 on EMR with QLI over Amazon S3</a></li>
<li class="toctree-l2"><a class="reference internal" href="HiveTezQueryLogIngestionSetup.html">Hive Tez Query Log Ingestion Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="HiveSparkSupport.html">Spark Support for Hive</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">BI Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/AddBISources/index.html">Add BI Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/AddTableauServer/index.html">Add Tableau Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/WorkwithBISources/index.html">Working with BI Sources</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">File System Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../filesystems/FileSystems/index.html">Add File Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../filesystems/VirtualFileSystems/index.html">Virtual File Systems</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Analysts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/UserAuthenticationForDataSources/index.html">User Authentication for Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/ShareAndAccessQueries/index.html">Share and Access Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/WriteQueries/index.html">Write Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/DevelopQueries/index.html">Develop Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/WorkwithQueryResults/index.html">Work with Query Results</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Data Stewards</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../steward/GovernanceApp/index.html">Governance App</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/PolicyCenter/index.html">Policy Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/Workflow/index.html">Workflow Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/GovernanceDashboard/index.html">Governance Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/StewardshipWorkbench/index.html">Stewardship Workbench</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/AnalyticsStewardship/index.html">Analytics Stewardship</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/Glossary/index.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/ArticlesAndTags/index.html">Articles and Tags</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/ArticleGroups/index.html">Article Groups</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/DataCatalogCustomization/index.html">Customize Your Data Catalog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/DataDocumentation/index.html">Data Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/AutoTitlingandLexicon/index.html">Auto-titling and Lexicon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/SnowflakeTags/index.html">Snowflake Tags</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Server Administrators</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../admins/CustomizableHomePage/index.html">Customizable Homepage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AdminSettings/index.html">Administrator Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AdditionalConfiguration/index.html">Additional Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/RunbookForAdministrators/index.html">Runbook for Administrators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AlationAPIs/index.html">Alation APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/How-tos/index.html">How-tos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/Troubleshooting/index.html">Troubleshooting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Release Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../releases/releasenotes/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/supportmatrices/index.html">Support Matrices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/endofsupport/index.html">End Of Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/snowflakeclladdon/index.html">Snowflake Parser Add-On</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/fieldnotices/index.html">Important Notices and Security Alerts</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Archived Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../archive/About/index.html">About the Documentation Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/AdminConfig/index.html">Administration and Update Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/ReleaseNotes/index.html">Release Notes Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/Usage/index.html">Usage and Customization Archive</a></li>
</ul>

              
            
          </div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="wy-nav-top-icon"></i>
        <a href="../../index.html">Alation User Guide</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">

          <div role="navigation" aria-label="breadcrumbs" class="breadcrumbs">
    <a href="../../index.html">Docs</a>
    <span class="separator">&gt;</span>
    <a href="index.html">Hive Data Sources</a>
    <span class="separator">&gt;</span>
    <span>Default Hive</span>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody" class="toBeIndexed">
            
  <section id="default-hive">
<h1>Default Hive<a class="headerlink" href="#default-hive" title="Permalink to this headline">¶</a></h1>
<section id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<section id="open-ports-for-connections">
<h3>Open Ports for Connections<a class="headerlink" href="#open-ports-for-connections" title="Permalink to this headline">¶</a></h3>
<p>For ports information, see <a class="reference internal" href="AddingHiveDataSourcestoAlation.html#adding-hive-data-source-ports-for-hive"><span class="std std-ref">Ports for Hive</span></a>.</p>
</section>
<section id="collect-setup-information">
<h3>Collect Setup Information<a class="headerlink" href="#collect-setup-information" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>JDBC URI or hostname and port of your Hive database</p></li>
<li><p>WebHDFS server and port</p></li>
<li><p>Metastore URI</p></li>
<li><p>If your Hive DB is deployed on Amazon S3, parameters for Query Log Ingestion (QLI) over S3:</p>
<blockquote>
<div><ul class="simple">
<li><p>AWS Access Key ID</p></li>
<li><p>AWS Access Key Secret</p></li>
<li><p>AWS Region</p></li>
<li><p>Log files to be excluded, if applicable</p></li>
</ul>
</div></blockquote>
</li>
<li><p>If using Apache Spark, parameters for QLI with Spark:</p>
<blockquote>
<div><ul class="simple">
<li><p>Spark Log Folder Amazon S3 Path</p></li>
<li><p>Spark Log File Name Prefix</p></li>
<li><p>Number of Log files in directory</p></li>
<li><p>Log4j Time Format</p></li>
<li><p>Log4j Conversion Pattern</p></li>
</ul>
</div></blockquote>
</li>
<li><p>With metastore on AWS Glue:</p>
<blockquote>
<div><ul class="simple">
<li><p>Access Key ID</p></li>
<li><p>Access Key Secret</p></li>
<li><p>AWS Region—Region name should appear as listed in <a class="reference external" href="https://docs.aws.amazon.com/general/latest/gr/rande.html">AWS API Gateway Table</a>.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Kerberos information, if applicable:</p>
<blockquote>
<div><ul class="simple">
<li><p>Hive Principal</p></li>
<li><p>Metastore Principal</p></li>
<li><p>Keytab: keytab access is supported. You will need to provide a valid keytab on the data source <em>Settings</em> page.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
<blockquote>
<div><p>If using Apache Knox:</p>
</div></blockquote>
<p>Documentation on the Knox WebHDFS URI, as well as how Knox routes gateways, topologies, and clusters using this URI can be found at the <a class="reference external" href="https://knox.apache.org/books/knox-0-9-0/user-guide.html">Knox book</a>.</p>
</section>
<section id="qli-information">
<h3>QLI Information<a class="headerlink" href="#qli-information" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>The default locations of Job History Logs on various platforms are
listed below. Each of the folders should have sub-directories
named <strong>YYYY/MM/DD</strong> (for example: 2016/02/24). Use Hue or Hadoop HDFS CLI
to confirm that <strong>.jhist</strong> and <strong>.xml</strong> files are present
in YYYY/MM/DD sub-directories (for example: 2016/02/24/00001/abc.jhist).</p></li>
<li><p>For CDH: /user/history/done</p></li>
<li><p>For MapR: /var/mapr/cluster/yarn/rm/staging/history/done</p></li>
<li><p>For AWS EMR: /tmp/hadoop-yarn/staging/history/done (WebHDFS port can be 9101)</p></li>
<li><p>For other stacks with YARN: /mr-history/done</p></li>
<li><p>HDP with Tez: /ats/done/</p></li>
<li><p>Network access from Alation to WebHDFS Server and port (default
<strong>50070</strong> or <strong>9870</strong>, config parameter <code class="docutils literal notranslate"><span class="pre">dfs.http.address</span></code>)</p>
<blockquote>
<div><ul class="simple">
<li><p>The default WebHDFS port depends on the Hadoop version and distribution. For Hadoop 2.x, the default WebHDFS port is <strong>50070</strong>. For Hadoop 3.x, in some of the distributions, the default WebHDFS port may be <strong>9870</strong>. For example, in the latest CDH distribution, the default WebHDFS port is <strong>9870</strong>.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
<p>Hive QLI also supports reading the logs from a zip file that is stored
on HDFS. The zip file is accessed using WebHDFS; the service account
needs READ permissions on that file if you want to use the zipped log
files for QLI. The zip file can be selected as the source for QLI when
adding a Hive data source in Alation UI.</p>
<p>We provide an example of how to create the zip file. The following three
lines of code download the logs created on 2016-02-09 from HDFS, zip
them and upload the zipped file on HDFS at/tmp folder:</p>
<div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>hadoop<span class="w"> </span>fs<span class="w"> </span>-get<span class="w"> </span>/user/history/done/2016/02/09<span class="w"> </span>./2016_02_09
zip<span class="w"> </span>-r<span class="w"> </span>2016_02_09.zip<span class="w"> </span>2016_02_09/
hadoop<span class="w"> </span>fs<span class="w"> </span>-put<span class="w"> </span>2016_02_09.zip<span class="w"> </span>/tmp
</pre></div>
</div>
</section>
</section>
<section id="adding-hive-data-source-on-default-framework">
<h2>Adding Hive Data Source on Default Framework<a class="headerlink" href="#adding-hive-data-source-on-default-framework" title="Permalink to this headline">¶</a></h2>
<p>To add data sources, you need the <em>Server Admin</em> role in Alation.</p>
<p>To add a Hive data source on default framework,</p>
<ol class="arabic simple">
<li><p>Click the <strong>Sources</strong> icon on the main toolbar in Alation to open the Sources page.</p></li>
</ol>
<ol class="arabic simple" start="2">
<li><p>On the Sources page, in the upper-right corner, click Add and select <strong>Data Source</strong>. This brings up the <strong>Add a Data Source</strong> wizard:</p></li>
</ol>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/DS_Hive06.png"><img alt="../../_images/DS_Hive06.png" class="align-center" src="../../_images/DS_Hive06.png" style="width: 5.5in;" /></a>
</div></blockquote>
<ol class="arabic" start="3">
<li><p>In the Add a Data Source Wizard, enter the following information for your Data Source:</p>
<ul class="simple">
<li><p><strong>Title</strong></p></li>
<li><p><strong>Other Data Source Admins</strong> you are automatically assigned as a Data
Source Admin for the data source you are adding. However, you can add
other users to manage the settings of this data source. Hover over
Assign Data Source Admins section to reveal the Add button, and click
it to add other admins.</p></li>
<li><p><strong>Who is setting this up?</strong> - Select an option</p></li>
</ul>
</li>
<li><p>Click <strong>Continue Setup</strong> to continue to the next configuration step:</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/DS_Hive12.png"><img alt="../../_images/DS_Hive12.png" class="align-center" src="../../_images/DS_Hive12.png" style="width: 3.5in;" /></a>
</div></blockquote>
</li>
<li><p>Under <strong>Connection</strong>, select the <strong>Database Type</strong> from the database list: <strong>Hive2</strong>.</p></li>
<li><p>Enter the network connection details. There are two options to do that for Hive:</p>
<ul class="simple">
<li><p>Providing the hostname and port separately</p></li>
<li><p>Providing the host URI in the JDBC format.</p></li>
</ul>
<p>You can choose the format by selecting or clearing the <strong>Enter JDBC
URI</strong> checkbox on the upper right. By default, this checkbox is clear.
Leave this checkbox clear to specify the hostname (or IP address) and
the port number separately. Select <strong>Use Default</strong> checkbox for <strong>Port</strong> if you
want to use the default port to connect.</p>
<p>If you want to use the JDBC format, select the <strong>Enter JDBC
URI</strong> checkbox. Selecting it will change the input fields to accept the
URI in the JDBC format: <strong>hive2://host:port/</strong></p>
<p>You can use either an IP address or hostname for host. Example: <strong>hive2://10.11.21.108:1000/</strong></p>
<p>Knox is supported for Metadata Extraction (MDE) and Query Log Ingestion
(QLI): replace the Hive server URI with the Knox Server URI in the data
source configuration.</p>
</li>
<li><p>In the <strong>Metastore URI</strong> field, specify the Hive Metastore URI.</p></li>
<li><p>If using Kerberos, select the <strong>Kerberos</strong> checkbox. This action will reveal the Kerberos-specific fields to be filled:</p>
<ul class="simple">
<li><p>Hive Principal</p></li>
<li><p>Metastore Principal</p></li>
</ul>
</li>
<li><p>If your Hive metastore is on AWS Glue, select the <strong>Use AWS Glue</strong> checkbox for Metastore. This action will reveal several additional settings in UI. You will need to provide:</p>
<ul class="simple">
<li><p><strong>Access Key ID</strong> Enter the access ID of the service account for AWS
Glue.</p></li>
<li><p><strong>Access Key Secret</strong> Enter the secret key of the service account for AWS
Glue.</p></li>
<li><p><strong>AWS Region</strong> The default value is <strong>us-east-1</strong>. If the value of the AWS
Region is other than the default, enter values as mentioned
under Region column at <a class="reference external" href="https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Concepts.RegionsAndAvailabilityZones.html">aws region documentation</a></p></li>
</ul>
</li>
<li><p>Under <strong>Catalog</strong>, enter the <strong>Database Name</strong>, <strong>Description</strong>, and select the required <strong>Privacy setting</strong> (Public or Private).</p></li>
<li><p>Click <strong>Save and Continue</strong> to go to the next step that requires the service account information.</p></li>
</ol>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can also <strong>Continue with Errors</strong> and troubleshoot later.</p>
</div>
</div></blockquote>
<ol class="arabic simple" start="12">
<li><p>Provide the <strong>Username</strong> and <strong>Password</strong> for the Service Account. For details on the required grants, see <a class="reference internal" href="AddingHiveDataSourcestoAlation.html#adding-hive-data-source-database-service-account"><span class="std std-ref">Database Service Account</span></a>.</p></li>
<li><p>Click <strong>Save and Continue</strong>. This will take you to the next step that sets up Query Log Ingestion (QLI). You can:</p></li>
</ol>
<blockquote>
<div><blockquote>
<div><ul class="simple">
<li><p>skip this step and address the QLI settings later on the <strong>Settings</strong> page of this data source</p></li>
<li><p>choose to provide settings for QLI at this step if you are using the WebHDFS connection.</p></li>
</ul>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>With default Hive, if your Hive DB is deployed on EMR with QLI
over Amazon S3, you have to skip this step because QLI for
Hive on EMR on default framework can only be addressed on the <strong>Settings</strong> &gt; <strong>Query Log Ingestion</strong> page.</p>
</div>
</div></blockquote>
<p>If you decide to configure QLI at this step, provide the required parameters:</p>
<ul>
<li><p>Under <strong>Import Query History</strong>, specify the <strong>Logs Source Type</strong>:</p>
<blockquote>
<div><ul class="simple">
<li><p>Directory</p></li>
<li><p>ZIP file</p></li>
</ul>
<p>See <a class="reference internal" href="#qli-information">QLI Information</a> for details on the log paths.</p>
</div></blockquote>
</li>
<li><p>If you use the <strong>Directory</strong> option, provide:</p>
<blockquote>
<div><ul class="simple">
<li><p>Logs Directory - note that the path will depend on your Hive platform and setup</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
<ul>
<li><p>If you use the <strong>ZIP File</strong> option, provide:</p>
<blockquote>
<div><ul class="simple">
<li><p>ZIP File Path</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Provide information in fields:</p>
<blockquote>
<div><ul class="simple">
<li><p>WebHDFS Server</p></li>
<li><p>WebHDFS Port (or select Use Default)</p></li>
<li><p>Exclude Log Files (optional)</p></li>
</ul>
</div></blockquote>
</li>
</ul>
<a class="reference internal image-reference" href="../../_images/DS_Hive12.png"><img alt="../../_images/DS_Hive12.png" class="align-center" src="../../_images/DS_Hive12.png" style="width: 3.5in;" /></a>
</div></blockquote>
<ol class="arabic simple" start="14">
<li><p>Click <strong>Verify and Finish Setup</strong>. Your Hive data source will be added and you will land on its <strong>Settings</strong> page. Proceed to specify the settings that apply to your Hive instance:</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>Keytab for Kerberos, if using keytabs</p></li>
<li><p>User impersonation</p></li>
<li><p>Knox URI</p></li>
<li><p>Hive driver (for connecting to CDH)</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you connect to Cloudera, the default JDBC driver for Hive will
fail during configuration. The JDBC driver cannot be changed
until after the connection is established. To resolve this
issue, ensure that you use the following driver:
com.alation.drivers.hive.Hive2Driver.com.alation.drivers.hive.one.kerb_ssl_patched.1.1.1-kerberos-ssl-patched-1.1.1</p>
</div>
</div></blockquote>
<p>Continue to <a class="reference internal" href="HiveDataSourceSettings.html"><span class="doc">Hive Data Source Settings</span></a></p>
</section>
</section>


           </div>
          </div>
          <footer>

  
<div class="navigation-bar">

    <div class="navigation navigation--prev">
        
        <a class="navigation__link" href="ConfigurationBasedHive.html">
            <button class="navigation__button">
                <i class="icon icon-left"></i>
            </button>
            <div class="navigation__title">
                <span class="heading">Previous</span> <br />Configuration-Based Hive
            </div>
        </a>
        
    </div>

    <div class="navigation navigation--next">
        
        <a class="navigation__link" title="Accesskey Alt(+Shift)+p" accesskey="p" href="HiveDataSourceSettings.html">
            <div class="navigation__title">
                <span class="heading">Next</span> <br />Hive Data Source Settings
            </div>
            <button class="navigation__button" title="Accesskey Alt(+Shift)+n" accesskey="n">
                <i class="icon icon-right"></i>
            </button>
        </a>
        
    </div>

</div>


</footer>

        </div>
      </div>

    </section>

    <div class="wy-nav-side wy-nav-secondary">
      <div class="wy-side-scroll">
        <div class="wy-side-scroll__content">
          <div class="wy-menu-secondary">
              <div class="comments">
    <a href="mailto:no-reply-docs-feedback@alation.com?subject=Documentation Feedback on datasources/Hive/DefaultHive&body=Alation%20welcomes%20your%20comments%20on%20typos,%20content%20accuracy%20and%20completeness,%20and%20whether%20you%20found%20this%20page%20helpful.%20You%20will%20not%20receive%20a%20reply%20to%20this%20email.">
        <i class="icon icon-envelope" aria-hidden="true"></i>Request docs changes
    </a>
    <a href="#open-modal-pdf">
        <i class="icon icon-pdf" aria-hidden="true"></i>Download PDF
    </a>
</div>
              
                <p class="wy-menu-secondary-header">On this page</p>
                <ul>
<li><a class="reference internal" href="#">Default Hive</a><ul>
<li><a class="reference internal" href="#prerequisites">Prerequisites</a><ul>
<li><a class="reference internal" href="#open-ports-for-connections">Open Ports for Connections</a></li>
<li><a class="reference internal" href="#collect-setup-information">Collect Setup Information</a></li>
<li><a class="reference internal" href="#qli-information">QLI Information</a></li>
</ul>
</li>
<li><a class="reference internal" href="#adding-hive-data-source-on-default-framework">Adding Hive Data Source on Default Framework</a></li>
</ul>
</li>
</ul>

              
            </div>
          </div>
      </div>
    </div>

  </div>

  
  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->

  
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/clipboard.min.js"></script>
      <script type="text/javascript" src="../../_static/copybutton.js"></script>
      <script type="text/javascript" src="../../_static/js/rtd_sphinx_search.min.js"></script>
  
  <script type="text/javascript" src="../../_static/searchtools.js"></script> <script type="text/javascript" id="idPiwikScriptPlaceholder"></script><script type="text/javascript" src="../../_static/js/main.bundle.js"></script>
  <script type="text/javascript" src="../../_static/js/runtime.bundle.js"></script>

  
  

  
    <div id="open-modal-pdf" class="modal-window">
<div>
  <a href="#" title="Close" class="modal-close">Close</a>
  <h4>Alation Documentation PDF</h4>
  <p>This PDF contains all our documentation and is more than <b>120 MB</b> in size. We recommend using an ethernet or Wi-Fi connection for downloading.</p>
  <br>
  <div class="modal-buttons">
    <a href="https://pdf-docs.alation.com/AlationUserDocs.pdf" class="btn-cta btn-cta--primary" target="_blank">
      Download PDF
    </a>
    <a href="#" title="Close" class="btn-cta">Cancel</a>
  </div>
</div>
  

</body>
</html>
<!--3.6.17-->