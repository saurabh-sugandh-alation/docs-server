
<!DOCTYPE html>
<html lang="" >
<head>
  <meta charset="utf-8"/>
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="book-version"      content=""/>
  <meta name="book-release"      content=""/>
  <meta name="docsearch:name"    content="Alation User Guide" />
  <meta name="docsearch:version" content="" />
  <meta name="docsearch:package_type" content="" />
	<meta name="robots" content="noindex" />

  
  <title>Configuration-Based Hive &mdash; Alation User Guide</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  

  

  
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/main.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/sphinx_collapse.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/rtd_sphinx_search.min.css" type="text/css" />
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="Alation User Guide" href="#"/>
        <link rel="up" title="Hive Data Sources" href="index.html"/>
        <link rel="next" title="Default Hive" href="DefaultHive.html"/>
        <link rel="prev" title="Add Hive Data Sources to Alation" href="AddingHiveDataSourcestoAlation.html"/>

	

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-67846571-1"></script>
	<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());

	gtag('config', 'UA-67846571-1');
	</script>

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<!-- Second Google Analytics tag to assist mapping with mattermost.com visits --> 
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-120238482-1"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'UA-120238482-1');
	</script>


</head>

<body class="wy-body-for-nav" role="document">

  <header>
    <div class="header__container wy-max-content-width">
        <a href="/" class="header__logo">
            <img width="176" src="../../_static/img/logo-alation.svg" alt="Alation" />
        </a>
        <ul class="header__links">
            <li><a href="https://help.alation.com/s/">Alation Help Center</a></li>
        </ul>
    </div>
</header>

  <div class="wy-grid-for-nav wy-max-content-width">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-scroll__content">
          <div class="wy-side-nav-search">
            

            <ul class="sidebartop">
              <li class="nolink search"><div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search this project" aria-label="Search this project" id="searchinput" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
</li>

            </ul>

            
          </div>

          <div class="wy-menu wy-sidebar wy-sidebar--hidden" data-spy="affix" role="navigation" aria-label="main navigation">
            
              
              
              
                  <p class="caption" role="heading"><span class="caption-text">Welcome to Alation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/About/index.html">About Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/CloudAndOnPrem/index.html">Alation Cloud and On-Premise</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/QuickStart/index.html">Quick Start Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/UserProfileandPreferences/index.html">User Profile and Preferences</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/CatalogBasics/index.html">Catalog Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Conversations/index.html">Conversations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Domains/index.html">Domains</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/BestPractices/index.html">Best Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../welcome/Glossary/index.html">Alation Glossary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation Cloud Service</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/StatusPage/index.html">Status Page</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/CloudOverview/index.html">Cloud Service Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/CloudConfiguration/index.html">Configuration for Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud/AlationAgent/index.html">Alation Agent</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation Integration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../integration/AlationAnywhere/index.html">Alation Anywhere</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../integration/AlationConnectedSheets/index.html">Alation Connected Sheets</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installation &amp; Configuration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/ServerInstallation/index.html">Install Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/HighAvailability/index.html">High Availability</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/Runbook/index.html">Runbook for Administrators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/Update/index.html">Update Alation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/BackupandRestore/index.html">Back Up and Restore</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/LineageV2/index.html">Lineage V2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/LineageV3/index.html">Lineage V3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/AlationAnalyticsV2/index.html">Alation Analytics V2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installconfig/AlationContainerService/index.html">Alation Container Service</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../sources/CatalogSources/index.html">Catalog Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/VirtualDataSources/index.html">Virtual Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/Lineage/index.html">Lineage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/APIResources/index.html">API Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/WorkwithCatalogData/index.html">Working with Catalog Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sources/OpenConnectorFramework/index.html">Open Connector Framework</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Data Sources</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../DSConfiguration/index.html">Data Source Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../AddDataSources/index.html">Adding Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ComposeSSOAWSDataSources/index.html">Compose SSO for Amazon Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ComposeSSOAzureDataSources/index.html">Compose SSO for Azure Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../AuthenticationForExtraction/index.html">Authentication for Extraction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CustomDB/index.html">Custom DB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../GBQ/index.html">Google BigQuery</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Hive</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="HiveOverview.html">Hive Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="AddingHiveDataSourcestoAlation.html">Add Hive Data Sources to Alation</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Configuration-Based Hive</a></li>
<li class="toctree-l2"><a class="reference internal" href="DefaultHive.html">Default Hive</a></li>
<li class="toctree-l2"><a class="reference internal" href="HiveDataSourceSettings.html">Hive Data Source Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="MigratingExistingHiveDataSourcestoConfigurationBasedHive.html">Migrating Existing Hive Data Sources to Configuration-Based Hive</a></li>
<li class="toctree-l2"><a class="reference internal" href="HivewithAWSGlueMetastore.html">Hive with AWS Glue Metastore</a></li>
<li class="toctree-l2"><a class="reference internal" href="Hive2onEMRwithQLIoverS3.html">Hive 2 on EMR with QLI over Amazon S3</a></li>
<li class="toctree-l2"><a class="reference internal" href="HiveTezQueryLogIngestionSetup.html">Hive Tez Query Log Ingestion Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="HiveSparkSupport.html">Spark Support for Hive</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">BI Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/AddBISources/index.html">Add BI Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/AddTableauServer/index.html">Add Tableau Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bisources/WorkwithBISources/index.html">Working with BI Sources</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">File System Sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../filesystems/FileSystems/index.html">Add File Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../filesystems/VirtualFileSystems/index.html">Virtual File Systems</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Analysts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/UserAuthenticationForDataSources/index.html">User Authentication for Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/ShareAndAccessQueries/index.html">Share and Access Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/WriteQueries/index.html">Write Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/DevelopQueries/index.html">Develop Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analyst/WorkwithQueryResults/index.html">Work with Query Results</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Data Stewards</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../steward/GovernanceApp/index.html">Governance App</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/PolicyCenter/index.html">Policy Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/Workflow/index.html">Workflow Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/GovernanceDashboard/index.html">Governance Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/StewardshipWorkbench/index.html">Stewardship Workbench</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/AnalyticsStewardship/index.html">Analytics Stewardship</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/Glossary/index.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/ArticlesAndTags/index.html">Articles and Tags</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/ArticleGroups/index.html">Article Groups</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/DataCatalogCustomization/index.html">Customize Your Data Catalog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/DataDocumentation/index.html">Data Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/AutoTitlingandLexicon/index.html">Auto-titling and Lexicon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../steward/SnowflakeTags/index.html">Snowflake Tags</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Alation for Server Administrators</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../admins/CustomizableHomePage/index.html">Customizable Homepage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AdminSettings/index.html">Administrator Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AdditionalConfiguration/index.html">Additional Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/RunbookForAdministrators/index.html">Runbook for Administrators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/AlationAPIs/index.html">Alation APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/How-tos/index.html">How-tos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admins/Troubleshooting/index.html">Troubleshooting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Release Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../releases/releasenotes/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/supportmatrices/index.html">Support Matrices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/endofsupport/index.html">End Of Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/snowflakeclladdon/index.html">Snowflake Parser Add-On</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/fieldnotices/index.html">Important Notices and Security Alerts</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Archived Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../archive/About/index.html">About the Documentation Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/AdminConfig/index.html">Administration and Update Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/ReleaseNotes/index.html">Release Notes Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive/Usage/index.html">Usage and Customization Archive</a></li>
</ul>

              
            
          </div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="wy-nav-top-icon"></i>
        <a href="../../index.html">Alation User Guide</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">

          <div role="navigation" aria-label="breadcrumbs" class="breadcrumbs">
    <a href="../../index.html">Docs</a>
    <span class="separator">&gt;</span>
    <a href="index.html">Hive Data Sources</a>
    <span class="separator">&gt;</span>
    <span>Configuration-Based Hive</span>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody" class="toBeIndexed">
            
  <section id="configuration-based-hive">
<h1>Configuration-Based Hive<a class="headerlink" href="#configuration-based-hive" title="Permalink to this headline">¶</a></h1>
<p><em>Available from V R5 (5.9.x)</em></p>
<section id="enabling-configuration-based-hive">
<h2>Enabling Configuration-Based Hive<a class="headerlink" href="#enabling-configuration-based-hive" title="Permalink to this headline">¶</a></h2>
<p>Users with the Server Admin role can enable Configuration-Based Hive in <strong>Labs/Feature Configuration</strong>:</p>
<ol class="arabic simple">
<li><p>Sign in to Alation as a Server Admin, and on the upper right, click the Settings icon to open the <strong>Admin Settings</strong> page.</p></li>
<li><p>In the <strong>Server Admin</strong> panel, find and click <strong>Labs/Feature Configuration</strong>. The Labs/Feature Configuration tab will open.</p></li>
<li><p>Find the switch <strong>Enable Hive Extraction V2</strong> and toggle it on. Note that this is a one-way action. After it is enabled, this feature cannot be disabled.</p></li>
</ol>
</section>
<section id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<p>To add a Hive data source to Alation on the configuration-based
framework, start with several prerequisites.</p>
<section id="open-ports-for-connections">
<h3>Open Ports for Connections<a class="headerlink" href="#open-ports-for-connections" title="Permalink to this headline">¶</a></h3>
<p>See <a class="reference internal" href="AddingHiveDataSourcestoAlation.html#adding-hive-data-source-ports-for-hive"><span class="std std-ref">Ports for Hive</span></a>.</p>
</section>
<section id="collect-setup-information">
<h3>Collect Setup Information<a class="headerlink" href="#collect-setup-information" title="Permalink to this headline">¶</a></h3>
<section id="general">
<h4>General<a class="headerlink" href="#general" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>Hive version</p></li>
<li><p>Hadoop version</p></li>
<li><p>JDBC URI or hostname and port of your Hive database</p></li>
<li><p>Hive configuration files for upload. See <a class="reference internal" href="#getting-hive-client-configuration-files">Getting Hive Client Configuration Files</a> for details.</p></li>
</ul>
</section>
<section id="kerberos">
<h4>Kerberos<a class="headerlink" href="#kerberos" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>Hive Principal</p></li>
<li><p>Ensure that you have placed the <strong>krb5.conf</strong> file and - if using keytab
authentication - the <code class="docutils literal notranslate"><span class="pre">.keytab</span></code> file alongside your client
configurations. Any files ending in <code class="docutils literal notranslate"><span class="pre">krb5.conf</span></code> and <code class="docutils literal notranslate"><span class="pre">.keytab</span></code> are automatically extracted from the configurations tarball. See <a class="reference internal" href="#getting-hive-client-configuration-files">Getting Hive Client Configuration Files</a> for details on how to collect configuration files.</p></li>
</ul>
</section>
<section id="apache-knox">
<h4>Apache Knox<a class="headerlink" href="#apache-knox" title="Permalink to this headline">¶</a></h4>
<p>Knox is supported for MDE and QLI, replacing the Hive server URI with
the Knox Server URI in the data source configuration. If using Apache
Knox, you will need to provide:</p>
<ul class="simple">
<li><p>Knox WebHDFS URI</p></li>
</ul>
<p>Documentation on this URI, as well as on how Knox routes gateways,
topologies, and clusters using this URI can be found in the <a class="reference external" href="https://knox.apache.org/books/knox-0-9-0/user-guide.html">Knox book</a>.</p>
</section>
<section id="knox-with-ssl">
<h4>Knox with SSL<a class="headerlink" href="#knox-with-ssl" title="Permalink to this headline">¶</a></h4>
<p>If using HTTPS with Knox,</p>
<ul class="simple">
<li><p>You will need to put the <strong>ssl-client.xml</strong> file and  the <strong>.jks</strong> file
specified for the <code class="docutils literal notranslate"><span class="pre">ssl.client.truststore.location</span></code> in
your <strong>ssl-client.xml</strong> alongside your client configurations. See <a class="reference internal" href="#getting-hive-client-configuration-files">Getting Hive Client Configuration Files</a> for details.</p></li>
</ul>
</section>
</section>
<section id="service-account-permissions">
<h3>Service Account Permissions<a class="headerlink" href="#service-account-permissions" title="Permalink to this headline">¶</a></h3>
<p>Make sure the service account has all the required permissions: <a class="reference internal" href="AddingHiveDataSourcestoAlation.html#adding-hive-data-source-database-service-account"><span class="std std-ref">Database Service Account</span></a>.</p>
</section>
<section id="assembling-the-client-configuration-archive">
<h3>Assembling the Client Configuration Archive<a class="headerlink" href="#assembling-the-client-configuration-archive" title="Permalink to this headline">¶</a></h3>
<p>On configuration-based Hive framework, you will need to create and
upload to Alation a client configuration files as a <strong>.TAR</strong> archive.</p>
<p>The archive must include:</p>
<ul>
<li><p>Hive client configuration files for your Hive instance</p></li>
<li><p>If using Kerberos authentication, the <strong>krb5.conf</strong> file</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you use Apache Ambari to download the Hive client configurations, you do not need to add the <strong>krb5.conf</strong> file because it will already be included.</p>
</div>
</li>
<li><p>If using authentication with keytabs, the <strong>.keytab</strong> file</p></li>
<li><p>If using SSL, the <strong>ssl-client.xml</strong> file and  the <strong>.jks</strong> file specified
for the <code class="docutils literal notranslate"><span class="pre">ssl.client.truststore.location</span></code> property in this <strong>ssl-client.xml</strong></p></li>
</ul>
<p>To assemble your client configurations archive for Alation,</p>
<ol class="arabic simple">
<li><p>Download your Hive client configurations: <a class="reference internal" href="#getting-hive-client-configuration-files">Getting Hive Client Configuration Files</a>.</p></li>
<li><p>If applicable, add the <strong>krb5.conf</strong>, the <strong>.keytab</strong>, the <strong>ssl-client.xml</strong>, and the <strong>.jks</strong> files to the directory with the configuration files:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#adding-krb5-conf-to-client-configurations-archive">Adding krb5.conf to Client Configurations Archive</a></p></li>
<li><p><a class="reference internal" href="#adding-ssl-client-xml-and-jks-files-to-client-configurations-archive">Adding ssl-client.xml and .jks Files to Client Configurations Archive</a></p></li>
</ul>
</li>
</ol>
<ol class="arabic simple" start="3">
<li><p>Create a tarball archive having all the required files from this directory.</p></li>
<li><p>SCP the created archive to your machine. This file can now be uploaded to Alation on your Hive source <strong>Settings</strong> page.</p></li>
</ol>
</section>
</section>
<section id="getting-hive-client-configuration-files">
<h2>Getting Hive Client Configuration Files<a class="headerlink" href="#getting-hive-client-configuration-files" title="Permalink to this headline">¶</a></h2>
<p>This section describes how to get client configuration files for Hive
from several popular Hive management systems.</p>
<section id="apache-ambari-hdp-azure-hdinsight">
<h3>Apache Ambari (HDP, Azure HDInsight)<a class="headerlink" href="#apache-ambari-hdp-azure-hdinsight" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p>On your Hadoop manager dashboard, in the left-hand menu, click <strong>Actions</strong> and <strong>Download All Client Configs</strong>:</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/DS_Hive01.png"><img alt="../../_images/DS_Hive01.png" class="align-center" src="../../_images/DS_Hive01.png" style="width: 5.5in;" /></a>
</div></blockquote>
</li>
</ol>
<ol class="arabic simple" start="2">
<li><p>If using Kerberos with keytabs, un-package to a directory and add the keytab file to the archive.</p></li>
</ol>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>You do not need to add the <strong>krb5.conf</strong> because it should be already in the archive you download.</p>
</div>
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p>If using SSL, un-package to a directory (if you haven’t done so) and add the <strong>ssl-client.xml</strong> to the archive: <a class="reference internal" href="#adding-ssl-client-xml-and-jks-files-to-client-configurations-archive">Adding ssl-client.xml and .jks Files to Client Configurations Archive</a></p></li>
<li><p>Create a <strong>.TAR</strong> archive from this directory.</p></li>
</ol>
</section>
<section id="cloudera-manager-cdh">
<h3>Cloudera Manager (CDH)<a class="headerlink" href="#cloudera-manager-cdh" title="Permalink to this headline">¶</a></h3>
<p>To download Hive configurations from Cloudera Manager,</p>
<ol class="arabic">
<li><p>After logging in, on the cluster dashboard page, on the left, open the dropdown menu next to the cluster name then click View Client Configuration URLs:</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/DS_Hive02.png"><img alt="../../_images/DS_Hive02.png" class="align-center" src="../../_images/DS_Hive02.png" style="width: 5.5in;" /></a>
</div></blockquote>
</li>
</ol>
<ol class="arabic" start="2">
<li><p>In the dialog that opens, click the links for HIVE, HDFS, and YARN. This will start three separate downloads:</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/DS_Hive10.png"><img alt="../../_images/DS_Hive10.png" class="align-center" src="../../_images/DS_Hive10.png" style="width: 5.5in;" /></a>
</div></blockquote>
</li>
<li><p>After the downloads have completed, unpack all files and merge the contents into a single directory.</p></li>
<li><p>If using Kerberos, add the Kerberos configuration file <strong>/etc/krb5.conf</strong> to this directory. If using keytabs, add the service account keytab file here, too: <a class="reference internal" href="#adding-krb5-conf-to-client-configurations-archive">Adding krb5.conf to Client Configurations Archive</a></p></li>
<li><p>If using SSL, add the <strong>ssl-client.xml</strong> and the <strong>.jks</strong> files to this directory: <a class="reference internal" href="#adding-ssl-client-xml-and-jks-files-to-client-configurations-archive">Adding ssl-client.xml and .jks Files to Client Configurations Archive</a>.</p></li>
<li><p>Create a tarball file from this directory. This resulting tarball can now be uploaded to Alation on your Hive source Settings page.</p></li>
</ol>
<section id="linux-commands-step-3-no-kerberos-no-ssl">
<h4>Linux commands Step 3 (no Kerberos, no SSL):<a class="headerlink" href="#linux-commands-step-3-no-kerberos-no-ssl" title="Permalink to this headline">¶</a></h4>
<a class="reference internal image-reference" href="../../_images/DS_Hive03.png"><img alt="../../_images/DS_Hive03.png" class="align-center" src="../../_images/DS_Hive03.png" style="width: 5.5in;" /></a>
</section>
</section>
<section id="hive-on-emr">
<h3>Hive on EMR<a class="headerlink" href="#hive-on-emr" title="Permalink to this headline">¶</a></h3>
<p>EMR has no management software, so configurations must be gathered manually.</p>
<p>To get configurations for EMR,</p>
<ol class="arabic simple">
<li><p>SSH to your cluster and form the configurations tarball file. If applicable, add:</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p><strong>krb5.conf</strong> for Kerberos authentication</p></li>
<li><p>the keytab for the service account</p></li>
<li><p>the <strong>ssl-client.xml</strong></p></li>
</ul>
<p><strong>Linux commands for EMR</strong>:</p>
<a class="reference internal image-reference" href="../../_images/DS_Hive04.png"><img alt="../../_images/DS_Hive04.png" class="align-center" src="../../_images/DS_Hive04.png" style="width: 5.5in;" /></a>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>After the first step is completed, SCP the configurations tarball (<strong>emr_configs.tgz</strong> in this example) to your machine. This file can now be uploaded to Alation on your Hive source Settings page.</p></li>
</ol>
</section>
<section id="mapr">
<h3>MapR<a class="headerlink" href="#mapr" title="Permalink to this headline">¶</a></h3>
<p>MapR configurations are spread out, and there is no way to download them using the manager UI.</p>
<p>To get Hive configuration files from MapR,</p>
<ol class="arabic simple">
<li><p>SSH to your manager instance and and form the configurations tarball file. If applicable, add:</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p><strong>krb5.conf</strong> for Kerberos authentication</p></li>
<li><p>the keytab for the service account</p></li>
<li><p>the <strong>ssl-client.xml</strong></p></li>
</ul>
<p><strong>Linux commands for MapR (with krb5.conf)</strong>:</p>
<a class="reference internal image-reference" href="../../_images/DS_Hive05.png"><img alt="../../_images/DS_Hive05.png" class="align-center" src="../../_images/DS_Hive05.png" style="width: 5.5in;" /></a>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>After the first step is completed, SCP the configurations tarball (client_configs.tgz in this example) to your machine. This file can now be uploaded to Alation on your Hive source Settings page.</p></li>
</ol>
</section>
<section id="adding-krb5-conf-to-client-configurations-archive">
<h3>Adding krb5.conf to Client Configurations Archive<a class="headerlink" href="#adding-krb5-conf-to-client-configurations-archive" title="Permalink to this headline">¶</a></h3>
<p>If using Kerberos, make sure to include the <strong>krb5.conf</strong> file to your Hive
client configurations archive. If you use Apache Ambari to
download the client configurations, you do not need to add
the <strong>krb5.conf</strong> because it will already be included in the download.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Using Kerberos authentication requires pre-configuration.
Without this preconfiguration, the <strong>krb5.conf</strong> file will not exist in <strong>/data/site-data/</strong>.</p>
</div>
</section>
<section id="adding-ssl-client-xml-and-jks-files-to-client-configurations-archive">
<h3>Adding ssl-client.xml and .jks Files to Client Configurations Archive<a class="headerlink" href="#adding-ssl-client-xml-and-jks-files-to-client-configurations-archive" title="Permalink to this headline">¶</a></h3>
<p>If using SSL to connect to your Hive data source, you need to add
the <strong>ssl-client.xml</strong> file and the <strong>.jks</strong> file specified in
the <code class="docutils literal notranslate"><span class="pre">ssl.client.truststore.location</span></code> property to your client configurations
archive:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">ssl.client.truststore.location</span></code> often lists an absolute path on the
filesystem; however, Alation isolates execution of its Hive engine:
we only pay attention to the filename of the truststore.</p>
<p>Example</p>
<p>Given a location of <strong>/etc/security/awesomeCorp.jks</strong> for the <code class="docutils literal notranslate"><span class="pre">ssl.client.truststore.location</span></code> property, Alation will look for, and use, the first file named <strong>awesomeCorp.jks</strong> that was uploaded with the client configuration archive.</p>
</li>
<li><p>Ensure that password specified for the
<code class="docutils literal notranslate"><span class="pre">ssl.client.truststore.password</span></code> property is the correct password for
the file listed in <code class="docutils literal notranslate"><span class="pre">ssl.client.truststore.location</span></code>.</p></li>
</ul>
<section id="webhdfs">
<h4>WebHDFS<a class="headerlink" href="#webhdfs" title="Permalink to this headline">¶</a></h4>
<p>The <strong>ssl-client.xml</strong> is usually found in the <strong>/etc/hadoop/conf</strong> directory. The
location of the <strong>.jks</strong> file is usually specified in the
property <code class="docutils literal notranslate"><span class="pre">ssl.client.truststore.location.</span></code></p>
<section id="sample-ssl-client-xml-for-webhdfs">
<h5>Sample <code class="docutils literal notranslate"><span class="pre">ssl-client.xml</span></code> for WebHDFS<a class="headerlink" href="#sample-ssl-client-xml-for-webhdfs" title="Permalink to this headline">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">configuration</span><span class="o">&gt;</span>

     <span class="o">&lt;</span><span class="nb">property</span><span class="o">&gt;</span>

        <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="n">ssl</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">truststore</span><span class="o">.</span><span class="n">location</span><span class="o">&lt;/</span><span class="n">name</span><span class="o">&gt;</span>

        <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="n">truststore</span><span class="o">.</span><span class="n">jks</span><span class="o">&lt;/</span><span class="n">value</span><span class="o">&gt;</span>

        <span class="o">&lt;/</span><span class="nb">property</span><span class="o">&gt;</span>

     <span class="o">&lt;</span><span class="nb">property</span><span class="o">&gt;</span>

        <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="n">ssl</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">truststore</span><span class="o">.</span><span class="n">password</span><span class="o">&lt;/</span><span class="n">name</span><span class="o">&gt;</span>

        <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="n">changeit</span><span class="o">&lt;/</span><span class="n">value</span><span class="o">&gt;</span>

        <span class="o">&lt;/</span><span class="nb">property</span><span class="o">&gt;</span>

     <span class="o">&lt;</span><span class="nb">property</span><span class="o">&gt;</span>

        <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="n">ssl</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">truststore</span><span class="o">.</span><span class="n">type</span><span class="o">&lt;/</span><span class="n">name</span><span class="o">&gt;</span>

        <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="n">jks</span><span class="o">&lt;/</span><span class="n">value</span><span class="o">&gt;</span>

        <span class="o">&lt;/</span><span class="nb">property</span><span class="o">&gt;</span>

 <span class="o">&lt;/</span><span class="n">configuration</span><span class="o">&gt;</span>
</pre></div>
</div>
</section>
</section>
<section id="ssl-knox">
<h4>SSL Knox<a class="headerlink" href="#ssl-knox" title="Permalink to this headline">¶</a></h4>
<p>The <strong>ssl-client.xml</strong> is usually found in the <strong>/etc/hadoop/conf</strong> directory.
The location of the <strong>.jks</strong> file usually is
<strong>/var/lib/knox/data-2.6.5.0-292/security/keystores</strong> in the Hadoop
cluster.</p>
<section id="sample-ssl-client-xml-for-ssl-knox">
<h5>Sample <strong>ssl-client.xml</strong> for SSL Knox<a class="headerlink" href="#sample-ssl-client-xml-for-ssl-knox" title="Permalink to this headline">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">configuration</span><span class="o">&gt;</span>

     <span class="o">&lt;</span><span class="nb">property</span><span class="o">&gt;</span>

         <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="n">ssl</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">truststore</span><span class="o">.</span><span class="n">location</span><span class="o">&lt;/</span><span class="n">name</span><span class="o">&gt;</span>

         <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="n">gateway</span><span class="o">.</span><span class="n">jks</span><span class="o">&lt;/</span><span class="n">value</span><span class="o">&gt;</span>

         <span class="o">&lt;/</span><span class="nb">property</span><span class="o">&gt;</span>

      <span class="o">&lt;</span><span class="nb">property</span><span class="o">&gt;</span>

          <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="n">ssl</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">truststore</span><span class="o">.</span><span class="n">password</span><span class="o">&lt;/</span><span class="n">name</span><span class="o">&gt;</span>

          <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="n">admin</span><span class="o">&lt;/</span><span class="n">value</span><span class="o">&gt;</span>

          <span class="o">&lt;/</span><span class="nb">property</span><span class="o">&gt;</span>

      <span class="o">&lt;</span><span class="nb">property</span><span class="o">&gt;</span>

          <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="n">ssl</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">truststore</span><span class="o">.</span><span class="n">type</span><span class="o">&lt;/</span><span class="n">name</span><span class="o">&gt;</span>

          <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="n">jks</span><span class="o">&lt;/</span><span class="n">value</span><span class="o">&gt;</span>

          <span class="o">&lt;/</span><span class="nb">property</span><span class="o">&gt;</span>

<span class="o">&lt;/</span><span class="n">configuration</span><span class="o">&gt;</span>
</pre></div>
</div>
</section>
</section>
</section>
</section>
<section id="adding-configuration-based-hive-to-alation">
<h2>Adding Configuration-Based Hive to Alation<a class="headerlink" href="#adding-configuration-based-hive-to-alation" title="Permalink to this headline">¶</a></h2>
<p>To add data sources, you need the <em>Server Admin</em> role in Alation.</p>
<p>To add a Hive data source on configuration-based framework,</p>
<ol class="arabic simple">
<li><p>Click the <strong>Sources</strong> icon on the main toolbar in Alation to open the <strong>Sources</strong> page.</p></li>
<li><p>On the Sources page that opens, in the upper-right corner, click <strong>Add</strong> and select <strong>Data Source</strong>. This brings up the <strong>Add a Data Source</strong> wizard:</p></li>
</ol>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/DS_Hive06.png"><img alt="../../_images/DS_Hive06.png" class="align-center" src="../../_images/DS_Hive06.png" style="width: 5.5in;" /></a>
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p>In the first screen of the Add a Data Source Wizard, enter the information for your new Data Source:</p>
<ul class="simple">
<li><p><strong>Title</strong></p></li>
<li><p><strong>Other Data Source Admins</strong> you are automatically assigned as a Data
Source Admin for the data source you are adding. However, you can add
other users to manage the settings of this data source.
Hover over <strong>Assign Data Source Admins</strong> section to reveal the <strong>Add</strong> button,
and click it to add other admins.</p></li>
<li><p><strong>Who is setting this up?</strong> - Select an option.</p></li>
</ul>
</li>
<li><p>Click <strong>Continue Setup</strong> to continue to the next step of the wizard:</p></li>
</ol>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/DS_Hive07.png"><img alt="../../_images/DS_Hive07.png" class="align-center" src="../../_images/DS_Hive07.png" style="width: 3.5in;" /></a>
</div></blockquote>
<ol class="arabic" start="5">
<li><p>Under <strong>Connection</strong>, select <strong>Hive2</strong> as the <strong>Database Type</strong> from the database list.</p></li>
<li><p>Enter the network connection details. There are two options to do that for Hive:</p>
<ul class="simple">
<li><p>Providing the hostname and port separately</p></li>
<li><p>Providing the host URI in the JDBC format</p></li>
</ul>
<p>You can choose the format by selecting or clearing the <strong>Enter JDBC
URI</strong> checkbox on the upper right. By default, this checkbox is clear.
Leave this checkbox clear to specify the hostname (or IP address) and
the port number separately. Select <strong>Use Default</strong> checkbox for <strong>Port</strong> if you
want to use the default port to connect:</p>
<a class="reference internal image-reference" href="../../_images/DS_Hive08.png"><img alt="../../_images/DS_Hive08.png" class="align-center" src="../../_images/DS_Hive08.png" style="width: 4.5in;" /></a>
<p>If you want to use the JDBC format, select the <strong>Enter JDBC
URI</strong> checkbox. Selecting it will change the input fields to accept the
URI in the JDBC format: <strong>hive2://host:port/</strong></p>
<p>You can use either an IP address or hostname for host:</p>
<p>Example: <strong>hive2://10.11.21.108:1000/</strong></p>
<a class="reference internal image-reference" href="../../_images/DS_Hive09.png"><img alt="../../_images/DS_Hive09.png" class="align-center" src="../../_images/DS_Hive09.png" style="width: 4.5in;" /></a>
</li>
</ol>
<p>7.  From <strong>Hive Version</strong> and <strong>Hadoop Version</strong> lists, select the Hive and Hadoop versions you are using.
8. If using Knox, in the <strong>Knox URI</strong> field, specify the Knox URI for your Hive database.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note the format for the Knox URI:</p>
<p><strong>https://{gateway-host}:{gateway-port}/{gateway-path}/{cluster-name}</strong></p>
<p>Example:</p>
<p><strong>https://ip-10-11-21-221.alationdata.com:8443/gateway/default</strong></p>
</div>
</div></blockquote>
<ol class="arabic simple" start="9">
<li><p>If using Kerberos, select the <strong>Kerberos</strong> checkbox. This action will reveal the Kerberos-specific fields:</p>
<ul class="simple">
<li><p>Hive Principal</p></li>
</ul>
</li>
<li><p>If your Hive metastore is on AWS Glue, select the <strong>Use AWS Glue</strong> checkbox for Metastore. This action will reveal several additional settings. You will need to provide:</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p><strong>Access Key ID</strong> Enter the access ID of the service account for AWS
Glue.</p></li>
<li><p><strong>Access Key Secret</strong> Enter the secret key of the service account for AWS
Glue.</p></li>
<li><p><strong>AWS Region</strong> The default value is <strong>us-east-1</strong>. If the value of the AWS
Region is other than the default, enter values as mentioned
under Region column at <a class="reference external" href="https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Concepts.RegionsAndAvailabilityZones.html">aws region documentation</a></p></li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="11">
<li><p>Under <strong>Catalog</strong>, enter the <strong>Database Name</strong>, <strong>Description</strong>, and select the required <strong>Privacy</strong> setting (Public or Private).</p></li>
<li><p>Click <strong>Save and Continue</strong> to go to the next step that requires the service account information.</p></li>
</ol>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can also <strong>Continue with Errors</strong> and troubleshoot later.</p>
</div>
</div></blockquote>
<ol class="arabic simple" start="13">
<li><p>On the next wizard screen that opens, provide the <strong>Username</strong> and <strong>Password</strong> for your Hive Service Account. For details on the required grants, see <a class="reference internal" href="AddingHiveDataSourcestoAlation.html#adding-hive-data-source-database-service-account"><span class="std std-ref">Database Service Account</span></a>.</p></li>
<li><p>Click <strong>Save and Continue</strong>. This will take you to the next step that sets up QLI. Skip this step. Configuration-based Hive reads the log directories from the uploaded configuration files and you do not have to provide this information unless:</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>You are planning to use the <strong>data uploader</strong> functionality</p></li>
</ul>
<p>These parameters can be provided later on the QLI tab of the data source <strong>Settings</strong>.</p>
</div></blockquote>
<ol class="arabic" start="15">
<li><p>Click <strong>Verify and Finish Setup</strong>. Your Hive data source will be added and you will land on its <strong>Settings</strong> page.</p></li>
<li><p>Upload your Hive client configurations archive: on the <strong>Settings</strong> &gt; <strong>General Settings</strong> page, find the <strong>Configuration Uploader</strong> section then click <strong>Upload Configurations</strong> to add the Hive configurations to Alation:</p>
<a class="reference internal image-reference" href="../../_images/DS_Hive11.png"><img alt="../../_images/DS_Hive11.png" class="align-center" src="../../_images/DS_Hive11.png" style="width: 4.5in;" /></a>
</li>
<li><p>After configurations are uploaded, you can proceed with specifying other settings on this page:</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>Keytab for Kerberos</p></li>
<li><p>User impersonation</p></li>
<li><p>Knox URI</p></li>
<li><p>Hive driver</p></li>
<li><p>QLI parameters, if:</p>
<ul>
<li><p>You are planning to use the data uploader functionality</p></li>
<li><p>You are using Hive on EMR with Amazon S3 connection type</p></li>
</ul>
</li>
</ul>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>If you are connecting to Cloudera, the JDBC driver pre-selected by default  will
fail during configuration. To resolve this issue, ensure that you use the following driver:
<strong>com.alation.drivers.hive.Hive2Driver.com.alation.drivers.hive.one.kerb_ssl_patched.1.1.1-kerberos-ssl-patched-1.1.1</strong></p>
</div>
</div></blockquote>
</section>
<section id="troubleshooting-configuration-based-hive">
<h2>Troubleshooting Configuration-Based Hive<a class="headerlink" href="#troubleshooting-configuration-based-hive" title="Permalink to this headline">¶</a></h2>
<p><em>Available from release V R5 (5.9.x)</em></p>
<p>If the Hive by configurations upload is turned on, in case of
errors during your Hive data source setup, you will see detailed error
descriptions with error codes in Alation UI. Troubleshoot based
on these descriptions.</p>
<section id="specific-errors">
<h3>Specific Errors<a class="headerlink" href="#specific-errors" title="Permalink to this headline">¶</a></h3>
<p>Refer to this table for specific errors you may get during QLI:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 36%" />
<col style="width: 41%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Hive Setup</p></th>
<th class="head"><p>Error Message</p></th>
<th class="head"><p>Troubleshooting Steps</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>HDP + Hive +
MapReduce</p>
<p>HDP + Hive + Tez</p>
<p>EMR + Hive +
MapReduce</p>
</td>
<td><p>error[HVE201]:
Permission denied</p>
<p>Permission to
read the remote file
or directory was
denied. HDFS (and
MapRFS) implement
traditional
POSIX
compliant
permission
models similar to
that found on Linux
and Mac operating
systems.
Consult your
Hadoop system
administrator
about these
access permissions.</p>
<p>Additional
Information</p>
<p>Directory: /ats/done
Issue:
Permission denied:
user=hive,
access=READ_EXECUTE,
inode=”/ats/done”:
yarn:hadoop:drwx——</p>
</td>
<td><p>This error means the
service account you
are using does not
have the required
READ_EXECUTE
permission for the
log
directory <strong>/ats/done</strong></p>
<p>This directory is
specified in
the yarn-site.xml file
in the Hive
client configurations
file.
Tez uses this
directory for storing
logs, but it may be
present in
the yarn-site.xml even
if you are not using
Tez.</p>
<p>To troubleshoot:</p>
<p>1. Check that this
directory exists on
your HDP cluster, and
if it does not,
create it.
Alation expects it to
exist even if it’s
empty.</p>
<p>2. Grant the Hive
service account the
READ_EXECUTE
permissions
for <strong>/ats/done</strong> directory.</p>
<ol class="arabic simple" start="3">
<li><p>Perform QLI again.</p></li>
</ol>
</td>
</tr>
</tbody>
</table>
</section>
</section>
</section>


           </div>
          </div>
          <footer>

  
<div class="navigation-bar">

    <div class="navigation navigation--prev">
        
        <a class="navigation__link" href="AddingHiveDataSourcestoAlation.html">
            <button class="navigation__button">
                <i class="icon icon-left"></i>
            </button>
            <div class="navigation__title">
                <span class="heading">Previous</span> <br />Add Hive Data Sources to Alation
            </div>
        </a>
        
    </div>

    <div class="navigation navigation--next">
        
        <a class="navigation__link" title="Accesskey Alt(+Shift)+p" accesskey="p" href="DefaultHive.html">
            <div class="navigation__title">
                <span class="heading">Next</span> <br />Default Hive
            </div>
            <button class="navigation__button" title="Accesskey Alt(+Shift)+n" accesskey="n">
                <i class="icon icon-right"></i>
            </button>
        </a>
        
    </div>

</div>


</footer>

        </div>
      </div>

    </section>

    <div class="wy-nav-side wy-nav-secondary">
      <div class="wy-side-scroll">
        <div class="wy-side-scroll__content">
          <div class="wy-menu-secondary">
              <div class="comments">
    <a href="mailto:no-reply-docs-feedback@alation.com?subject=Documentation Feedback on datasources/Hive/ConfigurationBasedHive&body=Alation%20welcomes%20your%20comments%20on%20typos,%20content%20accuracy%20and%20completeness,%20and%20whether%20you%20found%20this%20page%20helpful.%20You%20will%20not%20receive%20a%20reply%20to%20this%20email.">
        <i class="icon icon-envelope" aria-hidden="true"></i>Request docs changes
    </a>
    <a href="#open-modal-pdf">
        <i class="icon icon-pdf" aria-hidden="true"></i>Download PDF
    </a>
</div>
              
                <p class="wy-menu-secondary-header">On this page</p>
                <ul>
<li><a class="reference internal" href="#">Configuration-Based Hive</a><ul>
<li><a class="reference internal" href="#enabling-configuration-based-hive">Enabling Configuration-Based Hive</a></li>
<li><a class="reference internal" href="#prerequisites">Prerequisites</a><ul>
<li><a class="reference internal" href="#open-ports-for-connections">Open Ports for Connections</a></li>
<li><a class="reference internal" href="#collect-setup-information">Collect Setup Information</a><ul>
<li><a class="reference internal" href="#general">General</a></li>
<li><a class="reference internal" href="#kerberos">Kerberos</a></li>
<li><a class="reference internal" href="#apache-knox">Apache Knox</a></li>
<li><a class="reference internal" href="#knox-with-ssl">Knox with SSL</a></li>
</ul>
</li>
<li><a class="reference internal" href="#service-account-permissions">Service Account Permissions</a></li>
<li><a class="reference internal" href="#assembling-the-client-configuration-archive">Assembling the Client Configuration Archive</a></li>
</ul>
</li>
<li><a class="reference internal" href="#getting-hive-client-configuration-files">Getting Hive Client Configuration Files</a><ul>
<li><a class="reference internal" href="#apache-ambari-hdp-azure-hdinsight">Apache Ambari (HDP, Azure HDInsight)</a></li>
<li><a class="reference internal" href="#cloudera-manager-cdh">Cloudera Manager (CDH)</a><ul>
<li><a class="reference internal" href="#linux-commands-step-3-no-kerberos-no-ssl">Linux commands Step 3 (no Kerberos, no SSL):</a></li>
</ul>
</li>
<li><a class="reference internal" href="#hive-on-emr">Hive on EMR</a></li>
<li><a class="reference internal" href="#mapr">MapR</a></li>
<li><a class="reference internal" href="#adding-krb5-conf-to-client-configurations-archive">Adding krb5.conf to Client Configurations Archive</a></li>
<li><a class="reference internal" href="#adding-ssl-client-xml-and-jks-files-to-client-configurations-archive">Adding ssl-client.xml and .jks Files to Client Configurations Archive</a><ul>
<li><a class="reference internal" href="#webhdfs">WebHDFS</a><ul>
<li><a class="reference internal" href="#sample-ssl-client-xml-for-webhdfs">Sample <code class="docutils literal notranslate"><span class="pre">ssl-client.xml</span></code> for WebHDFS</a></li>
</ul>
</li>
<li><a class="reference internal" href="#ssl-knox">SSL Knox</a><ul>
<li><a class="reference internal" href="#sample-ssl-client-xml-for-ssl-knox">Sample <strong>ssl-client.xml</strong> for SSL Knox</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#adding-configuration-based-hive-to-alation">Adding Configuration-Based Hive to Alation</a></li>
<li><a class="reference internal" href="#troubleshooting-configuration-based-hive">Troubleshooting Configuration-Based Hive</a><ul>
<li><a class="reference internal" href="#specific-errors">Specific Errors</a></li>
</ul>
</li>
</ul>
</li>
</ul>

              
            </div>
          </div>
      </div>
    </div>

  </div>

  
  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->

  
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/clipboard.min.js"></script>
      <script type="text/javascript" src="../../_static/copybutton.js"></script>
      <script type="text/javascript" src="../../_static/js/rtd_sphinx_search.min.js"></script>
  
  <script type="text/javascript" src="../../_static/searchtools.js"></script> <script type="text/javascript" id="idPiwikScriptPlaceholder"></script><script type="text/javascript" src="../../_static/js/main.bundle.js"></script>
  <script type="text/javascript" src="../../_static/js/runtime.bundle.js"></script>

  
  

  
    <div id="open-modal-pdf" class="modal-window">
<div>
  <a href="#" title="Close" class="modal-close">Close</a>
  <h4>Alation Documentation PDF</h4>
  <p>This PDF contains all our documentation and is more than <b>120 MB</b> in size. We recommend using an ethernet or Wi-Fi connection for downloading.</p>
  <br>
  <div class="modal-buttons">
    <a href="https://pdf-docs.alation.com/AlationUserDocs.pdf" class="btn-cta btn-cta--primary" target="_blank">
      Download PDF
    </a>
    <a href="#" title="Close" class="btn-cta">Cancel</a>
  </div>
</div>
  

</body>
</html>
<!--3.6.17-->